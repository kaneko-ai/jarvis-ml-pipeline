uv : warning: The top-level linter se
ttings are deprecated in favour of th
eir counterparts in the `lint` sectio
n. Please update the following option
s in `pyproject.toml`:
発生場所 行:1 文字:1
+ uv run ruff check jarvis_core tests
 > ruff_result.txt 2>&1 ; Get-Cont ..
.
+ ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~~~~~~~~~~~~~
    + CategoryInfo          : NotSpe 
   cified: (warning: The to...yproj  
  ect.toml`::String) [], RemoteExc   
 eption
    + FullyQualifiedErrorId : Native 
   CommandError
 
  - 'ignore' -> 'lint.ignore'
  - 'select' -> 'lint.select'
  - 'isort' -> 'lint.isort'
  - 'per-file-ignores' -> 'lint.per-f
ile-ignores'
W292 [*] No newline at end of file
  --> jarvis_core\__init__.py:63:31
   |
61 |         return importlib.import_module(".active_learning", __name__)
62 |
63 |     raise AttributeError(name)
   |                               ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\active_learning\__init__.py:33:2
   |
31 |     "RecallStoppingCriterion",
32 |     "BudgetStoppingCriterion",
33 | ]
   |  ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\active_learning\cli.py:228:73
    |
227 |     if args.json:
228 |         print(json.dumps(stats.to_dict(), ensure_ascii=False, indent=2))
    |                                                                         ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\active_learning\engine.py:381:27
    |
379 |     def state(self) -> ALState:
380 |         """Get current engine state."""
381 |         return self._state
    |                           ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\active_learning\query.py:220:24
    |
218 |                 break
219 |
220 |         return selected
    |                        ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\active_learning\stopping.py:213:54
    |
211 |         op = "AND" if self._require_all else "OR"
212 |         names = [c.name for c in self._criteria]
213 |         return f"Composite({op}: {', '.join(names)})"
    |                                                      ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\advanced\__init__.py:95:2
   |
93 |     "get_hipaa_checker",
94 |     "get_team_workspace",
95 | ]
   |  ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
    --> jarvis_core\advanced\features.py:1308:48
     |
1306 |     tw = TeamWorkspace()
1307 |     ws = tw.create_workspace("Research Team", ["alice", "bob"])
1308 |     print(f"  Created workspace: {ws['name']}")
     |                                                ^
     |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\agents.py:263:10
    |
261 |             citations=[],
262 |             meta={"source": "job_assistant_stub"},
263 |         )
    |          ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\agents\orchestrator.py:549:57
    |
547 |     reviewer = ReviewAgent()
548 |     review = reviewer.simulate_review({"abstract": "Short abstract."})
549 |     print(f"Recommendation: {review['recommendation']}")
    |                                                         ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\ai\features.py:654:61
    |
652 |     generator = CitationGenerator()
653 |     print(f"APA: {generator.generate(paper, 'apa')}")
654 |     print(f"BibTeX:\n{generator.generate(paper, 'bibtex')}")
    |                                                             ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\ai\gemini_client.py:236:75
    |
235 |     print("\n=== Q&A ===")
236 |     print(client.answer_question(paper, "What is the main contribution?"))
    |                                                                           ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\analysis\__init__.py:31:2
   |
29 |     "CitationNode",
30 |     "CitationStats",
31 | ]
   |  ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\analysis\citation_network.py:218:32
    |
216 |             lines.append(f"- {year}: {count} papers")
217 |
218 |         return "\n".join(lines)
    |                                ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\analysis\citation_stance.py:361:26
    |
359 |     }
360 |
361 |     return results, stats
    |                          ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\analysis\comparison.py:216:23
    |
214 | - **Methods distribution**: {method_counts}
215 | """
216 |         return summary
    |                       ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\analysis\contradiction.py:141:32
    |
139 |         # 蜈ｱ騾夊ｪ槭′2縺､莉･荳翫≠繧後・蜷後§繝医ヴ繝・け
140 |         common = words_a & words_b
141 |         return len(common) >= 2
    |                                ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\analysis\contradiction_detector.py:218:70
    |
216 |     """
217 |     detector = ContradictionDetector()
218 |     return detector.detect_all(claims, evidence_list, stance_results)
    |                                                                      ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\analysis\evidence_mapper.py:164:18
    |
162 |                 "offset": match.start(),
163 |             }
164 |         return {}
    |                  ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\analysis\grade_system.py:458:30
    |
456 |     }
457 |
458 |     return assessments, stats
    |                              ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\analysis\knowledge_graph.py:227:10
    |
225 |             "node_types": node_types,
226 |             "edge_types": edge_types,
227 |         }
    |          ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\analysis\review_generator.py:226:10
    |
224 |             limitations=["Limited scope", "Need for replication"],
225 |             future_directions=["Expand sample size", "Long-term studies"],
226 |         )
    |          ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\api\__init__.py:15:2
   |
13 |     "ArxivClient",
14 |     "ArxivPaper",
15 | ]
   |  ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\api\arxiv.py:85:62
   |
84 |         core_papers = self._core_client.search(full_query, max_results=max_results)
85 |         return [ArxivPaper.from_core(p) for p in core_papers]
   |                                                              ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\api\external.py:211:10
    |
209 |                 "timestamp": datetime.now(timezone.utc).isoformat(),
210 |             },
211 |         )
    |          ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\api\pubmed.py:214:33
    |
212 |         """讀懃ｴ｢縺ｨ蜿門ｾ励ｒ荳諡ｬ螳溯｡・"""
213 |         pmids = self.search(query, max_results)
214 |         return self.fetch(pmids)
    |                                 ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\api\run_api.py:156:23
    |
154 |         display["bundle_complete"] = all(display["bundle_status"].values())
155 |
156 |         return display
    |                       ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\api\sla.py:246:27
    |
244 |         ]
245 |
246 |         return False, None
    |                           ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\app.py:458:20
    |
456 |     listener.start()
457 |
458 |     return listener
    |                    ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\artifacts\__init__.py:27:2
   |
25 |     "Claim",
26 |     "ClaimType",
27 | ]
   |  ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\artifacts\adapters.py:220:6
    |
218 |         provenance=Provenance(source_modules=[module_name]),
219 |         raw_data=result if isinstance(result, dict) else {"result": result},
220 |     )
    |      ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\artifacts\claim_set.py:120:10
    |
118 |             notes=data.get("notes", ""),
119 |             gaps=data.get("gaps", []),
120 |         )
    |          ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\artifacts\schema.py:232:6
    |
230 |         metrics=metrics or {},
231 |         provenance=provenance,
232 |     )
    |      ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\audio_script.py:159:28
    |
157 |     )
158 |
159 |     return "\n".join(lines)
    |                            ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
 --> jarvis_core\audit\__init__.py:5:51
  |
3 | from .report import AuditReport, generate_audit_report
4 |
5 | __all__ = ["generate_audit_report", "AuditReport"]
  |                                                   ^
  |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\audit\report.py:154:28
    |
152 |             lines.append(f"- {w}")
153 |
154 |     return "\n".join(lines)
    |                            ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\auth\__init__.py:17:2
   |
15 |     "get_api_key_manager",
16 |     "require_api_key",
17 | ]
   |  ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\auth\api_key.py:269:21
    |
267 |         return wrapper
268 |
269 |     return decorator
    |                     ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\autonomous_loop.py:179:33
    |
177 |         return "莠ｺ髢謎ｻ句・荳崎ｦ・
178 |
179 |     return "\n".join(all_points)
    |                                 ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
 --> jarvis_core\bibtex.py:8:69
  |
6 | from .bibtex_utils import _escape_bibtex, export_bibtex, format_bibtex_entry
7 |
8 | __all__ = ["export_bibtex", "format_bibtex_entry", "_escape_bibtex"]
  |                                                                     ^
  |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\bibtex\__init__.py:17:86
   |
15 |     _escape_bibtex = None
16 |
17 | __all__ = ["BibTeXFetcher", "export_bibtex", "format_bibtex_entry", "_escape_bibtex"]
   |                                                                                      ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\bibtex\fetcher.py:154:42
    |
152 |     def list_entries(self) -> list[str]:
153 |         """蜈ｨ繧ｨ繝ｳ繝医Μ繧ｭ繝ｼ繧貞叙蠕・"""
154 |         return list(self._entries.keys())
    |                                          ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\bibtex_utils.py:122:57
    |
120 |     entries = [format_bibtex_entry(ref) for ref in refs]
121 |
122 |     return "\n".join(header) + "\n".join(entries) + "\n"
    |                                                         ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\browser\__init__.py:19:2
   |
17 |     "BrowserSecurityManager",
18 |     "BrowserSubagent",
19 | ]
   |  ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
 --> jarvis_core\browser\agents\__init__.py:7:74
  |
5 | from jarvis_core.browser.agents.pubmed import PubMedBrowserAgent
6 |
7 | __all__ = ["ArxivBrowserAgent", "PDFDownloadAgent", "PubMedBrowserAgent"]
  |                                                                          ^
  |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\browser\agents\arxiv.py:46:52
   |
45 |     async def get_pdf_url(self, arxiv_id: str) -> str:
46 |         return f"{self.BASE_URL}pdf/{arxiv_id}.pdf"
   |                                                    ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\browser\agents\pdf_download.py:64:38
   |
62 |         if parsed.scheme in {"http", "https"}:
63 |             return False
64 |         return text.startswith("10.")
   |                                      ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\browser\agents\pubmed.py:57:43
   |
56 |     async def navigate(self, url: str) -> BrowserActionResult:
57 |         return await super().navigate(url)
   |                                           ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\browser\recording.py:55:35
   |
53 | def generate_session_id(prefix: str = "browser") -> str:
54 |     timestamp = datetime.utcnow().strftime("%Y%m%d%H%M%S")
55 |     return f"{prefix}_{timestamp}"
   |                                   ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\browser\schema.py:53:59
   |
51 |     js_execution: bool = False
52 |     url_allow_list: list[str] = field(default_factory=list)
53 |     url_deny_list: list[str] = field(default_factory=list)
   |                                                           ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\browser\security.py:63:76
   |
61 |     def _contains_blocked_patterns(script: str, patterns: Iterable[str]) -> bool:
62 |         script_lower = script.lower()
63 |         return any(pattern.lower() in script_lower for pattern in patterns)
   |                                                                            ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\browser\subagent.py:185:39
    |
183 |             raise RuntimeError("playwright is not installed. Install jarvis-research-os[browser].")
184 |         module = importlib.import_module("playwright.async_api")
185 |         return module.async_playwright
    |                                       ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\budget\__init__.py:12:2
   |
10 |     "BudgetPolicy",
11 |     "BudgetDecision",
12 | ]
   |  ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\budget\budget.py:131:10
    |
129 |             "degraded": self.degraded,
130 |             "degrade_reasons": self.degrade_reasons if self.degraded else None,
131 |         }
    |          ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\budget\policy.py:113:24
    |
111 |             tracker.record_degrade(decision.degrade_reason)
112 |
113 |         return decision
    |                        ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
 --> jarvis_core\bundle.py:7:37
  |
5 | from .bundle.assembler import export_evidence_bundle
6 |
7 | __all__ = ["export_evidence_bundle"]
  |                                     ^
  |
help: Add trailing newline

W292 [*] No newline at end of file
 --> jarvis_core\bundle\__init__.py:5:74
  |
3 | from .assembler import BundleAssembler, _safe_filename, export_evidence_bundle
4 |
5 | __all__ = ["BundleAssembler", "export_evidence_bundle", "_safe_filename"]
  |                                                                          ^
  |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\bundle\assembler.py:739:28
    |
737 |     lines.append("```")
738 |
739 |     return "\n".join(lines)
    |                            ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\bundle_layout.py:81:53
   |
80 |     for opt_dir in OPTIONAL_DIRS:
81 |         (bundle_path / opt_dir).mkdir(exist_ok=True)
   |                                                     ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\bundle_v2.py:179:18
    |
177 |     )
178 |
179 |     return bundle
    |                  ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\cache\__init__.py:11:2
   |
 9 |     "CacheKeyContract",
10 |     "compute_cache_key",
11 | ]
   |  ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\cache\key_contract.py:128:46
    |
126 |         differences.append(f"config: {key1.config_hash[:8]} vs {key2.config_hash[:8]}")
127 |
128 |     return len(differences) == 0, differences
    |                                              ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\cache\kv_cache.py:55:60
   |
53 |         """Generate a stable hash key from inputs."""
54 |         content = json.dumps({"args": args, "kwargs": kwargs}, sort_keys=True)
55 |         return hashlib.sha256(content.encode()).hexdigest()
   |                                                            ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\cache\multi_level.py:166:36
    |
164 |     def get_stats(self) -> dict:
165 |         """Get cache statistics."""
166 |         return self.stats.to_dict()
    |                                    ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\cache\pipeline_cache.py:59:38
   |
57 |         """Generate a structured cache key."""
58 |         base_key = self.kv.generate_key(*args, **kwargs)
59 |         return f"{prefix}:{base_key}"
   |                                      ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\cache\sqlite_cache.py:314:26
    |
312 |     if _default_cache is None:
313 |         _default_cache = SQLiteCache()
314 |     return _default_cache
    |                          ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\chain_builder.py:110:19
    |
108 |         )
109 |
110 |     return results
    |                   ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\chunking\engine.py:126:24
    |
124 |             sections.append({"name": current_section, "text": "\n".join(current_buffer)})
125 |
126 |         return sections
    |                        ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\citation\__init__.py:26:2
   |
24 |     "CitationGraph",
25 |     "build_citation_graph",
26 | ]
   |  ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\citation\context_extractor.py:271:60
    |
269 |     """
270 |     extractor = CitationExtractor(context_window=context_window)
271 |     return extractor.extract(text, paper_id, reference_map)
    |                                                            ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\citation\graph.py:311:17
    |
309 |         )
310 |
311 |     return graph
    |                 ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\citation\influence.py:127:22
    |
125 |             return sorted(scores, key=lambda x: x.total_citations, reverse=True)
126 |
127 |         return scores
    |                      ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\citation\stance_classifier.py:228:42
    |
226 |     """
227 |     classifier = StanceClassifier()
228 |     return classifier.classify_text(text)
    |                                          ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\claim.py:232:33
    |
231 |     def __iter__(self):
232 |         return iter(self.claims)
    |                                 ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\claim_export.py:235:54
    |
233 |         return export_claims_pptx_outline(claims, references, title)
234 |     else:
235 |         raise ValueError(f"Unknown format: {format}")
    |                                                      ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\cli.py:34:29
   |
33 | if __name__ == "__main__":
34 |     raise SystemExit(main())
   |                             ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
 --> jarvis_core\cli_v4\__init__.py:5:39
  |
3 | from .main import cli_main, run_workflow
4 |
5 | __all__ = ["cli_main", "run_workflow"]
  |                                       ^
  |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\cli_v4\main.py:248:25
    |
247 | if __name__ == "__main__":
248 |     sys.exit(cli_main())
    |                         ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\collaboration\__init__.py:12:2
   |
10 |     "Version",
11 |     "VersionHistoryStore",
12 | ]
   |  ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\collaboration\comments.py:65:87
   |
64 |     def list_comments(self, artifact_id: str) -> list[Comment]:
65 |         return [self._comments[cid] for cid in self._by_artifact.get(artifact_id, [])]
   |                                                                                       ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\collaboration\versioning.py:66:31
   |
64 |             tofile=version_id_2,
65 |         )
66 |         return "\n".join(diff)
   |                               ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\comparison.py:97:6
   |
95 |         "axis_diff": axis_diff,
96 |         "summary": summary,
97 |     }
   |      ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\compliance\license.py:75:35
   |
73 |             return LicenseType.CC_BY
74 |
75 |         return LicenseType.UNKNOWN
   |                                   ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\config\__init__.py:30:2
   |
28 |     "JarvisConfig",
29 |     "Config",
30 | ]
   |  ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\config\feature_flags.py:293:21
    |
291 |         return wrapper
292 |
293 |     return decorator
    |                     ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\config_loader.py:63:44
   |
62 |     base = load_yaml_config(path)
63 |     return merge_overrides(base, overrides)
   |                                            ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\config_utils.py:185:49
    |
183 |     path.parent.mkdir(parents=True, exist_ok=True)
184 |     with open(path, "w", encoding="utf-8") as f:
185 |         json.dump(config.to_dict(), f, indent=2)
    |                                                 ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\connectors\__init__.py:26:2
   |
24 |     "resolve_pmcid",
25 |     "fetch_fulltext",
26 | ]
   |  ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\connectors\pmc.py:294:53
    |
292 | def fetch_fulltext(pmcid: str) -> FulltextResult:
293 |     """繝輔Ν繝・く繧ｹ繝亥叙蠕暦ｼ井ｾｿ蛻ｩ髢｢謨ｰ・・"""
294 |     return get_pmc_connector().fetch_fulltext(pmcid)
    |                                                     ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\connectors\pubmed.py:351:55
    |
349 | def fetch_paper_details(pmids: list[str]) -> list[PaperDoc]:
350 |     """隲匁枚隧ｳ邏ｰ蜿門ｾ暦ｼ井ｾｿ蛻ｩ髢｢謨ｰ・・"""
351 |     return get_pubmed_connector().fetch_details(pmids)
    |                                                       ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\contracts\__init__.py:33:2
   |
31 |     "ResultBundle",
32 |     "ArtifactsDelta",
33 | ]
   |  ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\contracts\types.py:343:44
    |
342 | # Type aliases
343 | ArtifactsDelta = dict[str, Any]  # 蟾ｮ蛻・ｒ霑斐☆譎ゅ・蝙・    |                                                    ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\contradiction\__init__.py:27:2
   |
25 |     "detect_contradiction",
26 |     "ClaimNormalizer",
27 | ]
   |  ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\contradiction\detector.py:93:35
   |
91 |     """Convenience function to detect contradictions."""
92 |     detector = ContradictionDetector()
93 |     return detector.detect(claims)
   |                                   ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\contradiction\normalizer.py:254:21
    |
252 |                 return True
253 |
254 |         return False
    |                     ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\contradiction\resolution.py:201:14
    |
199 |                 confidence=0.3,
200 |                 recommended_action="Manually review both claims",
201 |             )
    |              ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\contradiction\schema.py:118:10
    |
116 |             "evidence": self.evidence,
117 |             "scores": self.scores,
118 |         }
    |          ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\contradiction\semantic_detector.py:239:45
    |
237 |     """
238 |     detector = SemanticContradictionDetector(config=config)
239 |     return detector.detect(claim_a, claim_b)
    |                                             ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\cost_planner\__init__.py:14:2
   |
12 |     "ParetoPlanner",
13 |     "ParetoChoice",
14 | ]
   |  ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\cost_planner\cost_model.py:90:45
   |
88 |     stage_costs = model.estimate_from_spans(span_stats)
89 |     token_cost = model.estimate_token_cost(tokens_used, tokens_used // 4)
90 |     return stage_costs["total"] + token_cost
   |                                             ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\cost_planner\pareto.py:179:10
    |
177 |             "estimated_quality": choice.estimated_quality,
178 |             **choice.settings,
179 |         }
    |          ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\cost_planner\quality_gain.py:93:20
   |
91 |     answer_q = estimator.estimate_answer_quality(evidence_count, retrieval_q, analysis_depth)
92 |
93 |     return answer_q
   |                    ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\cross_field.py:142:23
    |
140 |     ]
141 |
142 |     return suggestions
    |                       ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\database\__init__.py:10:2
   |
 8 |     "PoolStats",
 9 |     "PooledConnection",
10 | ]
   |  ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\database\pool.py:274:22
    |
272 |                 self._close_connection(conn)
273 |             except queue.Empty:
274 |                 break
    |                      ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
 --> jarvis_core\decision\__init__.py:1:20
  |
1 | """Package init."""
  |                    ^
  |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\decision\elicitation.py:106:22
    |
104 |             option.risk_factors = default_risk_inputs()
105 |             normalized.append(option)
106 |     return normalized
    |                      ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\decision\model.py:50:47
   |
48 |         results.append(result)
49 |
50 |     return DecisionComparison(results=results)
   |                                               ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\decision\planner.py:85:6
   |
83 |         delay_cost=delay_cost,
84 |         notes=notes,
85 |     )
   |      ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\decision\report.py:78:52
   |
76 |     html_path.write_text(html, encoding="utf-8")
77 |
78 |     return {"markdown": md_path, "html": html_path}
   |                                                    ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\decision\risk_factors.py:45:6
   |
43 |         )
44 |         for factor in DEFAULT_RISK_FACTORS
45 |     ]
   |      ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\decision\schema.py:171:38
    |
170 |     results: list[DecisionResult]
171 |     disclaimer: str = DISCLAIMER_TEXT
    |                                      ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\decision\simulator.py:167:6
    |
165 |         "sensitivity": sensitivity[:5],
166 |         "skill_attainment": skill_attainment,
167 |     }
    |      ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
 --> jarvis_core\dedup\__init__.py:5:41
  |
3 | from .dedup_engine import DedupEngine, DedupResult
4 |
5 | __all__ = ["DedupEngine", "DedupResult"]
  |                                         ^
  |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\dedup\dedup_engine.py:99:20
   |
97 |             if SequenceMatcher(None, text, existing_text).ratio() >= self.similarity_threshold:
98 |                 return existing
99 |         return None
   |                    ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\deploy\__init__.py:33:2
   |
31 |     "CloudRegion",
32 |     "get_cloud_run_deployer",
33 | ]
   |  ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\deploy\canary.py:302:31
    |
300 |     if _deployment_manager is None:
301 |         _deployment_manager = CanaryDeploymentManager()
302 |     return _deployment_manager
    |                               ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\deploy\cloud_run.py:263:31
    |
261 |     if _cloud_run_deployer is None:
262 |         _cloud_run_deployer = CloudRunDeployer()
263 |     return _cloud_run_deployer
    |                               ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
 --> jarvis_core\devtools\__init__.py:5:66
  |
3 | from .ci import check_imports, run_core_tests, run_legacy_tests
4 |
5 | __all__ = ["run_core_tests", "run_legacy_tests", "check_imports"]
  |                                                                  ^
  |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\devtools\ci.py:107:11
    |
106 | if __name__ == "__main__":
107 |     main()
    |           ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\disk_cache.py:152:32
    |
150 | def get_disk_cache(cache_dir: str = "cache") -> DiskCache:
151 |     """Get or create disk cache."""
152 |     return DiskCache(cache_dir)
    |                                ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\embeddings\__init__.py:38:2
   |
36 |     "FusionMethod",
37 |     "SPECTER2Embedding",
38 | ]
   |  ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\embeddings\bm25.py:265:24
    |
263 |             return self._corpus[idx]
264 |         except ValueError:
265 |             return None
    |                        ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\embeddings\chroma_store.py:149:34
    |
147 |     def count(self) -> int:
148 |         _, collection = self._init_client()
149 |         return collection.count()
    |                                  ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\embeddings\hybrid.py:395:33
    |
393 |     def doc_count(self) -> int:
394 |         """Get the number of indexed documents."""
395 |         return len(self._corpus)
    |                                 ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\embeddings\model.py:103:40
    |
101 |     @property
102 |     def dimension(self) -> int:
103 |         return self._embedder.dimension
    |                                        ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\embeddings\sentence_transformer.py:218:54
    |
216 |     Returns all-MiniLM-L6-v2 as the default for speed and memory efficiency.
217 |     """
218 |     return SentenceTransformerEmbedding.for_general()
    |                                                      ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\embeddings\specter2.py:86:19
   |
84 |     def dimension(self) -> int:
85 |         """Return embedding dimension."""
86 |         return 768
   |                   ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\embeddings\vector_store.py:196:34
    |
194 |     @property
195 |     def count(self) -> int:
196 |         return len(self._doc_ids)
    |                                  ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\errors.py:86:49
   |
84 | def get_exit_code_meaning(code: int) -> str:
85 |     """Get human-readable meaning of exit code."""
86 |     return EXIT_CODES.get(code, "Unknown error")
   |                                                 ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\eval\__init__.py:31:2
   |
29 |     "EvalMetrics",
30 |     "RETRY_STRATEGIES",
31 | ]
   |  ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\eval\ab_testing.py:253:68
    |
251 |             self._experiments[experiment_id].status = "completed"
252 |             self._experiments[experiment_id].end_date = datetime.utcnow().isoformat() + "Z"
253 |             self._save_experiment(self._experiments[experiment_id])
    |                                                                    ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\eval\auto_eval.py:214:22
    |
212 |                 )
213 |
214 |         return alerts
    |                      ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\eval\citation_loop.py:148:6
    |
146 |         final_citations=final_total,
147 |         added_citations=added,
148 |     )
    |      ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\eval\claim_checker.py:207:6
    |
205 |         unsupported_count=not_enough + refuted,
206 |         results=results,
207 |     )
    |      ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\eval\claim_classifier.py:170:43
    |
168 |             unknown.append(claim)
169 |
170 |     return facts, interpretations, unknown
    |                                           ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\eval\drift.py:163:28
    |
161 |             lines.append(f"- {entity}: -{delta:.3f}")
162 |
163 |     return "\n".join(lines)
    |                            ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\eval\extended_metrics.py:109:38
    |
107 |             )
108 |
109 |     return len(failing) == 0, failing
    |                                      ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\eval\failure_taxonomy.py:137:19
    |
135 |         if len(summary[cat]["examples"]) < 3:
136 |             summary[cat]["examples"].append(f.message[:50])
137 |     return summary
    |                   ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\eval\goldset_schema.py:158:6
    |
156 |             source_locator="paper2.pdf:p3",
157 |         ),
158 |     ]
    |      ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\eval\judge.py:265:26
    |
263 |             if value is not None and value < threshold:
264 |                 violations.append(f"{key}: {value} < {threshold}")
265 |         return violations
    |                          ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\eval\judge_v2.py:288:69
    |
286 |         """
287 |         results = self.judge(answer, citations, claims)
288 |         return results["form"].passed and results["semantic"].passed
    |                                                                     ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\eval\live_runner.py:75:2
   |
73 |     "PD-1 checkpoint",
74 |     "CAR-T therapy",
75 | ]
   |  ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\eval\metrics_truth.py:169:48
    |
167 |         )
168 |
169 |     return calculate_truth_metrics(predictions)
    |                                                ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\eval\noise_injection.py:136:6
    |
134 |         "claims_added": len(added),
135 |         "robust": preservation_rate >= 0.8 and hallucination_rate <= 0.2,
136 |     }
    |      ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\eval\quality_enhancer.py:239:38
    |
237 |     """萓ｿ蛻ｩ髢｢謨ｰ: 譬ｹ諡繧貞刀雉ｪ蜷台ｸ・"""
238 |     enhancer = EvidenceQualityEnhancer()
239 |     return enhancer.enhance(evidence)
    |                                      ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\eval\quality_gate.py:259:28
    |
257 |         lines.append(f"  {icon} [{r.code}] {r.msg}")
258 |
259 |     return "\n".join(lines)
    |                            ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\eval\regression.py:285:62
    |
283 |     """萓ｿ蛻ｩ髢｢謨ｰ: 繝ｪ繧ｰ繝ｬ繝・す繝ｧ繝ｳ繧偵メ繧ｧ繝・け."""
284 |     checker = PromptRegressionChecker()
285 |     return checker.check(prompt_id, version, current_metrics)
    |                                                              ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\eval\regression_runner.py:166:28
    |
164 |             lines.append(f"- {reason}")
165 |
166 |     return "\n".join(lines)
    |                            ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\eval\score_paper.py:170:18
    |
168 |         score.rank = i + 1
169 |
170 |     return scores
    |                  ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\eval\text_quality.py:201:31
    |
199 |     """萓ｿ蛻ｩ髢｢謨ｰ: 繝・く繧ｹ繝亥刀雉ｪ繧偵メ繧ｧ繝・け."""
200 |     assurer = TextQualityAssurer(min_score)
201 |     return assurer.check(text)
    |                               ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\eval\validator.py:381:48
    |
379 |     """萓ｿ蛻ｩ髢｢謨ｰ: 譬ｹ諡繧ｫ繝舌Ξ繝・ず繧呈､懆ｨｼ."""
380 |     validator = EvidenceCoverageValidator(min_coverage)
381 |     return validator.validate(claims, evidence)
    |                                                ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\evaluation\__init__.py:15:2
   |
13 |     "QualityGates",
14 |     "get_quality_gates",
15 | ]
   |  ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\evaluation\counterevidence.py:372:43
    |
370 |                 violations.append(claim.get("claim_id", ""))
371 |
372 |     return len(violations) > 0, violations
    |                                           ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\evaluation\dataset_governance.py:262:23
    |
260 |     if _governance is None:
261 |         _governance = DatasetGovernance(datasets_dir)
262 |     return _governance
    |                       ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\evaluation\evidence_validator.py:245:62
    |
243 |     """
244 |     validator = EvidenceValidator(doc_store)
245 |     return validator.validate_evidence_link(claim, doc_store)
    |                                                              ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\evaluation\fitness.py:192:10
    |
190 |             cost=cost,
191 |             latency=latency,
192 |         )
    |          ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\evaluation\gates.py:358:36
    |
356 | def get_quality_gates(thresholds: dict[str, float] | None = None) -> QualityGates:
357 |     """蜩∬ｳｪ繧ｲ繝ｼ繝医ｒ蜿門ｾ・"""
358 |     return QualityGates(thresholds)
    |                                    ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\evaluation\multi_judge.py:234:10
    |
232 |             score=score,
233 |             reasoning="Counterfactual analysis",
234 |         )
    |          ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\evaluation\pico_consistency.py:379:26
    |
377 |         passed = result.passed
378 |
379 |     return passed, result
    |                          ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\evidence\__init__.py:49:2
   |
47 |     "Chunk",
48 |     "EvidenceStore",
49 | ]
   |  ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\evidence\ensemble.py:297:59
    |
296 |     classifier = EnsembleClassifier(config=config)
297 |     return classifier.classify(title, abstract, full_text)
    |                                                           ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\evidence\llm_classifier.py:321:36
    |
319 |         except Exception as e:
320 |             logger.error(f"PICO extraction failed: {e}")
321 |             return PICOExtraction()
    |                                    ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\evidence\locator_verifier.py:67:6
   |
65 |         is_valid=is_valid,
66 |         matched_span=matched_span,
67 |     )
   |      ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\evidence\locator_verify.py:172:6
    |
170 |         "validity_rate": valid_count / len(evidence_list) if evidence_list else 0.0,
171 |         "invalid_ids": invalid_ids,
172 |     }
    |      ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\evidence\rule_classifier.py:348:20
    |
346 |             if match:
347 |                 return match.group(1).strip()
348 |         return None
    |                    ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\evidence\schema.py:226:10
    |
224 |             "study_duration": self.study_duration,
225 |             "setting": self.setting,
226 |         }
    |          ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\evidence\store.py:125:33
    |
124 |     def __len__(self) -> int:
125 |         return len(self._chunks)
    |                                 ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\evidence\uncertainty.py:21:16
   |
19 |     if strength >= 0.60:
20 |         return "隕∵ｳｨ諢・
21 |     return "謗ｨ貂ｬ"
   |                  ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\evidence\v2_schema.py:51:58
   |
49 |     def validate_audit(self) -> bool:
50 |         """Verify that every claim has at least one piece of evidence."""
51 |         return all(c.has_evidence() for c in self.claims)
   |                                                          ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\evidence\validator.py:54:10
   |
52 |         return EvidenceValidation(
53 |             is_valid=is_valid, violations=violations, uncertainty_label=uncertainty_label
54 |         )
   |          ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\evidence\visualizer.py:79:21
   |
77 |             table += f"| {level} | {conf} | {study} | {method} |\n"
78 |
79 |         return table
   |                     ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\evidence_qa.py:469:17
    |
467 |             logger.warning("Failed to ingest %s: %s", input_path, e)
468 |
469 |     return store
    |                 ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\executor.py:355:25
    |
353 |                 self._current_tracker.record_retry()
354 |
355 |             attempt += 1
    |                         ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\executor\tabular_executor.py:100:57
    |
 98 |         """螳溯｡悟ｱ･豁ｴ繧剃ｸ隕ｧ."""
 99 |         runs = sorted(Path(runs_dir).glob("*"))
100 |         return [str(r.name) for r in runs if r.is_dir()]
    |                                                         ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
 --> jarvis_core\experimental\__init__.py:1:39
  |
1 | # Experimental modules for JARVIS Core
  |                                       ^
  |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\experimental\career_engines.py:218:6
    |
216 |         "growth_rate": round(growth_rate, 3),
217 |         "estimated": True,
218 |     }
    |      ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\experimental\career_planner.py:104:6
    |
102 |         "next_milestone": next_milestone,
103 |         "estimated": True,
104 |     }
    |      ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\experimental\clinical_readiness.py:91:6
   |
89 |         "model_count": len(species),
90 |         "estimated": True,
91 |     }
   |      ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\experimental\competing_hypothesis.py:121:22
    |
119 |         )
120 |
121 |     return hypotheses
    |                      ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\experimental\education.py:136:28
    |
134 |     lines.append("- 蜀咲樟諤ｧ縺ｮ諡・ｿ・)
135 |
136 |     return "\n".join(lines)
    |                            ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\experimental\evals\ranking_eval.py:149:62
    |
147 |     print(f"NDCG@10: {results['ndcg@10']:.3f}")
148 |     print(f"MAP: {results['map']:.3f}")
149 |     print(f"Golden set: {results['golden_set_size']} papers")
    |                                                              ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\experimental\evals\trick_eval.py:203:20
    |
201 |     else:
202 |         print("All checks passed!")
203 |         sys.exit(0)
    |                    ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\experimental\failure_predictor.py:78:45
   |
76 |         failure_modes.append("鬘樔ｼｼ遐皮ｩｶ縺ｧ菴弱う繝ｳ繝代け繝育ｵ先棡縺悟ｱ蜻翫＆繧後※縺・ｋ")
77 |
78 |     return failure_modes[:8]  # Limit output
   |                                             ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\experimental\failure_simulator.py:162:16
    |
160 |         branches = highest.get("sub_branches", [])
161 |
162 |     return path
    |                ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\experimental\feasibility.py:102:6
    |
100 |         "reason": reason,
101 |         "related_papers": len(related),
102 |     }
    |      ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
 --> jarvis_core\experimental\finance\__init__.py:1:20
  |
1 | """Package init."""
  |                    ^
  |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\experimental\finance\scenarios.py:89:21
   |
87 |             cashflows=cashflows,
88 |         )
89 |     return scenarios
   |                     ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\experimental\finance\schema.py:73:47
   |
71 |         for expense in month.expenses:
72 |             if not expense.note:
73 |                 expense.note = ASSUMPTION_NOTE
   |                                               ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\experimental\funding_cliff.py:77:6
   |
75 |         ),
76 |         "estimated": True,
77 |     }
   |      ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\experimental\gap_analysis.py:116:6
    |
114 |             "reason": reason,
115 |         }
116 |     ]
    |      ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\experimental\grant_optimizer.py:108:23
    |
106 |         suggestions.append("迴ｾ迥ｶ邯ｭ謖√〒遶ｶ莠牙鴨縺ゅｊ")
107 |
108 |     return suggestions
    |                       ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\experimental\heatmap.py:111:26
    |
109 |     trends.sort(key=lambda x: x["growth"], reverse=True)
110 |
111 |     return trends[:top_k]
    |                          ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\experimental\journal_targeting.py:129:31
    |
127 |     suggestions.sort(key=lambda x: x["fit_score"], reverse=True)
128 |
129 |     return suggestions[:top_k]
    |                               ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\experimental\lab_culture.py:73:6
   |
71 |         "concept_spread": len(concepts),
72 |         "estimated": True,
73 |     }
   |      ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\experimental\lab_optimizer.py:112:40
    |
110 |                 needed.add(res_id)
111 |
112 |     return list(needed - available_set)
    |                                        ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\experimental\lab_to_startup.py:70:6
   |
68 |         "technical_methods": list(all_methods)[:5],
69 |         "estimated": True,
70 |     }
   |      ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\experimental\lambda_modules.py:325:53
    |
323 |     avg_novelty = sum(v.temporal.novelty for v in vectors) / len(vectors)
324 |     direction = "謾ｻ繧・ｼ域眠隕上ユ繝ｼ繝樣幕諡難ｼ・ if avg_novelty > 0.6 else "螳医ｊ・域里蟄倥ユ繝ｼ繝樊ｷｱ謗倥ｊ・・
325 |     return f"莉頑怦縺ｮ謌ｦ逡･: {direction}縲りｫ匁枚謨ｰ: {len(vectors)}"
    |                                                              ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\experimental\negative_results.py:95:6
   |
93 |         "dominant_failure_type": dominant_failure,
94 |         "reuse_potential_avg": round(sum(r.reuse_potential for r in results) / len(results), 2),
95 |     }
   |      ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\experimental\paradigm.py:101:22
    |
 99 |             }
100 |
101 |     return best_shift
    |                      ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\experimental\pi_succession.py:80:6
   |
78 |         "lab_age_years": lab_age_years,
79 |         "estimated": True,
80 |     }
   |      ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\experimental\pi_support.py:115:28
    |
113 |         lines.append(f"- {e['theme']}: {e['reason']}")
114 |
115 |     return "\n".join(lines)
    |                            ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\experimental\prisma\__init__.py:20:2
   |
18 |     "PRISMAGenerator",
19 |     "generate_prisma_flow",
20 | ]
   |  ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\experimental\prisma\generator.py:269:42
    |
267 |         return generator.to_text(data)
268 |     else:
269 |         return generator.to_mermaid(data)
    |                                          ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\experimental\prisma\schema.py:113:10
    |
111 |             ],
112 |             "database_sources": self.database_sources,
113 |         }
    |          ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\experimental\rehearsal.py:87:6
   |
85 |         "total_papers_reviewed": len(vectors),
86 |         "concepts_covered": list(all_concepts),
87 |     }
   |      ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\experimental\reproducibility_cert.py:77:6
   |
75 |         "method_count": len(all_methods),
76 |         "estimated": True,
77 |     }
   |      ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\experimental\roi_engine.py:62:6
   |
60 |         "total_papers": len(vectors),
61 |         "estimated": True,
62 |     }
   |      ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\experimental\sigma_modules.py:417:6
    |
415 |         "with_concepts": sum(1 for v in vectors if v.concept.concepts),
416 |         "sync_status": "complete",
417 |     }
    |      ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\experimental\student_portfolio.py:80:20
   |
78 |     analyses.sort(key=lambda x: x.get("risk_score", 0), reverse=True)
79 |
80 |     return analyses
   |                    ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\experimental\timeline.py:93:35
   |
91 |     summary_parts.insert(0, f"{first_year}縲悳last_year}縺ｮ{len(timeline)}隲匁枚繧貞・譫・)
92 |
93 |     return "縲・.join(summary_parts)
   |                                    ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
 --> jarvis_core\export\__init__.py:1:20
  |
1 | """Package init."""
  |                    ^
  |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\export\docx_builder.py:41:23
   |
39 |     output_path.parent.mkdir(parents=True, exist_ok=True)
40 |     document.save(output_path)
41 |     return output_path
   |                       ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\export\package_builder.py:29:23
   |
27 |         archive.writestr("finance_data.json", json.dumps(data, ensure_ascii=False, indent=2))
28 |
29 |     return output_path
   |                       ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\export\pptx_builder.py:144:23
    |
142 |     output_path.parent.mkdir(parents=True, exist_ok=True)
143 |     presentation.save(output_path)
144 |     return output_path
    |                       ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\exporters\notebooklm.py:165:17
    |
163 |         paths.append(str(filepath))
164 |
165 |     return paths
    |                 ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\external\sources.py:142:62
    |
141 |     with open(license_file, "a", encoding="utf-8") as f:
142 |         f.write(json.dumps(entry, ensure_ascii=False) + "\n")
    |                                                              ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\extraction\__init__.py:20:2
   |
18 |     "ClaimExtractor",
19 |     "ExtractedClaim",
20 | ]
   |  ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\extraction\claim_extractor.py:167:22
    |
166 |         logger.info(f"Extracted {len(claims)} claims (rule-based)")
167 |         return claims
    |                      ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\extraction\coi.py:62:21
   |
60 |             )
61 |
62 |     return conflicts
   |                     ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\extraction\funding.py:42:19
   |
40 |                 )
41 |             )
42 |     return sources
   |                   ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\extraction\pdf_extractor.py:250:26
    |
248 |         references.extend([f"PMID: {pmid}" for pmid in pmids[:20]])
249 |
250 |         return references
    |                          ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\extraction\semantic_search.py:217:82
    |
215 |             self._build_index()
216 |
217 |         logger.info(f"Loaded index from {path}: {len(self.documents)} documents")
    |                                                                                  ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\feature_engineering\statistical.py:161:6
    |
159 |         "statistical_significance": sig_score,
160 |         "study_design_score": design_score,
161 |     }
    |      ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
 --> jarvis_core\feedback\__init__.py:3:13
  |
1 | """Feedback Intelligence package."""
2 |
3 | __all__ = []
  |             ^
  |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\feedback\collector.py:70:49
   |
68 |         if len(parts) >= 2:
69 |             return {"type": parts[0].strip(), "index": int(parts[1])}
70 |         return {"type": "paragraph", "index": 0}
   |                                                 ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\feedback\feature_extractor.py:93:43
   |
91 |             return 0.0
92 |         lengths = [len(s.split()) for s in sentences]
93 |         return sum(lengths) / len(lengths)
   |                                           ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\feedback\history_store.py:36:23
   |
34 |             lines = lines[-limit:]
35 |         entries = [normalize_feedback(json.loads(line)) for line in lines]
36 |         return entries
   |                       ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\feedback\risk_model.py:126:10
    |
124 |             "weights": {},
125 |             "thresholds": {"high": 0.75, "medium": 0.45},
126 |         }
    |          ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\feedback\schema.py:126:78
    |
124 |         raise ValueError(f"Invalid severity: {entry.severity}")
125 |     if entry.resolution_type not in VALID_RESOLUTION_TYPES:
126 |         raise ValueError(f"Invalid resolution type: {entry.resolution_type}")
    |                                                                              ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\feedback\store.py:70:21
   |
68 |             logger.error(f"Failed to load feedback: {e}")
69 |
70 |         return items
   |                     ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\feedback\suggestion_engine.py:102:27
    |
100 |                 }
101 |             )
102 |         return suggestions
    |                           ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\graphrag\engine.py:755:69
    |
753 |     crag = CorrectiveRAG()
754 |     result = crag.evaluate_retrieval("cancer treatment", [{"title": "Cancer drug discovery"}])
755 |     print(f"Status: {result['status']}, Action: {result['action']}")
    |                                                                     ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\html_extractor.py:147:28
    |
145 |         lines.pop()
146 |
147 |     return "\n".join(lines)
    |                            ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\hypothesis.py:100:22
    |
 98 |     hypotheses.sort(key=lambda x: x["confidence"], reverse=True)
 99 |
100 |     return hypotheses
    |                      ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\index\__init__.py:14:2
   |
12 |     "DedupFilter",
13 |     "dedupe_chunks",
14 | ]
   |  ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\index\bm25_store.py:163:55
    |
161 |         return True
162 |
163 |     return metadata.inputs_hash != current_inputs_hash
    |                                                       ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\index\dedup.py:143:25
    |
141 |     filter = DedupFilter(similarity_threshold=threshold)
142 |     result = filter.dedupe(chunks, check_near=check_near)
143 |     return result.unique
    |                         ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\index\incremental_state.py:144:34
    |
142 |         """Clear all state."""
143 |         self.documents.clear()
144 |         self.chunk_hashes.clear()
    |                                  ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\index\pipeline.py:196:20
    |
194 |     pipeline.register_stage(PipelineStage.NORMALIZE, default_normalize)
195 |     pipeline.register_stage(PipelineStage.CHUNK, default_chunk)
196 |     return pipeline
    |                    ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\index_builder.py:182:10
    |
180 |             "error": str(e),
181 |             "errors": errors,
182 |         }
    |          ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\infra\iac.py:304:22
    |
302 |                     logger.debug(f"Failed to detect drift for {res.resource_id}: {e}")
303 |
304 |         return drifts
    |                      ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\infrastructure\ecosystem.py:758:44
    |
756 |     paper = {"title": "Test Paper", "authors": "Smith J", "year": 2024}
757 |     roam = pkm.to_roam_format(paper, ["Important finding"])
758 |     print(f"Roam format:\n{roam[:100]}...")
    |                                            ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\ingestion\__init__.py:23:2
   |
21 |     "BibTeXParser",
22 |     "ingest_files",
23 | ]
   |  ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\ingestion\figure_extractor.py:48:19
   |
47 |     doc.close()
48 |     return figures
   |                   ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\ingestion\modalities.py:71:17
   |
69 |         d = super().to_dict()
70 |         d["image_path"] = self.image_path
71 |         return d
   |                 ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\ingestion\normalizer.py:155:52
    |
153 |     """萓ｿ蛻ｩ髢｢謨ｰ: 繧ｳ繝ｼ繝代せ蜈ｨ菴薙ｒ豁｣隕丞喧."""
154 |     normalizer = TextNormalizer()
155 |     return [normalizer.normalize(t) for t in texts]
    |                                                    ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\ingestion\pdf_extractor.py:135:78
    |
133 |             return "\n\n".join(all_text), pages_content, None
134 |         except Exception as e:
135 |             return "", [], PDFFailureInfo(str(path), "EXTRACT_ERROR", str(e))
    |                                                                              ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\ingestion\pdf_parser.py:115:16
    |
113 |         if in_refs:
114 |             refs.append(line)
115 |     return refs
    |                ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\ingestion\pipeline.py:611:44
    |
609 |     """萓ｿ蛻ｩ髢｢謨ｰ: 繝輔ぃ繧､繝ｫ繧貞叙繧願ｾｼ縺ｿ."""
610 |     pipeline = IngestionPipeline(output_dir)
611 |     return pipeline.ingest_batch(filepaths)
    |                                            ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\ingestion\robust_extractor.py:251:39
    |
249 |     """萓ｿ蛻ｩ髢｢謨ｰ: 蝣・欧縺ｪPDF謚ｽ蜃ｺ."""
250 |     extractor = RobustPDFExtractor(enable_ocr=enable_ocr)
251 |     return extractor.extract(filepath)
    |                                       ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\ingestion\table_extractor.py:61:18
   |
59 |         caption = caption_tag.get_text(strip=True) if caption_tag else None
60 |         tables.append(Table(headers=headers, rows=rows, caption=caption))
61 |     return tables
   |                  ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\integrations\__init__.py:48:2
   |
46 |     "get_pagerduty_client",
47 |     "page",
48 | ]
   |  ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\integrations\additional.py:694:52
    |
692 |     dm = DashboardManager()
693 |     layout = dm.get_default_layout()
694 |     print(f"Default layout: {len(layout)} widgets")
    |                                                    ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\integrations\external.py:422:72
    |
420 |     papers = ss.search("COVID-19 treatment", limit=3)
421 |     for p in papers:
422 |         print(f"  - {p['title'][:60]}... ({p['citations']} citations)")
    |                                                                        ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\integrations\mendeley.py:162:10
    |
160 |             "year": paper.get("year"),
161 |             "source": paper.get("journal", ""),
162 |         }
    |          ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\integrations\notebooklm.py:117:28
    |
115 |     )
116 |
117 |     return "\n".join(lines)
    |                            ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\integrations\notion.py:88:65
   |
86 |     }
87 |
88 |     return json.dumps(export_data, indent=2, ensure_ascii=False)
   |                                                                 ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\integrations\obsidian.py:262:28
    |
260 |         "*Generated by Jarvis Evidence QA*",
261 |     ]
262 |     return "\n".join(lines)
    |                            ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\integrations\obsidian_sync.py:148:38
    |
146 |     """Convenience function to sync bundle to Obsidian."""
147 |     syncer = ObsidianSync(vault_path)
148 |     return syncer.sync_bundle(bundle)
    |                                      ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\integrations\obsidian_sync_v2.py:290:10
    |
288 |             "runs_synced": runs_count,
289 |             "vault_path": str(self.vault_path),
290 |         }
    |          ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\integrations\pagerduty.py:281:71
    |
279 | ) -> dict[str, Any] | None:
280 |     """Quick paging helper."""
281 |     return get_pagerduty_client().trigger(summary, severity, **kwargs)
    |                                                                       ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\integrations\pubmed.py:241:43
    |
239 |         print(f"   Authors: {', '.join(paper['authors'])}")
240 |         print(f"   Journal: {paper['journal']} ({paper['pub_date']})")
241 |         print(f"   PMID: {paper['pmid']}")
    |                                           ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\integrations\ris_bibtex.py:435:22
    |
433 |                 )
434 |                 references.append(ref)
435 |     return references
    |                      ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\integrations\scale.py:163:10
    |
161 |             "papers_viewed": [],
162 |             "work_sessions": [],
163 |         }
    |          ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\integrations\slack.py:284:72
    |
282 | ) -> dict[str, Any] | None:
283 |     """Quick notification helper."""
284 |     return get_slack_client().send_message(text, channel, message_type)
    |                                                                        ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\integrations\slack_bot.py:310:23
    |
308 |     if _jarvis_bot is None:
309 |         _jarvis_bot = JarvisSlackBot()
310 |     return _jarvis_bot
    |                       ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\integrations\watch.py:163:59
    |
161 |     watcher = ManifestWatcher(output_path)
162 |     for e in entries:
163 |         watcher.add_entry(e["path"], e.get("type", "pdf"))
    |                                                           ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\integrations\zotero.py:166:10
    |
164 |             "date": str(paper.get("year", "")),
165 |             "publicationTitle": paper.get("journal", ""),
166 |         }
    |          ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\intelligence\__init__.py:99:2
   |
97 |     "ResearchPartnerOutput",
98 |     "ResearchPartner",
99 | ]
   |  ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\intelligence\action_planner.py:250:20
    |
248 |             )
249 |
250 |         return plan
    |                    ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\intelligence\decision.py:189:76
    |
187 |         if strengths:
188 |             return "Accepted: " + ", ".join(strengths)
189 |         return f"Accepted: Meets all thresholds (avg={scores.average:.1f})"
    |                                                                            ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\intelligence\decision_item.py:155:21
    |
153 |                 logger.info(f"Updated outcome for {decision_id}: {outcome_status}")
154 |                 return True
155 |         return False
    |                     ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\intelligence\evaluator_v2.py:240:17
    |
238 |         if "safe" in text or "螳牙・" in text:
239 |             return 5
240 |         return 4
    |                 ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\intelligence\goldset_index.py:222:36
    |
220 |     def list_all(self) -> list[GoldsetEntry]:
221 |         """蜈ｨ繧ｨ繝ｳ繝医Μ繧貞叙蠕・"""
222 |         return self._entries.copy()
    |                                    ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\intelligence\mandatory_search.py:238:39
    |
236 |             )
237 |
238 |         return same_as, different_from
    |                                       ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\intelligence\metrics_collector.py:191:23
    |
189 |                 history.append(JudgmentMetrics(**data))
190 |
191 |         return history
    |                       ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\intelligence\outcome_tracker.py:182:10
    |
180 |             "failure": status_counts[OutcomeStatus.FAILURE],
181 |             "success_rate": success_rate,
182 |         }
    |          ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\intelligence\patterns.py:149:43
    |
147 |             DecisionPattern.UNCLASSIFIED: "繝代ち繝ｼ繝ｳ譛ｪ遒ｺ螳壹よ・驥阪↓蛻､譁ｭ縲・,
148 |         }
149 |         return advice_map.get(pattern, "")
    |                                           ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\intelligence\question_generator.py:180:32
    |
178 |             lines.append("")
179 |
180 |         return "\n".join(lines)
    |                                ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\intelligence\research_partner.py:403:31
    |
401 |         )
402 |
403 |         return suggestions[:2]
    |                               ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\intelligence\similarity.py:138:32
    |
136 |             lines.append("")
137 |
138 |         return "\n".join(lines)
    |                                ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\iter\__init__.py:33:2
   |
31 |     "calibrate_uncertainty",
32 |     "check_final_resilience",
33 | ]
   |  ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\iter\phase8_features.py:337:57
    |
336 | def check_final_resilience(run_result: dict[str, Any]) -> bool:
337 |     return FinalResilienceChecker().is_ready(run_result)
    |                                                         ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
 --> jarvis_core\kb\__init__.py:6:49
  |
4 | from .weekly_pack import generate_weekly_pack
5 |
6 | __all__ = ["ingest_run", "generate_weekly_pack"]
  |                                                 ^
  |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\kb\citations.py:26:51
   |
24 |         if parts:
25 |             lines.append(" / ".join(parts))
26 |     return "; ".join(lines) if lines else "譬ｹ諡諠・ｱ縺ｪ縺・
   |                                                         ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\kb\dedup.py:17:18
   |
15 |         seen.add(key)
16 |         unique.append(claim)
17 |     return unique
   |                  ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\kb\indexer.py:313:6
    |
311 |         "topics": sorted(updated_topics),
312 |         "run_id": run_id,
313 |     }
    |      ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\kb\merger.py:26:19
   |
24 |         else:
25 |             updated = f"{updated.rstrip()}\n\n{start}\n{content}\n{end}\n"
26 |     return updated
   |                   ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\kb\normalizer.py:78:37
   |
76 |             if normalized:
77 |                 expanded.append(normalized)
78 |         return sorted(set(expanded))
   |                                     ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\kb\quality_tags.py:39:6
   |
37 |         "needs_followup": needs_followup,
38 |         "note": "・域耳貂ｬ縺ｧ縺呻ｼ・ if needs_followup else "",
39 |     }
   |      ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\kb\schema.py:117:22
    |
115 |         else:
116 |             data[key] = raw_value.strip('"')
117 |     return data, body
    |                      ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\kb\topic_router.py:38:31
   |
36 |             if block:
37 |                 matched.update(self._match_topics(block))
38 |         return sorted(matched)
   |                               ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\kb\weekly_pack.py:154:21
    |
152 |     )
153 |
154 |     return pack_path
    |                     ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\kill_switch.py:419:6
    |
417 |         "trend": trend,
418 |         "estimated": True,
419 |     }
    |      ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\knowledge\__init__.py:13:2
   |
11 |     "StoredClaim",
12 |     "StoredEvidence",
13 | ]
   |  ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\knowledge\store.py:174:10
    |
172 |             "total_claims": claims_count,
173 |             "total_evidence": evidence_count,
174 |         }
    |          ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\knowledge_graph.py:186:17
    |
184 |     graph = HybridKnowledgeGraph()
185 |     graph.build_from_vectors(vectors)
186 |     return graph
    |                 ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\kpi\__init__.py:17:2
   |
15 |     "PhaseKPIResult",
16 |     "PhaseKPIEvaluator",
17 | ]
   |  ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\kpi\phase_kpi.py:294:69
    |
292 |                     logger.debug(f"Failed to parse eval file in {run_dir}: {e}")
293 |
294 |         return sum(coverages) / len(coverages) if coverages else 0.0
    |                                                                     ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\lab\__init__.py:92:2
   |
90 |     "get_web_scraper",
91 |     "get_mcp_manager",
92 | ]
   |  ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
    --> jarvis_core\lab\automation.py:1100:51
     |
1098 |     mcp = MCPServerManager()
1099 |     mcp.register_server("pubmed", "http://localhost:8080", ["search", "fetch"])
1100 |     print(f"  Servers: {len(mcp.list_servers())}")
     |                                                   ^
     |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\learning\active_learning.py:316:6
    |
314 |         strategy=strategy_map.get(strategy, SamplingStrategy.COMBINED),
315 |         batch_size=batch_size,
316 |     )
    |      ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\living_review.py:144:19
    |
142 |     updated["previous_version_at"] = existing.get("generated_at")
143 |
144 |     return updated
    |                   ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
 --> jarvis_core\llm.py:5:43
  |
3 | from .llm_utils import LLMClient, Message, Role
4 |
5 | __all__ = ["LLMClient", "Message", "Role"]
  |                                           ^
  |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\llm\__init__.py:37:2
   |
35 |     "LlamaCppConfig",
36 |     "get_llamacpp_adapter",
37 | ]
   |  ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\llm\ensemble.py:257:55
    |
255 |                 pairs += 1
256 |
257 |         return total_sim / pairs if pairs > 0 else 0.0
    |                                                       ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\llm\llamacpp_adapter.py:185:28
    |
183 |     if _default_adapter is None:
184 |         _default_adapter = LlamaCppAdapter()
185 |     return _default_adapter
    |                            ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\llm\model_router.py:297:41
    |
295 | def route_task(task_type: TaskType) -> RoutingDecision:
296 |     """Route a task using global router."""
297 |     return get_router().route(task_type)
    |                                         ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\llm\ollama_adapter.py:307:28
    |
305 |     if _default_adapter is None:
306 |         _default_adapter = OllamaAdapter()
307 |     return _default_adapter
    |                            ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\llm_utils.py:210:57
    |
208 |             (m.content for m in reversed(messages) if m.role == "user"), "No input"
209 |         )
210 |         return self._mock_engine.generate(last_user_msg)
    |                                                         ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
 --> jarvis_core\logging\__init__.py:1:41
  |
1 | """Logging package for research runs."""
  |                                         ^
  |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\logging\run_log.py:170:28
    |
168 |     lines.append(f"- Removed in B: {len(citations_a - citations_b)}")
169 |
170 |     return "\n".join(lines)
    |                            ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\logic_citation.py:163:6
    |
161 |         "predicted_relevance_years": predicted_years,
162 |         "estimated": True,
163 |     }
    |      ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\map\__init__.py:17:2
   |
15 |     "find_concept_path",
16 |     "build_timeline_map",
17 | ]
   |  ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\map\bridges.py:70:24
   |
68 |     bridges.sort(key=lambda x: x["bridge_score"], reverse=True)
69 |
70 |     return bridges[:10]
   |                        ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\map\clusters.py:90:28
   |
88 |         lines.append("")
89 |
90 |     return "\n".join(lines)
   |                            ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\map\neighborhood.py:113:28
    |
111 |         current = next_layer
112 |
113 |     return list(discovered)
    |                            ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\map\path_finder.py:102:33
    |
100 |                     )
101 |
102 |     return None  # No path found
    |                                 ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\map\similarity_explain.py:100:39
    |
 98 |             parts.append(f"{r['axis']}霆ｸ縺瑚ｿ第磁")
 99 |
100 |     return "鬘樔ｼｼ逅・罰: " + "; ".join(parts)
    |                                           ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\map\timeline_map.py:110:28
    |
108 |             )
109 |
110 |     return "\n".join(lines)
    |                            ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\mcp\__init__.py:10:2
   |
 8 |     "MCPTool",
 9 |     "MCPToolResult",
10 | ]
   |  ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\mcp\chain.py:48:23
   |
46 |             else:
47 |                 current_input = {"result": result.data}
48 |         return results
   |                       ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\mcp\hub.py:206:20
    |
204 |         timestamps.append(now)
205 |         self._rate_log[server.name] = timestamps
206 |         return True
    |                    ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\mcp\schema.py:52:36
   |
50 |     data: Any = None
51 |     error: str | None = None
52 |     latency_ms: float | None = None
   |                                    ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\mcp\servers\__init__.py:11:2
   |
 9 |     "get_pubmed_mcp_server",
10 |     "get_semantic_scholar_mcp_server",
11 | ]
   |  ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\mcp\servers\openalex.py:55:6
   |
53 |         status=MCPServerStatus.DISCONNECTED,
54 |         requests_per_minute=100,
55 |     )
   |      ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\mcp\servers\pubmed.py:47:6
   |
45 |         status=MCPServerStatus.DISCONNECTED,
46 |         requests_per_minute=30,
47 |     )
   |      ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\mcp\servers\semantic_scholar.py:57:6
   |
55 |         status=MCPServerStatus.DISCONNECTED,
56 |         requests_per_minute=100,
57 |     )
   |      ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\memory\__init__.py:28:2
   |
26 |     "find_related",
27 |     "get_memory_stats",
28 | ]
   |  ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\memory\hindsight.py:322:31
    |
320 |                     break
321 |
322 |         return results[:limit]
    |                               ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\memory_utils.py:149:6
    |
147 |         "top_concepts": top_concepts,
148 |         "unique_concepts": len(all_concepts),
149 |     }
    |      ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\meta_science.py:220:6
    |
218 |         "current_feature_count": len(current_features),
219 |         "estimated": True,
220 |     }
    |      ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
 --> jarvis_core\metadata\__init__.py:5:84
  |
3 | from .normalize import audit_records, normalize_doi, normalize_record, normalize_title
4 |
5 | __all__ = ["audit_records", "normalize_record", "normalize_doi", "normalize_title"]
  |                                                                                    ^
  |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\metadata\normalize.py:89:6
   |
87 |         "missing_rates": missing_rates,
88 |         "conflict_count": conflict_count,
89 |     }
   |      ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\method_trend.py:102:49
    |
100 |         summary_parts.append(f"{year}蟷ｴ: {method}")
101 |
102 |     return "荳ｻ隕√↑譁ｰ謇区ｳ・ " + ", ".join(summary_parts)
    |                                                       ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\model_system.py:105:6
    |
103 |         "reason": reason,
104 |         "matched_concepts": matched_concepts,
105 |     }
    |      ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\module_registry.py:191:17
    |
191 | _init_registry()
    |                 ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\monitoring\__init__.py:25:2
   |
23 |     "capture_message",
24 |     "sentry_trace",
25 | ]
   |  ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\monitoring\sentry.py:311:19
    |
309 |             raise
310 |
311 |     return wrapper
    |                   ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\multimodal\__init__.py:15:2
   |
13 |     "FigureUnderstanding",
14 |     "TableExtractor",
15 | ]
   |  ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\multimodal\figure_table.py:251:32
    |
249 |         for row in table.rows:
250 |             lines.append(" | ".join(row))
251 |         return "\n".join(lines)
    |                                ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\multimodal\multilang.py:229:23
    |
227 |                 results.append(paper)
228 |
229 |         return results
    |                       ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\multimodal\scientific.py:573:53
    |
571 |     sp = StatisticalResultParser()
572 |     stats = sp.parse("The treatment was significant (p < 0.001, 95% CI: 1.2-3.4)")
573 |     print(f"Found {len(stats)} statistical results")
    |                                                     ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\network\__init__.py:38:2
   |
36 |     DegradationManager,
37 |     get_degradation_manager,
38 | )
   |  ^
   |
help: Add trailing newline

E402 Module level import not at top of file
  --> jarvis_core\network\api_wrapper.py:10:1
   |
 8 | logger = logging.getLogger(__name__)
 9 |
10 | from jarvis_core.network.degradation import DegradationLevel, get_degradation_manager
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |

W292 [*] No newline at end of file
   --> jarvis_core\network\api_wrapper.py:121:19
    |
119 |         return func(*args, **kwargs)
120 |
121 |     return wrapper
    |                   ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\network\degradation.py:78:45
   |
77 | def get_degradation_manager() -> DegradationManager:
78 |     return DegradationManager.get_instance()
   |                                             ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\network\detector.py:276:62
    |
274 |         NetworkCheckResult with detailed status
275 |     """
276 |     return get_detector().get_status(force_check=force_check)
    |                                                              ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\network\listener.py:59:45
   |
57 |                 self._last_status = current_status
58 |
59 |             time.sleep(self._check_interval)
   |                                             ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\notebooklm\podcast_prompt.py:200:6
    |
198 |         "generated_at": datetime.now(timezone.utc).isoformat(),
199 |         "papers_count": len(papers),
200 |     }
    |      ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\notes\note_generator.py:449:6
    |
447 |         "template_version": TEMPLATE_VERSION,
448 |         "research_rank": research_rank,
449 |     }
    |      ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\notes\templates.py:81:6
   |
79 |             "",
80 |         ]
81 |     )
   |      ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
 --> jarvis_core\oa\__init__.py:5:39
  |
3 | from .oa_resolver import OAEvidence, OAResolver
4 |
5 | __all__ = ["OAResolver", "OAEvidence"]
  |                                       ^
  |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\oa\oa_resolver.py:93:24
   |
91 |             return json.loads(payload)
92 |         except (URLError, ValueError):
93 |             return None
   |                        ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\obs\__init__.py:30:84
   |
29 | def alert(name: str, severity: str, message: str) -> None:
30 |     record_event("alert", {"name": name, "severity": severity, "message": message})
   |                                                                                    ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
 --> jarvis_core\obs\alerts\__init__.py:1:26
  |
1 | """Alerting utilities."""
  |                          ^
  |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\obs\alerts\engine.py:216:19
    |
214 |     payload = _make_payload(rule, "Test alert", "This is a test alert", {"source": "api"})
215 |     _dispatch_notifications(rule, payload)
216 |     return payload
    |                   ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\obs\alerts\schema.py:84:98
   |
82 |     ALERT_RULES_PATH.parent.mkdir(parents=True, exist_ok=True)
83 |     with open(ALERT_RULES_PATH, "w", encoding="utf-8") as f:
84 |         json.dump({"rules": [rule.to_dict() for rule in rules]}, f, ensure_ascii=False, indent=2)
   |                                                                                                  ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\obs\log_schema.py:81:6
   |
79 |         data=data or {},
80 |         err=err,
81 |     )
   |      ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\obs\logger.py:121:57
    |
119 |     with open(path, encoding="utf-8") as f:
120 |         lines = [line for line in f if line.strip()]
121 |     return [json.loads(line) for line in lines[-limit:]]
    |                                                         ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\obs\metrics.py:214:6
    |
212 |     return [
213 |         {"error_type": error_type, "count": count} for error_type, count in sorted_errors[:limit]
214 |     ]
    |      ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\obs\retention.py:70:19
   |
68 |     logger = get_logger(run_id="system", job_id="retention", component="retention")
69 |     logger.info("retention cleanup complete", data={"removed": removed})
70 |     return removed
   |                   ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\observability\__init__.py:23:2
   |
21 |     "get_metrics",
22 |     "get_logger",
23 | ]
   |  ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\observability\stack.py:370:19
    |
368 |     if _logger is None:
369 |         _logger = Logger()
370 |     return _logger
    |                   ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\ops\__init__.py:49:2
   |
47 |     "AuditLogger",
48 |     "AuditEntry",
49 | ]
   |  ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\ops\approval.py:81:10
   |
79 |             f"Run {run_dir.name} not approved for {operation}. "
80 |             f"Use 'jarvis_cli approve' to grant approval."
81 |         )
   |          ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\ops\audit.py:270:59
    |
268 | def log_audit(stage: str, action: str, **kwargs) -> AuditEntry:
269 |     """逶｣譟ｻ繝ｭ繧ｰ繧定ｨ倬鹸・井ｾｿ蛻ｩ髢｢謨ｰ・・"""
270 |     return get_audit_logger().log(stage, action, **kwargs)
    |                                                           ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\ops\checkpoint.py:265:20
    |
263 |     if _manager is None:
264 |         _manager = CheckpointManager(base_path)
265 |     return _manager
    |                    ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\ops\diagnostics.py:100:10
    |
 98 |             suggested_action="Manual investigation required",
 99 |             is_recoverable=False,
100 |         )
    |          ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\ops\drift_detector.py:417:36
    |
415 |     """萓ｿ蛻ｩ髢｢謨ｰ: 繝峨Μ繝輔ヨ繧呈､懃衍."""
416 |     detector = DriftDetector()
417 |     return detector.detect(metrics)
    |                                    ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\ops\hitl.py:297:31
    |
295 |     if _feedback_collector is None:
296 |         _feedback_collector = FeedbackCollector()
297 |     return _feedback_collector
    |                               ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\ops\integration.py:260:30
    |
258 |     if _service_connector is None:
259 |         _service_connector = ExternalServiceConnector()
260 |     return _service_connector
    |                              ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\ops\metrics.py:81:28
   |
80 | # Global instance
81 | metrics = PipelineMetrics()
   |                            ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\ops\rate_limiter.py:217:27
    |
215 |         )
216 |
217 |     return _pubmed_limiter
    |                           ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\ops\resilience.py:229:29
    |
227 |     if _monitor:
228 |         return _monitor.get_metrics()
229 |     return ResourceMetrics()
    |                             ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\ops\security.py:283:17
    |
281 |     if _gdpr is None:
282 |         _gdpr = GDPRCompliance()
283 |     return _gdpr
    |                 ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\ops\security_ops.py:247:6
    |
245 |         inputs=spec.inputs,
246 |         outputs=spec.outputs,
247 |     )
    |      ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\ops\snapshot.py:259:20
    |
257 |     if _manager is None:
258 |         _manager = SnapshotManager(base_path)
259 |     return _manager
    |                    ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
 --> jarvis_core\optimization\__init__.py:1:20
  |
1 | """Package init."""
  |                    ^
  |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\optimization\constraints.py:119:18
    |
117 |         )
118 |
119 |     return report
    |                  ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\optimization\report.py:84:31
   |
82 |                 sections.append(f"<li>{violation.detail}</li>")
83 |             sections.append("</ul>")
84 |     return "\n".join(sections)
   |                               ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\optimization\solver.py:109:25
    |
107 |         ),
108 |     )
109 |     return candidates[0]
    |                         ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\orchestrator\__init__.py:10:2
   |
 8 |     "AgentStatus",
 9 |     "AgentTask",
10 | ]
   |  ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
 --> jarvis_core\orchestrator\agents\__init__.py:9:2
  |
7 |     "BrowserAgent",
8 |     "ResearchAgent",
9 | ]
  |  ^
  |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\orchestrator\agents\browser.py:63:30
   |
61 |         if not match:
62 |             return None
63 |         return match.group(0)
   |                              ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\orchestrator\agents\research.py:51:63
   |
49 |         ):
50 |             path = store.save(agent_id, filename, content)
51 |             await orchestrator.record_artifact(agent_id, path)
   |                                                               ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\orchestrator\agents\synthesis.py:60:10
   |
58 |             gaps=gaps,
59 |             strength_of_evidence="moderate" if papers else "low",
60 |         )
   |          ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\orchestrator\artifact_store.py:37:85
   |
35 |         if not agent_dir.exists():
36 |             return []
37 |         return [str(path) for path in sorted(agent_dir.iterdir()) if path.is_file()]
   |                                                                                     ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\orchestrator\conversation.py:28:66
   |
26 |     status: str = "active"
27 |     created_at: datetime = field(default_factory=datetime.utcnow)
28 |     updated_at: datetime = field(default_factory=datetime.utcnow)
   |                                                                  ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\orchestrator\multi_agent.py:270:20
    |
269 |             return BrowserAgent()
270 |         return None
    |                    ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\orchestrator\schema.py:45:41
   |
43 |     errors: list[str] = field(default_factory=list)
44 |     started_at: datetime | None = None
45 |     completed_at: datetime | None = None
   |                                         ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\output\manifest.py:198:72
    |
196 |     valid = len(mismatches) == 0 and len(errors) == 0
197 |
198 |     return {"valid": valid, "mismatches": mismatches, "errors": errors}
    |                                                                        ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\output\runs_index.py:103:19
    |
101 |             matches.append(entry)
102 |
103 |     return matches
    |                   ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\paper_scoring\__init__.py:19:2
   |
17 |     "ScoringWeights",
18 |     "calculate_paper_score",
19 | ]
   |  ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\paper_scoring\scorer.py:293:6
    |
291 |         contrast_count=contrast_count,
292 |         **kwargs,
293 |     )
    |      ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\paper_vector.py:601:19
    |
599 |             logger.debug(f"Failed to load paper vector from {file_path}: {e}")
600 |
601 |     return results
    |                   ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\pdf_extractor.py:176:23
    |
174 |         context.add_chunks(all_results)
175 |
176 |     return all_results
    |                       ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\perf\__init__.py:25:2
   |
23 |     "SLOViolation",
24 |     "check_slo",
25 | ]
   |  ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\perf\dashboard.py:300:6
    |
298 |         gates_failed=failed,
299 |         gates=gates,
300 |     )
    |      ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\perf\memory_optimizer.py:279:10
    |
277 |             "memory_bytes": sum(get_object_size(v) for v in self._cache.values()),
278 |             "max_memory_bytes": self._max_memory_bytes,
279 |         }
    |          ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\perf\profiler.py:260:29
    |
258 |         Default Profiler instance
259 |     """
260 |     return _default_profiler
    |                             ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\perf\report.py:165:28
    |
163 |                 lines.append(f"- {resource}: {data['percent']:.1f}%")
164 |
165 |     return "\n".join(lines)
    |                            ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\perf\slo_policy.py:157:21
    |
155 |         return True, "Approaching token limit"
156 |
157 |     return False, ""
    |                     ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\perf\trace_spans.py:163:31
    |
161 | def get_current_spans() -> list[Span]:
162 |     """Get current spans."""
163 |     return get_tracker().spans
    |                               ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\performance\mobile.py:599:39
    |
597 |     sm = ShareManager()
598 |     share_data = sm.share_paper({"title": "Test Paper", "authors": "Smith J", "pmid": "12345"})
599 |     print(f"Share data: {share_data}")
    |                                       ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\pipelines\__init__.py:29:2
   |
27 |     "register_stage",
28 |     "validate_all_stages",
29 | ]
   |  ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\pipelines\executor.py:328:36
    |
326 |     """YAML縺九ｉ繝代う繝励Λ繧､繝ｳ螳溯｡悟勣繧堤函謌・"""
327 |     config = PipelineConfig.from_yaml(path)
328 |     return PipelineExecutor(config)
    |                                    ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\pipelines\mvp_pipeline.py:425:41
    |
423 |         current_year = 2024
424 |         age = current_year - year
425 |         return max(0.0, 1.0 - age * 0.1)
    |                                         ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\pipelines\paper_pipeline.py:224:10
    |
222 |             "papers_sources": [p.to_dict() for p in self.papers_used],
223 |             "fetch_errors": self.fetch_errors,
224 |         }
    |          ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\pipelines\ranking.py:219:10
    |
217 |             "cheap_passes": self.cheap_count,
218 |             "expensive_passes": self.expensive_count,
219 |         }
    |          ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\pipelines\run_mvp.py:99:11
   |
98 | if __name__ == "__main__":
99 |     main()
   |           ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\pipelines\stage_registry.py:165:45
    |
163 |         StageNotImplementedError: 譛ｪ逋ｻ骭ｲ繧ｹ繝・・繧ｸ縺後≠繧後・
164 |     """
165 |     _registry.validate_pipeline(stage_names)
    |                                             ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\planner.py:77:24
   |
75 |             }
76 |         )
77 |         return subtasks
   |                        ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\plugins\__init__.py:21:2
   |
19 |     "get_plugin_manager",
20 |     "VALID_TYPES",
21 | ]
   |  ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\plugins\manager.py:285:20
    |
283 |     if _manager is None:
284 |         _manager = PluginManager(plugins_dir)
285 |     return _manager
    |                    ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\plugins\plugin_system.py:330:24
    |
328 |     """Decorator to register a plugin."""
329 |     get_registry().register(plugin_class)
330 |     return plugin_class
    |                        ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\plugins\sample_plugins.py:239:10
    |
237 |             "total_unique_words": len(word_counts),
238 |             "total_words_analyzed": len(words),
239 |         }
    |          ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\plugins\zotero_integration.py:305:45
    |
303 |         if not self.client:
304 |             return []
305 |         return self.client.get_collections()
    |                                             ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
 --> jarvis_core\policies\__init__.py:5:41
  |
3 | from .stop_policy import StopDecision, StopPolicy
4 |
5 | __all__ = ["StopPolicy", "StopDecision"]
  |                                         ^
  |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\policies\stop_policy.py:206:32
    |
204 |         lines.append(decision.format_response())
205 |
206 |         return "\n".join(lines)
    |                                ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
 --> jarvis_core\prompts\__init__.py:5:60
  |
3 | from .registry import PromptEntry, PromptRegistry, get_registry
4 |
5 | __all__ = ["PromptRegistry", "PromptEntry", "get_registry"]
  |                                                            ^
  |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\prompts\registry.py:491:21
    |
489 |     if _registry is None:
490 |         _registry = PromptRegistry()
491 |     return _registry
    |                     ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\protein\__init__.py:49:2
   |
47 |     "get_admet_predictor",
48 |     "get_pathway_analyzer",
49 | ]
   |  ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\protein\biomolecule.py:578:57
    |
576 |     pd = ProteinSequenceDesigner()
577 |     designed = pd.design_sequence(50, "helix")
578 |     print(f"  Designed: {designed['sequence'][:30]}...")
    |                                                         ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\provenance\__init__.py:25:2
   |
23 |     "EvidenceCandidate",
24 |     "align_claim_to_chunks",
25 | ]
   |  ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\provenance\aligner.py:57:63
   |
55 |     if not a or not b:
56 |         return 0.0
57 |     return SequenceMatcher(None, a.lower(), b.lower()).ratio()
   |                                                               ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\provenance\graph.py:192:17
    |
190 |         graph.add_edge(inf_id, f"artifact_{artifact.kind}")
191 |
192 |     return graph
    |                 ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\provenance\linker.py:339:50
    |
337 | def get_provenance_validator(min_rate: float = 0.95) -> ProvenanceValidator:
338 |     """Get provenance validator instance."""
339 |     return ProvenanceValidator(min_rate=min_rate)
    |                                                  ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\provenance\manifest_v2.py:159:17
    |
157 |         diffs["version"] = f"Version changed: {m1.jarvis_version} 竊・{m2.jarvis_version}"
158 |
159 |     return diffs
    |                 ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\provenance\schema.py:44:10
   |
42 |             "generated_at": self.generated_at,
43 |             "model_info": self.model_info,
44 |         }
   |          ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\providers\__init__.py:32:2
   |
30 |     "get_llm_provider",
31 |     "get_embed_provider",
32 | ]
   |  ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\providers\api_embed.py:66:31
   |
64 |     def dimension(self) -> int:
65 |         """繝吶け繝医Ν谺｡蜈・焚."""
66 |         return self._dimension
   |                               ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\providers\api_llm.py:74:40
   |
72 |         input_cost = (input_tokens / 1000) * 0.01
73 |         output_cost = (output_tokens / 1000) * 0.03
74 |         return input_cost + output_cost
   |                                        ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\providers\base.py:113:13
    |
111 |     def dimension(self) -> int:
112 |         """繝吶け繝医Ν谺｡蜈・焚."""
113 |         pass
    |             ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\providers\factory.py:100:40
    |
 98 |             model=api_config.get("model", "text-embedding-3-small"),
 99 |         )
100 |         return APIEmbedProvider(config)
    |                                        ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\providers\local_embed.py:174:54
    |
172 |     def model_info(self) -> dict:
173 |         """Get model configuration info."""
174 |         return MODEL_CONFIG.get(self._model_enum, {})
    |                                                      ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\providers\local_llm.py:81:19
   |
79 |     def estimate_cost(self, input_tokens: int, output_tokens: int) -> float:
80 |         """繧ｳ繧ｹ繝域耳螳夲ｼ医Ο繝ｼ繧ｫ繝ｫ縺ｯ0・・"""
81 |         return 0.0
   |                   ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\ranking\__init__.py:18:2
   |
16 |     "log_ranking",
17 |     "RankingLogger",
18 | ]
   |  ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\ranking\base.py:41:12
   |
39 |             繝ｩ繝ｳ繧ｭ繝ｳ繧ｰ貂医∩繧｢繧､繝・Β・磯剄鬆・ｼ・40 |         """
41 |         ...
   |            ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\ranking\explainer.py:175:49
    |
173 |     """萓ｿ蛻ｩ髢｢謨ｰ: 繝ｩ繝ｳ繧ｭ繝ｳ繧ｰ繧定ｪｬ譏・"""
174 |     explainer = ExplainableRanker()
175 |     return explainer.explain_batch(ranked_items)
    |                                                 ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\ranking\features.py:55:58
   |
53 |         """Extract features for a batch of documents."""
54 |         # Note: In a real implementation, we'd handle vector batching here
55 |         return [self.extract(query, doc) for doc in docs]
   |                                                          ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\ranking\heuristics.py:64:59
   |
62 |             繧ｹ繧ｳ繧｢髯埼・〒繧ｽ繝ｼ繝医＆繧後◆繧｢繧､繝・Β
63 |         """
64 |         return sorted(items, key=self.score, reverse=True)
   |                                                           ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\ranking\lgbm_ranker.py:185:18
    |
183 |     if model_path and model_path.exists():
184 |         ranker.load(model_path)
185 |     return ranker
    |                  ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\ranking\logger.py:83:79
   |
81 |     ) -> None:
82 |         """繝ｩ繝ｳ繧ｭ繝ｳ繧ｰ繧偵Ο繧ｰ."""
83 |         log_ranking(self.log_path, task_id, stage, items, chosen_order, extra)
   |                                                                               ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\ranking\ranker.py:309:45
    |
307 |     """萓ｿ蛻ｩ髢｢謨ｰ: 隲匁枚繧偵Λ繝ｳ繧ｯ莉倥￠."""
308 |     ranker = Ranker(weights=weights)
309 |     return ranker.rank_papers(papers, query)
    |                                             ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\ranking\train.py:60:58
   |
58 |     def train(self):
59 |         """Train the model (Placeholder)."""
60 |         logger.info("Training LightGBM ranker... (TODO)")
   |                                                          ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\recommendation.py:97:26
   |
95 |     scored.sort(key=lambda x: x["score"], reverse=True)
96 |
97 |     return scored[:top_k]
   |                          ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\redact_logging.py:91:35
   |
89 |         _logger = logging.getLogger("jarvis")
90 |
91 |     return logging.getLogger(name)
   |                                   ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\reference.py:264:16
    |
262 |                 logger.debug(f"PubMed resolver failed for {ref.id}: {e}")
263 |
264 |     return refs
    |                ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\reference_formatter.py:194:28
    |
192 |         lines.append(f"| {ref.id} | {chunk_str} |")
193 |
194 |     return "\n".join(lines)
    |                            ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\registry.py:90:25
   |
88 |         except TypeError:
89 |             # Some agents may not accept kwargs; attempt no-arg construction.
90 |             return cls()
   |                         ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\reliability\__init__.py:76:2
   |
74 |     "RecoveryTimeObjective",
75 |     "get_dr_manager",
76 | ]
   |  ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\reliability\chaos.py:277:9
    |
275 |     """Exception raised by chaos injection."""
276 |
277 |     pass
    |         ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\reliability\circuit_breaker.py:261:21
    |
259 |         return wrapper
260 |
261 |     return decorator
    |                     ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\reliability\disaster_recovery.py:387:23
    |
385 |     if _dr_manager is None:
386 |         _dr_manager = DisasterRecoveryManager()
387 |     return _dr_manager
    |                       ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\reliability\health.py:357:10
    |
355 |             latency_ms=0,
356 |             message="Check unavailable",
357 |         )
    |          ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\reliability\rate_limiter.py:232:21
    |
230 |         return wrapper
231 |
232 |     return decorator
    |                     ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\reliability\retry.py:191:66
    |
189 |             await asyncio.sleep(delay)
190 |
191 |     raise RetryExhaustedError(config.max_retries, last_exception)
    |                                                                  ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
 --> jarvis_core\renderers\__init__.py:8:2
  |
6 |     "render_claimset_json",
7 |     "render_claimset_markdown",
8 | ]
  |  ^
  |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\renderers\claimset_renderer.py:73:28
   |
71 |     lines.append(f"**Total Claims:** {len(claimset.claims)}")
72 |
73 |     return "\n".join(lines)
   |                            ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\renderers\report_renderer.py:159:28
    |
157 |         lines.append("")
158 |
159 |     return "\n".join(lines)
    |                            ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\repair\__init__.py:17:2
   |
15 |     "RepairAction",
16 |     "REMEDY_CATALOG",
17 | ]
   |  ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\repair\learner.py:232:31
    |
230 | def get_learner() -> SelfRepairLearner:
231 |     """繧ｰ繝ｭ繝ｼ繝舌Ν蟄ｦ鄙貞勣繧貞叙蠕・"""
232 |     return SelfRepairLearner()
    |                               ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\repair\planner.py:310:38
    |
308 |         if step_index >= len(plan.steps):
309 |             return None
310 |         return plan.steps[step_index]
    |                                      ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
 --> jarvis_core\replay\__init__.py:5:51
  |
3 | from .reproduce import ReplayResult, replay_from_manifest
4 |
5 | __all__ = ["replay_from_manifest", "ReplayResult"]
  |                                                   ^
  |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\replay\claimset_diff.py:124:6
    |
122 |         changed=changed,
123 |         unchanged_count=unchanged,
124 |     )
    |      ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\replay\reproduce.py:148:28
    |
146 |             lines.append(f"- **Unknown**: {reason.value}")
147 |
148 |     return "\n".join(lines)
    |                            ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
 --> jarvis_core\report\__init__.py:5:63
  |
3 | from .generator import ReportGenerator, generate_report_with_evidence
4 |
5 | __all__ = ["ReportGenerator", "generate_report_with_evidence"]
  |                                                               ^
  |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\report\citation_audit.py:96:76
   |
94 |         # Actually simplest approach is splitting by . followed by space/newline
95 |         # This is a heuristic approximation.
96 |         return re.split(r"(?<!\w\.\w.)(?<![A-Z][a-z]\.)(?<=\.|\?)\s", text)
   |                                                                            ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\report\generator.py:207:83
    |
205 |     """
206 |     generator = ReportGenerator()
207 |     return generator.generate_full_report(query, claims, evidence, papers, scores)
    |                                                                                   ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\reporting\__init__.py:13:2
   |
11 |     "determine_uncertainty",
12 |     "format_conclusion_text",
13 | ]
   |  ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\reporting\language_lint.py:163:20
    |
161 |         else:
162 |             print("LANGUAGE LINT PASSED")
163 |         return True
    |                    ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\reporting\prisma_generator.py:300:42
    |
298 |     if output_format == "mermaid":
299 |         return generator.to_mermaid(diagram)
300 |     return generator.to_markdown(diagram)
    |                                          ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\reporting\rank_explain.py:162:18
    |
160 |             )
161 |
162 |     return errors
    |                  ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\reporting\report_schema.py:89:18
   |
87 |         )
88 |
89 |     return errors
   |                  ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\reporting\uncertainty.py:96:45
   |
94 |     else:  # 謗ｨ貂ｬ
95 |         # Replace with uncertainty template
96 |         return f"譬ｹ諡荳崎ｶｳ縺ｮ縺溘ａ縲＋base_text}縺九←縺・°縺ｯ荳肴・"
   |                                                            ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
 --> jarvis_core\repro\__init__.py:5:49
  |
3 | from .run_manifest import RunManifest, create_run_manifest
4 |
5 | __all__ = ["RunManifest", "create_run_manifest"]
  |                                                 ^
  |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\repro\run_manifest.py:56:6
   |
54 |         output_counts=output_counts,
55 |         warnings_summary=warnings_summary,
56 |     )
   |      ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\research\__init__.py:13:2
   |
11 |     "Hypothesis",
12 |     "HypothesisGenerator",
13 | ]
   |  ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\research\hypothesis.py:215:10
    |
213 |             "relevance": 0.8,
214 |             "feasibility": 0.7,
215 |         }
    |          ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\research\writing_assistant.py:257:22
    |
255 |             )
256 |
257 |         return issues
    |                      ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\resolvers\__init__.py:16:2
   |
14 |     "resolve_pubmed",
15 |     "PubMedResult",
16 | ]
   |  ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\resolvers\crossref_resolver.py:164:15
    |
162 |             ref.journal = result.journal
163 |
164 |     return ref
    |               ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\resolvers\pubmed_resolver.py:143:15
    |
141 |             ref.doi = result.doi
142 |
143 |     return ref
    |               ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\result.py:116:10
    |
114 |             claims=claims,
115 |             meta=data.get("meta", {}),
116 |         )
    |          ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\retrieval\__init__.py:12:2
   |
10 |     "TwoStageRetriever",
11 |     "GraphBooster",
12 | ]
   |  ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\retrieval\adaptive_chunking.py:324:65
    |
322 |         """Generate stable chunk ID."""
323 |         content = f"{text[:50]}:{offset}"
324 |         return hashlib.sha256(content.encode()).hexdigest()[:16]
    |                                                                 ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\retrieval\bm25.py:86:44
   |
84 |             self.bm25 = data["bm25"]
85 |             self.corpus = data["corpus"]
86 |             self._doc_ids = data["doc_ids"]
   |                                            ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\retrieval\bm25_store.py:60:23
   |
58 |             )
59 |             results = [(row[0], float(row[1])) for row in cursor.fetchall()]
60 |         return results
   |                       ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\retrieval\chunker.py:94:22
   |
92 |                 )
93 |             )
94 |         return chunks
   |                      ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\retrieval\citation_context.py:183:31
    |
181 |         results.sort(key=lambda x: x[2], reverse=True)
182 |
183 |         return results[:top_k]
    |                               ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\retrieval\citation_graph.py:205:20
    |
203 |                         queue.append((neighbor_id, path + [neighbor_id]))
204 |
205 |         return None
    |                    ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\retrieval\contextual_embeddings.py:152:26
    |
150 |             )
151 |
152 |         return contextual
    |                          ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\retrieval\cross_encoder.py:186:71
    |
185 |         # Stage 2: Rerank
186 |         return self.reranker.adaptive_rerank(query, candidates, top_k)
    |                                                                       ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\retrieval\embeddings.py:48:82
   |
46 |         for text in texts:
47 |             vectors.append(self._hash_to_vec(text))
48 |         return EmbeddingResult(vectors=np.vstack(vectors), model=self.model_name)
   |                                                                                  ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\retrieval\expansion.py:47:27
   |
45 |             return [query, self.generate_hyde(query)]
46 |         else:
47 |             return [query]
   |                           ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\retrieval\export.py:71:29
   |
69 |             }
70 |         )
71 |     return output.getvalue()
   |                             ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\retrieval\factual_consistency.py:252:10
    |
250 |             overall_score=score,
251 |             claim_checks=checks,
252 |         )
    |          ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\retrieval\filters.py:48:20
   |
46 |             continue
47 |         filtered.append(chunk)
48 |     return filtered
   |                    ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\retrieval\graph_boost.py:136:10
    |
134 |             bridge_papers=bridge_papers,
135 |             boost_scores=boost_scores,
136 |         )
    |          ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\retrieval\hybrid.py:100:61
    |
 98 |         sorted_docs = sorted(scores.values(), key=lambda x: x["score"], reverse=True)
 99 |
100 |         return [item["doc"] for item in sorted_docs[:top_n]]
    |                                                             ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\retrieval\hybrid_retrieval.py:315:21
    |
313 |     retriever = HybridRetriever(dense_model=dense_model)
314 |     retriever.index(documents)
315 |     return retriever
    |                     ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\retrieval\hybrid_router.py:151:26
    |
149 | def create_default_router() -> HybridRouter:
150 |     """Create router with default settings."""
151 |     return HybridRouter()
    |                          ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\retrieval\hybrid_search.py:149:59
    |
147 |         if chunk.doc_id.startswith("kb:"):
148 |             return {"type": "kb", "url": f"/dashboard/kb.html?id={chunk.doc_id}"}
149 |         return {"type": "kb", "url": "/dashboard/kb.html"}
    |                                                           ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\retrieval\hyde.py:176:20
    |
174 |         return base_retriever.search(query, top_k=top_k)
175 |
176 |     return retrieve
    |                    ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\retrieval\indexer.py:383:93
    |
381 |     import hashlib
382 |
383 |     return hashlib.sha1(f"{run_id}|{text}".encode(), usedforsecurity=False).hexdigest()[:12]
    |                                                                                             ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\retrieval\multi_query.py:153:29
    |
151 |         fused = self.reciprocal_rank_fusion(result_sets)
152 |
153 |         return fused[:top_k]
    |                             ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\retrieval\query_decompose.py:186:6
    |
184 |         entities=entities,
185 |         confidence=confidence,
186 |     )
    |      ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\retrieval\query_understanding.py:322:31
    |
320 |             parts.append(f"({parsed.time_range.description})")
321 |
322 |         return " ".join(parts)
    |                               ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\retrieval\schema.py:103:10
    |
101 |             "meta": self.chunk.meta.to_dict(),
102 |             "jump_link": self.jump_link,
103 |         }
    |          ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\retrieval\semantic_dedup.py:180:77
    |
179 |         # Filter chunks
180 |         return [c for c in chunks if c.get("chunk_id") not in duplicate_ids]
    |                                                                             ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\retrieval\snapshot.py:66:20
   |
64 |         snapshot = json.load(f)
65 |
66 |     return snapshot
   |                    ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\retrieval\two_stage.py:123:6
    |
121 |         stage1_fn=simple_bm25_stage1,
122 |         stage2_fn=simple_rerank_stage2,
123 |     )
    |      ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\retrieval\vector_store.py:68:23
   |
66 |         for idx in top_indices:
67 |             results.append((self.chunk_ids[idx], float(scores[idx])))
68 |         return results
   |                       ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\retriever.py:260:40
    |
259 |     retriever = BM25Retriever().build(chunks, store)
260 |     return retriever.search(query, k=k)
    |                                        ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\retry.py:88:21
   |
86 |         return cast(Callable[..., T], wrapper)
87 |
88 |     return decorator
   |                     ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\retry_controller.py:223:10
    |
221 |                 for a in self.attempts
222 |             ],
223 |         }
    |          ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
 --> jarvis_core\review\__init__.py:5:45
  |
3 | from .triage import TriageResult, triage_by_risk
4 |
5 | __all__ = ["triage_by_risk", "TriageResult"]
  |                                             ^
  |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\review\living_updater.py:59:10
   |
57 |             evidence_grades=evidence_grades,
58 |             prisma_flow=prisma_flow,
59 |         )
   |          ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\review\triage.py:147:28
    |
145 |         lines.append("")
146 |
147 |     return "\n".join(lines)
    |                            ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\review_mode.py:201:28
    |
199 |         lines.append(f"- {source}")
200 |
201 |     return "\n".join(lines)
    |                            ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\reviewer_persona.py:147:6
    |
145 |         generate_reviewer_feedback(vectors, "innovative"),
146 |         generate_reviewer_feedback(vectors, "conservative"),
147 |     ]
    |      ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\ris.py:96:39
   |
95 |     # Join with empty line between entries
96 |     return "\n\n".join(entries) + "\n"
   |                                       ^
   |
help: Add trailing newline

E402 Module level import not at top of file
  --> jarvis_core\router.py:10:1
   |
 8 |   logger = logging.getLogger(__name__)
 9 |
10 | / from .agents import (
11 | |     AgentResult,
12 | |     ESEditAgent,
13 | |     JobAssistantAgent,
14 | |     MiscAgent,
15 | |     PaperFetcherAgent,
16 | |     ThesisAgent,
17 | | )
   | |_^
18 |   from .llm import LLMClient
19 |   from .registry import AgentRegistry
   |

E402 Module level import not at top of file
  --> jarvis_core\router.py:18:1
   |
16 |     ThesisAgent,
17 | )
18 | from .llm import LLMClient
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^
19 | from .registry import AgentRegistry
20 | from .task import Task, TaskCategory
   |

E402 Module level import not at top of file
  --> jarvis_core\router.py:19:1
   |
17 | )
18 | from .llm import LLMClient
19 | from .registry import AgentRegistry
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
20 | from .task import Task, TaskCategory
   |

E402 Module level import not at top of file
  --> jarvis_core\router.py:20:1
   |
18 | from .llm import LLMClient
19 | from .registry import AgentRegistry
20 | from .task import Task, TaskCategory
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |

W292 [*] No newline at end of file
   --> jarvis_core\router.py:154:22
    |
153 |         result = agent.run_single(self.llm, task)
154 |         return result
    |                      ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\rules\__init__.py:10:2
   |
 8 |     "Rule",
 9 |     "RuleScope",
10 | ]
   |  ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\rules\engine.py:66:69
   |
64 |             data["path"] = str(rule.path)
65 |             output.append(data)
66 |         return sorted(output, key=lambda item: item.get("name", ""))
   |                                                                     ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\rules\schema.py:25:25
   |
23 |     path: Path
24 |     content: str
25 |     enabled: bool = True
   |                         ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\run_config.py:86:23
   |
84 | def get_default_config() -> RunConfig:
85 |     """Get default run configuration."""
86 |     return RunConfig()
   |                       ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\runtime\__init__.py:26:2
   |
24 |     "CircuitBreaker",
25 |     "FailureReason",
26 | ]
   |  ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\runtime\budget.py:169:30
    |
167 |     """Set global budget manager."""
168 |     global _budget_manager
169 |     _budget_manager = manager
    |                              ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\runtime\checkpoint.py:99:53
   |
97 |     def is_processed(self, item_id: str) -> bool:
98 |         """Check if item is already processed."""
99 |         return item_id in self.state.processed_items
   |                                                     ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\runtime\circuit_breaker.py:198:10
    |
196 |             "attempts": self.attempts,
197 |             "error_message": self.error_message,
198 |         }
    |          ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\runtime\cost_tracker.py:118:40
    |
116 |     total_tokens = totals.get("total_tokens", 0)
117 |
118 |     return total_tokens > budget_tokens
    |                                        ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\runtime\distributed.py:212:50
    |
210 |         """
211 |         task = self._tasks.get(task_id)
212 |         return task.status if task else "unknown"
    |                                                  ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\runtime\durable.py:142:18
    |
140 |         if checkpoint:
141 |             return checkpoint.pending_items
142 |         return []
    |                  ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\runtime\escalation.py:133:43
    |
131 | def get_escalator(policy_path: Path = Path("policies/inference_policy.yaml")) -> InferenceEscalator:
132 |     """Get escalator instance."""
133 |     return InferenceEscalator(policy_path)
    |                                           ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\runtime\failure_signal.py:188:19
    |
186 |                         )
187 |
188 |     return signals
    |                   ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\runtime\gpu.py:196:52
    |
194 |         )
195 |
196 |         return [emb.tolist() for emb in embeddings]
    |                                                    ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\runtime\offline_manager.py:291:28
    |
289 |     if _default_manager is None:
290 |         _default_manager = OfflineManager()
291 |     return _default_manager
    |                            ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\runtime\path_normalizer.py:129:93
    |
128 |         sys.stdout = io.TextIOWrapper(sys.stdout.buffer, encoding="utf-8", errors="replace")
129 |         sys.stderr = io.TextIOWrapper(sys.stderr.buffer, encoding="utf-8", errors="replace")
    |                                                                                             ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\runtime\remediation\__init__.py:35:2
   |
33 |     "get_catalog",
34 |     "get_action",
35 | ]
   |  ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\runtime\remediation\actions.py:202:2
    |
200 |     BudgetRebalance(),
201 |     ModelRouterSafeSwitch(),
202 | ]
    |  ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\runtime\remediation\catalog.py:69:40
   |
67 | def get_action(action_id: str) -> RemediationAction | None:
68 |     """Get action from global catalog."""
69 |     return get_catalog().get(action_id)
   |                                        ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\runtime\remediation\planner.py:141:58
    |
139 | ) -> list[str]:
140 |     """Plan repair using global planner."""
141 |     return get_planner().plan(signals, state, run_config)
    |                                                          ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\runtime\repair_loop.py:184:10
    |
182 |             failure_signals_history=signals_history,
183 |             total_time_seconds=time.time() - start_time,
184 |         )
    |          ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\runtime\repair_policy.py:112:2
    |
110 |     max_wall_time_sec=300.0,
111 |     max_tool_calls=50,
112 | )
    |  ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\runtime\result.py:122:65
    |
120 |     def unwrap_or(self, default: T) -> T:
121 |         """Get value or return default."""
122 |         return self.value if self.value is not None else default
    |                                                                 ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\runtime\retry.py:164:22
    |
162 |                 self._is_open = True
163 |
164 |         return result
    |                      ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\runtime\seed.py:66:26
   |
64 |     """Reset the enforced seed (for testing)."""
65 |     global _enforced_seed
66 |     _enforced_seed = None
   |                          ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\runtime\status.py:124:39
    |
122 | def is_terminal(status: RunStatus) -> bool:
123 |     """Check if status is terminal (run complete)."""
124 |     return status in TERMINAL_STATUSES
    |                                       ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\runtime\streaming_bundle.py:214:39
    |
212 | def create_streaming_bundle(output_dir: str) -> StreamingBundle:
213 |     """Create a new streaming bundle."""
214 |     return StreamingBundle(output_dir)
    |                                       ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\runtime\task_graph.py:244:21
    |
242 |                 stats["pending"] += 1
243 |
244 |         return stats
    |                     ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\runtime\time.py:72:26
   |
70 |     if dt is None:
71 |         dt = datetime(2024, 1, 1, 0, 0, 0, tzinfo=timezone.utc)
72 |     return FrozenTime(dt)
   |                          ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
 --> jarvis_core\scheduler\__init__.py:1:25
  |
1 | """Scheduler package."""
  |                         ^
  |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\scheduler\dedupe.py:79:23
   |
77 |                         + "\n"
78 |                     )
79 |     return new_records
   |                       ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\scheduler\engine.py:163:15
    |
161 |         if is_due(schedule, now, schedule.get("last_run_at")):
162 |             due.append(schedule)
163 |     return due
    |               ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\scheduler\idempotency.py:45:59
   |
43 |     fingerprint = query_fingerprint(schedule.get("query", {}))
44 |     raw = f"{schedule.get('schedule_id')}|{period.isoformat()}|{fingerprint}"
45 |     return hashlib.sha256(raw.encode("utf-8")).hexdigest()
   |                                                           ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\scheduler\locks.py:60:42
   |
58 |         json.dump({"key": key, "expires_at": expires_at}, f)
59 |
60 |     return LockHandle(key=key, path=path)
   |                                          ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\scheduler\rate_limit.py:54:37
   |
54 | GLOBAL_LIMITER = DomainRateLimiter()
   |                                     ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\scheduler\retry.py:13:78
   |
11 |     cooldown = cooldown_minutes * 60
12 |     wait = max(delay, cooldown)
13 |     return (datetime.now(timezone.utc) + timedelta(seconds=wait)).isoformat()
   |                                                                              ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\scheduler\runner.py:69:78
   |
67 |     run = store.update_run(run_id, status=status, error=error)
68 |     if run:
69 |         store.update_schedule_status(run["schedule_id"], status, error=error)
   |                                                                              ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\scheduler\schema.py:117:75
    |
115 |     missing = [field for field in REQUIRED_FIELDS if not payload.get(field)]
116 |     if missing:
117 |         raise ValueError(f"missing required fields: {', '.join(missing)}")
    |                                                                           ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\scheduler\store.py:208:66
    |
206 |     schedule["updated_at"] = _now()
207 |     with _index_lock:
208 |         _write_json_atomic(_schedule_path(schedule_id), schedule)
    |                                                                  ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\scientist\__init__.py:57:2
   |
55 |     "get_experiment_designer",
56 |     "get_debate_system",
57 | ]
   |  ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\scientist\coscientist.py:791:59
    |
789 |     ed = ExperimentDesignerPro()
790 |     design = ed.design_experiment("Treatment X improves outcome Y")
791 |     print(f"  Sample size: {design['design']['total_n']}")
    |                                                           ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
 --> jarvis_core\scoring\__init__.py:6:95
  |
4 | from .registry import ScoreRegistry, get_score_info, normalize_score
5 |
6 | __all__ = ["ScoreRegistry", "normalize_score", "get_score_info", "score_paper", "ScoreResult"]
  |                                                                                               ^
  |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\scoring\paper_score.py:117:15
    |
115 |     if score >= 65:
116 |         return "B"
117 |     return "C"
    |               ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\scoring\registry.py:247:74
    |
245 |     Returns list of unregistered names.
246 |     """
247 |     return [name for name in scores if not _registry.is_registered(name)]
    |                                                                          ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\search\__init__.py:12:2
   |
10 |     "get_search_engine",
11 |     "search",
12 | ]
   |  ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\search\adapter.py:177:32
    |
175 |     """萓ｿ蛻ｩ髢｢謨ｰ: 繧ｯ繧ｨ繝ｪ繧帝←蠢・"""
176 |     adapter = QueryAdapter(domain)
177 |     return adapter.adapt(query)
    |                                ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\search\engine.py:274:39
    |
272 |     """萓ｿ蛻ｩ髢｢謨ｰ: 讀懃ｴ｢."""
273 |     engine = get_search_engine()
274 |     return engine.search(query, top_k)
    |                                       ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\search\hybrid.py:212:39
    |
210 |     """萓ｿ蛻ｩ髢｢謨ｰ: 繝上う繝悶Μ繝・ラ讀懃ｴ｢."""
211 |     engine = HybridSearchEngine(bm25_weight=bm25_weight, vector_weight=1 - bm25_weight)
212 |     return engine.search(query, top_k)
    |                                       ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\security\__init__.py:26:2
   |
24 |     "CommandExecutionRequest",
25 |     "CommandExecutionResult",
26 | ]
   |  ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\security\anonymizer.py:40:22
   |
38 |         logger.info("Anonymized %s at %s-%s", detection.type, detection.start, detection.end)
39 |
40 |     return anonymized
   |                      ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\security\atomic_io.py:62:32
   |
60 |     for row in rows:
61 |         content += json.dumps(row, ensure_ascii=False) + "\n"
62 |     atomic_write(path, content)
   |                                ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\security\audit.py:98:52
   |
96 |         }
97 |         with path.open("a", encoding="utf-8") as handle:
98 |             handle.write(json.dumps(record) + "\n")
   |                                                    ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\security\fs_safety.py:133:27
    |
131 |             file_count += 1
132 |
133 |     return extracted_paths
    |                           ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\security\injection_defense.py:98:31
   |
96 |     sanitized = sanitize_for_context(text)
97 |
98 |     return sanitized, warnings
   |                               ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\security\injection_guard.py:34:6
   |
32 |         patterns_detected=detected,
33 |         sanitized_input=sanitized,
34 |     )
   |      ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\security\path_validator.py:95:24
   |
93 |                 )
94 |
95 |         return resolved
   |                        ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\security\pii_detector.py:43:22
   |
41 |                 )
42 |             )
43 |     return detections
   |                      ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\security\pii_scan.py:96:10
   |
94 |             "total_matches": len(matches),
95 |             "by_type": summary,
96 |         }
   |          ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\security\rbac.py:280:90
    |
278 |         """
279 |         if not self.check_permission(user_id, permission):
280 |             raise PermissionError(f"User {user_id} lacks permission: {permission.value}")
    |                                                                                          ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\security\redaction.py:181:61
    |
179 |     # Also add to JARVIS specific loggers
180 |     logging.getLogger("jarvis_core").addFilter(redact_filter)
181 |     logging.getLogger("jarvis_web").addFilter(redact_filter)
    |                                                             ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\security\storage_policy.py:145:38
    |
143 |     redactor = Redactor()
144 |
145 |     return redactor.redact_dict(data)
    |                                      ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\security\terminal.py:160:14
    |
158 |                 executed=True,
159 |                 blocked_reason="Command timed out",
160 |             )
    |              ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\security\terminal_schema.py:51:36
   |
49 |     stderr: str | None = None
50 |     blocked_reason: str | None = None
51 |     requires_approval: bool = False
   |                                    ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\settings.py:44:21
   |
42 |         _settings = CoreSettings()
43 |         _settings.validate()
44 |     return _settings
   |                     ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
 --> jarvis_core\skills\__init__.py:9:2
  |
7 |     "SkillMetadata",
8 |     "SkillScope",
9 | ]
  |  ^
  |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\skills\engine.py:144:62
    |
142 |                 section_parts.append("\n\n".join(resources_text))
143 |             sections.append("\n\n".join(section_parts))
144 |         return textwrap.dedent("\n\n".join(sections)).strip()
    |                                                              ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\skills\schema.py:37:25
   |
35 |     resources: dict[str, str] = field(default_factory=dict)
36 |     scripts: dict[str, str] = field(default_factory=dict)
37 |     loaded: bool = False
   |                         ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\sources\__init__.py:37:2
   |
35 |     "ChunkResult",
36 |     "ExecutionContext",
37 | ]
   |  ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\sources\arxiv_client.py:332:25
    |
330 |         except requests.RequestException as e:
331 |             logger.error(f"Failed to download PDF for {arxiv_id}: {e}")
332 |             return False
    |                         ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\sources\base.py:50:38
   |
48 |     def validate_query(self, query: str) -> bool:
49 |         """Optional validation of query format."""
50 |         return len(query.strip()) > 0
   |                                      ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\sources\chunking.py:292:10
    |
290 |             query,
291 |             k=k,
292 |         )
    |          ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\sources\crossref_client.py:239:24
    |
237 |         except Exception as e:
238 |             logger.error(f"Failed to parse Crossref work: {e}")
239 |             return None
    |                        ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\sources\openalex_client.py:294:10
    |
292 |             concepts=concepts,
293 |             open_access_url=oa_url,
294 |         )
    |          ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\sources\preprint_matcher.py:52:20
   |
50 |         )
51 |     except requests.RequestException:
52 |         return None
   |                    ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\sources\pubmed_client.py:286:33
    |
284 |         if not pmids:
285 |             return []
286 |         return self.fetch(pmids)
    |                                 ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\sources\registry.py:50:42
   |
48 |     def list_sources(cls) -> list[str]:
49 |         """List available source names."""
50 |         return list(cls._adapters.keys())
   |                                          ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\sources\retraction_watch.py:44:6
   |
42 |     return RetractionStatus(
43 |         is_retracted=False, retraction_date=None, reason=None, source_url=source_url
44 |     )
   |      ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\sources\semantic_scholar_client.py:279:10
    |
277 |             url=data.get("url", ""),
278 |             fields_of_study=data.get("fieldsOfStudy", []) or [],
279 |         )
    |          ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\sources\unified_source_client.py:287:10
    |
285 |             "semantic_scholar_available": True,
286 |             "openalex_available": True,
287 |         }
    |          ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\sources\unpaywall_client.py:205:10
    |
203 |             host_type=loc_data.get("host_type"),
204 |             license=loc_data.get("license"),
205 |         )
    |          ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\stages\__init__.py:29:2
   |
27 |     "grade_evidence",
28 |     "extract_features",
29 | ]
   |  ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\stages\extract_claims.py:61:6
   |
59 |         "stage": "extraction.claims",
60 |         "source_papers": len(papers),
61 |     }
   |      ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\stages\extract_features.py:103:6
    |
101 |         "rubric": "immuno_onco_v1",
102 |         "stage": "extraction.rubric_features",
103 |     }
    |      ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\stages\find_counter_evidence.py:97:6
   |
95 |         "support_count": support_count,
96 |         "refute_count": refute_count,
97 |     }
   |      ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\stages\find_evidence.py:55:6
   |
53 |         "stage": "extraction.evidence_link",
54 |         "coverage": len(evidence_list) / len(claims) if claims else 0,
55 |     }
   |      ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\stages\generate_report.py:321:28
    |
319 |     lines.append("")
320 |
321 |     return "\n".join(lines)
    |                            ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\stages\grade_evidence.py:101:6
    |
 99 |         "gate_pass": len(unsupported_claims) == 0 and support_rate >= 0.90,
100 |         "stage": "quality_gate.evidence_grading",
101 |     }
    |      ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\stages\output_quality.py:448:21
    |
446 |         provenance_rate=summary.get("avg_provenance_rate", 0),
447 |     )
448 |     return artifacts
    |                     ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\stages\pretrain_citation.py:755:21
    |
754 |     log_audit("ops.store_training_record", "completed", details={"saved": saved})
755 |     return artifacts
    |                     ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\stages\pretrain_meta.py:544:21
    |
543 |     log_audit("ops.store_training_record_meta", "completed", details={"saved": saved})
544 |     return artifacts
    |                     ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\stages\retrieval_extraction.py:782:21
    |
781 |     log_audit("extraction.citations", "completed")
782 |     return artifacts
    |                     ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\stages\summarization_scoring.py:812:21
    |
811 |     log_audit("design.risk_diagnosis", "completed")
812 |     return artifacts
    |                     ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\storage\__init__.py:11:2
   |
 9 |     "ArtifactStore",
10 |     "IndexRegistry",
11 | ]
   |  ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\storage\artifact_store.py:62:80
   |
60 |         dest_name = name or src.name
61 |         shutil.copy2(src, self.artifacts_dir / dest_name)
62 |         return str((self.artifacts_dir / dest_name).relative_to(self.base_dir))
   |                                                                                ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\storage\index_registry.py:86:86
   |
84 |     def has_index(self) -> bool:
85 |         """Check if any index exists."""
86 |         return self.manifest_path.exists() and self.get_current_version() is not None
   |                                                                                      ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\storage\retention.py:143:63
    |
142 |     kept = len(runs) - len(deleted)
143 |     return CleanupResult(deleted, deleted_bytes, kept, errors)
    |                                                               ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\storage\run_store.py:309:20
    |
307 |         if runs:
308 |             return cls(runs[0], base_dir)
309 |         return None
    |                    ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\storage\run_store_index.py:150:49
    |
148 |         rows = cur.fetchall()
149 |         conn.close()
150 |         return [RunRecord(*row) for row in rows]
    |                                                 ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\storage\run_store_v2.py:186:20
    |
184 |             with open(path, encoding="utf-8") as f:
185 |                 return json.load(f)
186 |         return None
    |                    ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\storage\safe_paths.py:93:17
   |
91 |             continue
92 |
93 |     return False
   |                 ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\store\__init__.py:13:2
   |
11 |     "compute_hash",
12 |     "verify_hash",
13 | ]
   |  ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\store\content_addressed.py:168:39
    |
166 |     def list_objects(self) -> list[str]:
167 |         """List all stored object hashes."""
168 |         return list(self.index.keys())
    |                                       ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
 --> jarvis_core\style\__init__.py:3:13
  |
1 | """Style package."""
2 |
3 | __all__ = []
  |             ^
  |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\style\checklists.py:52:19
   |
50 |             }
51 |         )
52 |     return results
   |                   ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\style\figure_table_registry.py:126:6
    |
124 |         "tables": [t.__dict__ for t in table_entries],
125 |         "issues": [i.__dict__ for i in issues],
126 |     }
    |      ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\style\language_lint.py:63:26
   |
61 |                     )
62 |
63 |         return violations
   |                          ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\style\report_builder.py:270:47
    |
268 |         if src.exists():
269 |             dest = qa_dir / filename
270 |             dest.write_bytes(src.read_bytes())
    |                                               ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\style\scientific_linter.py:52:10
   |
50 |             "error_count": sum(1 for v in violations if v["severity"] == "error"),
51 |             "warn_count": sum(1 for v in violations if v["severity"] == "warning"),
52 |         }
   |          ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\style\term_normalizer.py:198:70
    |
197 | def normalize_pptx_slides(slides: list[str], style_guide: dict[str, object]) -> NormalizationResult:
198 |     return normalize_lines(slides, style_guide, source_prefix="pptx")
    |                                                                      ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
 --> jarvis_core\submission\__init__.py:5:81
  |
3 | from .package_builder import SubmissionResult, build_submission_package, is_ready_to_submit
4 |
5 | __all__ = ["build_submission_package", "SubmissionResult", "is_ready_to_submit"]
  |                                                                                 ^
  |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\submission\changelog_generator.py:129:19
    |
127 |             category = item.get("reason_category", "縺昴・莉・)
128 |             reasons.setdefault(category, []).append(item.get("title", item.get("id", "")))
129 |     return reasons
    |                   ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\submission\diff_engine.py:200:47
    |
198 | def _slide_number_from_name(name: str) -> int:
199 |     match = re.search(r"slide(\d+)", name)
200 |     return int(match.group(1)) if match else 0
    |                                               ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\submission\email_generator.py:43:16
   |
41 |     with open(path, encoding="utf-8") as f:
42 |         data = yaml.safe_load(f) or {}
43 |     return data
   |                ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\submission\package_builder.py:582:20
    |
580 |                 zf.write(path, arcname)
581 |
582 |     return zip_path
    |                    ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\summarization\iterative.py:86:59
   |
84 |         # TODO: Replace with LLM call with specific CoD prompt
85 |         entity_str = ", ".join(missing_entities)
86 |         return f"{previous_summary} (Added: {entity_str})"
   |                                                           ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
 --> jarvis_core\summarize\__init__.py:5:64
  |
3 | from .summarizers import Summarizer, SummaryOutput, generate_summaries
4 |
5 | __all__ = ["Summarizer", "SummaryOutput", "generate_summaries"]
  |                                                                ^
  |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\summarize\summarizers.py:260:60
    |
258 |     """萓ｿ蛻ｩ髢｢謨ｰ: 3遞ｮ縺ｮ隕∫ｴ・ｒ逕滓・."""
259 |     summarizer = Summarizer()
260 |     return summarizer.generate_all(topic, claims, evidence)
    |                                                            ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\supervisor\__init__.py:29:2
   |
27 |     "get_lyra_supervisor",
28 |     "get_lyra",
29 | ]
   |  ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\supervisor\lyra.py:735:26
    |
733 |     if _lyra_instance is None:
734 |         _lyra_instance = LyraSupervisor()
735 |     return _lyra_instance
    |                          ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\sync\__init__.py:16:2
   |
14 |     "SyncQueueStorage",
15 |     "SyncQueueManager",
16 | ]
   |  ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\sync\auto_sync.py:39:52
   |
37 |         logger.info(f"Background sync completed: {completed} items processed")
38 |     except Exception as e:
39 |         logger.error(f"Background sync error: {e}")
   |                                                    ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\sync\handlers.py:30:34
   |
28 |     manager.register_handler("search", handle_search)
29 |
30 |     # Add more handlers as needed
   |                                  ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\sync\manager.py:77:47
   |
76 |     def get_queue_status(self) -> dict[str, int]:
77 |         return self.storage.get_queue_status()
   |                                               ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\sync\progress.py:13:39
   |
11 |     def report(self, completed: int, total: int) -> None:
12 |         for callback in self._callbacks:
13 |             callback(completed, total)
   |                                       ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\sync\schema.py:69:10
   |
67 |             error=data.get("error"),
68 |             result=data.get("result"),
69 |         )
   |          ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\sync\storage.py:129:59
    |
127 |         with self._get_connection() as conn:
128 |             row = conn.execute("SELECT * FROM sync_queue WHERE id = ?", (item_id,)).fetchone()
129 |             return self._row_to_item(row) if row else None
    |                                                           ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\task.py:101:94
    |
 99 |     def _validate_mapping(field_name: str, value: Any) -> None:
100 |         if not isinstance(value, dict):
101 |             raise TypeError(f"{field_name} must be a dictionary; got {type(value).__name__}")
    |                                                                                              ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\telemetry\__init__.py:16:2
   |
14 |     "input_hash",
15 |     "normalize_text",
16 | ]
   |  ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\telemetry\analyze.py:140:59
    |
138 |         for i, failure in enumerate(analysis.top_failures[:5], 1):
139 |             print(f"  {i}. {failure.event}: {failure.error_type}")
140 |             print(f"     {failure.error_message[:60]}...")
    |                                                           ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\telemetry\cost_tracker.py:49:56
   |
47 |             for stage_name, stage in self._stages.items()
48 |         }
49 |         return {"totals": totals, "by_stage": by_stage}
   |                                                        ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\telemetry\hashing.py:82:62
   |
80 |     inp_hash = input_hash(inputs)
81 |     combined = f"{tool_name}:{version}:{inp_hash}"
82 |     return hashlib.sha256(combined.encode()).hexdigest()[:24]
   |                                                              ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\telemetry\logger.py:94:26
   |
92 | def get_logger() -> JsonlTelemetryLogger | None:
93 |     """Get global logger if initialized."""
94 |     return _global_logger
   |                          ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\telemetry\redact.py:64:18
   |
62 |             result[key] = value
63 |
64 |     return result
   |                  ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\telemetry\schema.py:112:10
    |
110 |             message=message,
111 |             **kwargs,
112 |         )
    |          ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\telemetry\summarize.py:164:28
    |
162 |             lines.append(f"  - {w}")
163 |
164 |     return "\n".join(lines)
    |                            ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\telemetry\trace_context.py:127:21
    |
125 |         return wrapper
126 |
127 |     return decorator
    |                     ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\thinking_engines.py:223:6
    |
221 |         "generations": generations,
222 |         "estimated": True,
223 |     }
    |      ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
 --> jarvis_core\time\__init__.py:1:20
  |
1 | """Package init."""
  |                    ^
  |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\time\calendar_builder.py:30:19
   |
28 |         week_start = start + timedelta(days=offset * 7)
29 |         results.append(week_start.strftime("%Y-%m-%d"))
30 |     return results
   |                   ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\time\schema.py:59:2
   |
57 |         "rest": VariableBlock(min=10, target=15, max=20),
58 |     },
59 | )
   |  ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\trace.py:164:21
    |
162 |         return wrapper
163 |
164 |     return decorator
    |                     ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\trend\__init__.py:21:2
   |
19 |     "ArxivSource",
20 |     "PubMedSource",
21 | ]
   |  ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\trend\ranker.py:177:23
    |
175 |             return 0.7
176 |         else:
177 |             return 0.5
    |                       ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\trend\sources\__init__.py:58:13
   |
56 |     def is_available(self) -> bool:
57 |         """蛻ｩ逕ｨ蜿ｯ閭ｽ縺九←縺・°."""
58 |         pass
   |             ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\trend\sources\arxiv.py:64:20
   |
62 |         TODO: 螳滄圀縺ｮ繝阪ャ繝医Ρ繝ｼ繧ｯ謗･邯夂｢ｺ隱阪ｄAPI繧ｭ繝ｼ縺ｮ讀懆ｨｼ縺悟ｿ・ｦ√↑蝣ｴ蜷医・縺薙％縺ｫ螳溯｣・☆繧九・63 |         """
64 |         return True
   |                    ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
 --> jarvis_core\trend\sources\base.py:7:39
  |
5 | from . import TrendItem, TrendSource
6 |
7 | __all__ = ["TrendSource", "TrendItem"]
  |                                       ^
  |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\trend\sources\pubmed.py:66:20
   |
64 |         TODO: PubMed API (E-utilities) 縺ｸ縺ｮ謗･邯夂｢ｺ隱阪′蠢・ｦ√↑蝣ｴ蜷医・縺薙％縺ｫ螳溯｣・☆繧九・65 |         """
66 |         return True
   |                    ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\trend\watcher.py:206:22
    |
204 |                 )
205 |
206 |         return issues
    |                      ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\truth\__init__.py:16:2
   |
14 |     "detect_contradictions",
15 |     "calibrate_confidence",
16 | ]
   |  ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\truth\alignment.py:164:6
    |
162 |         mismatch_reasons=mismatch_reasons,
163 |         matched_fact=best_fact[:100] if best_fact else None,
164 |     )
    |      ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\truth\confidence.py:116:52
    |
114 | ConfidenceRegistry.register("recommendation", 0.5)
115 | ConfidenceRegistry.register("feasibility", 0.6)
116 | ConfidenceRegistry.register("fact_extraction", 0.7)
    |                                                    ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\truth\contradiction.py:157:28
    |
155 |     lines.append("> 豕ｨ: 縺薙ｌ繧峨・貎懷惠逧・↑遏帷崟縺ｧ縺ゅｊ縲∫｢ｺ螳壹〒縺ｯ縺ゅｊ縺ｾ縺帙ｓ縲・)
156 |
157 |     return "\n".join(lines)
    |                            ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\truth\enforce.py:96:6
   |
94 |             "truth_enforcement_flags": flags,
95 |         },
96 |     )
   |      ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\truth\relevance.py:129:19
    |
127 |     results.sort(key=lambda x: x[1], reverse=True)
128 |
129 |     return results
    |                   ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
 --> jarvis_core\truth_validation\__init__.py:8:61
  |
6 | from .claim_fact import ClaimFactChecker, check_claim_fact_alignment
7 |
8 | __all__ = ["ClaimFactChecker", "check_claim_fact_alignment"]
  |                                                             ^
  |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\truth_validation\claim_fact.py:173:50
    |
171 |         return ("fact", statement)
172 |     else:
173 |         return ("inference", f"[謗ｨ螳咯 {statement}")
    |                                                    ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\ui\status.py:15:34
   |
13 |     }
14 |
15 |     return banners.get(level, "")
   |                                  ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\utils\performance.py:308:27
    |
306 |     if _response_cache is None:
307 |         _response_cache = ResponseCache()
308 |     return _response_cache
    |                           ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\validation.py:110:80
    |
109 |     ok = all(res.ok for res in results)
110 |     return EvaluationResult(ok=ok, errors=errors, warnings=warnings, meta=meta)
    |                                                                                ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\vector_index.py:183:40
    |
181 |     retriever = VectorRetriever(embed_fn=embed_fn)
182 |     retriever.build(chunks)
183 |     return retriever.search(query, k=k)
    |                                        ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
 --> jarvis_core\verification\__init__.py:5:61
  |
3 | from .stat_verifier import VerificationResult, verify_statistical_claim
4 |
5 | __all__ = ["VerificationResult", "verify_statistical_claim"]
  |                                                             ^
  |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\verification\stat_verifier.py:48:100
   |
46 |         issues.append("claim_significance_mismatch")
47 |
48 |     return VerificationResult(is_valid=not issues, issues=issues, recalculated_values=recalculated)
   |                                                                                                    ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
 --> jarvis_core\visualization\__init__.py:1:29
  |
1 | """Visualization package."""
  |                             ^
  |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\visualization\advanced.py:403:84
    |
401 |     tp.add_data("AI", 2024, 350)
402 |     prediction = tp.predict_trend("AI")
403 |     print(f"AI Trend: {prediction['trend']}, Growth: {prediction['growth_rate']}%")
    |                                                                                    ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\visualization\positioning.py:90:48
   |
88 |         parts.append("蜈ｨ霄ｫ蜈咲稔遐皮ｩｶ")
89 |
90 |     return "縲・.join(parts) if parts else "讓呎ｺ夜伜沺"
   |                                                     ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\web_fetcher.py:207:19
    |
205 |         context.add_chunks(results)
206 |
207 |     return results
    |                   ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\workflow\__init__.py:34:2
   |
32 |     "ContextPackager",
33 |     "RepeatedSampler",
34 | ]
   |  ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\workflow\automation.py:684:63
    |
682 |     )
683 |     result = digest.generate()
684 |     print(f"Digest: {result['total_papers']} relevant papers")
    |                                                               ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\workflow\context_packager.py:186:33
    |
184 |         self._logs = []
185 |         self._best_score = None
186 |         self._best_run_id = None
    |                                 ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\workflow\repeated_sampling.py:144:32
    |
142 |     def total_cost(self) -> float:
143 |         """邏ｯ險医さ繧ｹ繝医ｒ蜿門ｾ・"""
144 |         return self._total_cost
    |                                ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\workflow\runner.py:288:86
    |
286 |         """繝・ヵ繧ｩ繝ｫ繝医ワ繝ｳ繝峨Λ繝ｼ."""
287 |         logger.info(f"Executing step {step.step_id} with action {step.action}")
288 |         return {"step_id": step.step_id, "action": step.action, "status": "executed"}
    |                                                                                      ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\workflow\spec.py:199:10
    |
197 |                 "n_samples": self.budgets.n_samples,
198 |             },
199 |         }
    |          ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\workflow\tuner.py:211:10
    |
209 |             converged=converged,
210 |             reason=reason,
211 |         )
    |          ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\workflows\__init__.py:23:2
   |
21 |     "WorkflowScope",
22 |     "parse_slash_command",
23 | ]
   |  ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\workflows\canonical.py:276:6
    |
274 |             "duration_minutes": duration_minutes,
275 |         },
276 |     )
    |      ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\workflows\engine.py:115:30
    |
113 |             command=str(frontmatter.get("command") or ""),
114 |         )
115 |         return metadata, body
    |                              ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\workflows\presets.py:89:28
   |
87 |     if not preset:
88 |         return {}
89 |     return preset.to_dict()
   |                            ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\workflows\schema.py:33:17
   |
31 |     scope: WorkflowScope
32 |     path: Path
33 |     content: str
   |                 ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\workflows\slash_command.py:15:30
   |
13 |         return None, input_text
14 |     remaining = parts[1] if len(parts) > 1 else ""
15 |     return command, remaining
   |                              ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
 --> jarvis_core\writing\__init__.py:5:39
  |
3 | from .draft_generator import generate_writing_outputs
4 |
5 | __all__ = ["generate_writing_outputs"]
  |                                       ^
  |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\writing\citation_formatter.py:43:53
   |
42 | def has_weak_evidence(evidence_items: Iterable[EvidenceLocator]) -> bool:
43 |     return any(item.weak for item in evidence_items)
   |                                                     ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\writing\draft_generator.py:265:90
    |
263 |     _update_manifest(run_dir, generated)
264 |
265 |     return {"run_id": run_id, "outputs": generated, "template_version": TEMPLATE_VERSION}
    |                                                                                          ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> jarvis_core\writing\outline_builder.py:214:29
    |
212 |             continue
213 |         expanded_sections.append(section)
214 |     return expanded_sections
    |                             ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\writing\utils.py:12:14
   |
10 |     if overview_path.exists():
11 |         return overview_path.read_text(encoding="utf-8")
12 |     return ""
   |              ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> jarvis_core\zotero\bibtex_export.py:93:28
   |
91 |     output_path = output_dir / "refs.bib"
92 |     output_path.write_text("\n\n".join(entries), encoding="utf-8")
93 |     return str(output_path)
   |                            ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\auth\test_rate_limiting.py:67:87
   |
65 |         # Minute 1 (2000000) is now excluded.
66 |         mock_t.return_value = start_time + 3720
67 |         assert manager.validate(key).success is True, "Minute 1 should be expired now"
   |                                                                                       ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\cache\test_incremental_update.py:53:48
   |
52 |     # Old key still retrievable if needed
53 |     assert cache.kv.get(key1) == "processed_v1"
   |                                                ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\chunking\test_chunk_id_deterministic.py:34:49
   |
32 |     assert len(sections) >= 2
33 |     assert sections[0]["name"] == "Abstract"
34 |     assert sections[1]["name"] == "Introduction"
   |                                                 ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\citation\test_influence.py:53:40
   |
52 |     assert score.total_citations == 0
53 |     assert score.influence_score == 0.0
   |                                        ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\cli\test_offline_flag.py:37:51
   |
35 |             with patch("jarvis_cli.cmd_show_run"):
36 |                 main()
37 |                 mock_set_level.assert_not_called()
   |                                                   ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\compliance\test_license_filter.py:38:37
   |
37 |     assert f.is_allowed("CC-BY-NC")
38 |     assert not f.is_allowed("CC-BY")
   |                                     ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
 --> tests\conftest.py:4:58
  |
2 | from pathlib import Path
3 |
4 | sys.path.append(str(Path(__file__).resolve().parents[1]))
  |                                                          ^
  |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\contradiction\test_detector_smoke.py:38:36
   |
37 |     contradictions = detector.detect(claims)
38 |     assert len(contradictions) == 0
   |                                    ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\contradiction\test_resolution.py:58:50
   |
57 |     assert suggestion.recommended_action is not None
58 |     assert len(suggestion.recommended_action) > 0
   |                                                  ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\core\test_additional_basic.py:121:43
    |
119 |     res = cfg.generate_config()
120 |     assert res["enabled"] is True
121 |     assert cfg.generate_js_snippet() != ""
    |                                           ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\core\test_drift_basic.py:60:26
   |
58 |     # Test top losses in report
59 |     assert "Top Losses" in report
60 |     assert "A:" in report
   |                          ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\core\test_golden_path_advanced.py:90:63
   |
88 |     signals = extract_failure_signals(res)
89 |     assert len(signals) == 1
90 |     assert signals[0].code == FailureCode.CITATION_GATE_FAILED
   |                                                               ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\core\test_golden_path_cache_and_store.py:78:35
   |
76 |     cache.set("unserializable", obj)
77 |     val = cache.get("unserializable")
78 |     assert val == "unserializable"
   |                                   ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\core\test_golden_path_ingestion.py:118:44
    |
116 |     assert (
117 |         pipeline._extract_year("No year here.", Path("test.pdf")) == 2026
118 |     )  # Current year in simulation is 2026
    |                                            ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\core\test_golden_path_reporting.py:92:55
   |
90 |     assert "| Paper | Accuracy | Latency |" in report
91 |     assert "| Model A Paper | 85% | 100ms |" in report
92 |     assert "| Model B Paper | 90% | 150ms |" in report
   |                                                       ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\core\test_golden_path_stages.py:130:29
    |
128 |     a = stage_extract_citations(context, a)
129 |
130 |     assert len(a.claims) > 0
    |                             ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\core\test_judge_v2_basic.py:88:56
   |
86 |         ij = IntegratedJudge()
87 |         # Form fails (no citations)
88 |         assert ij.overall_passed("Answer", []) is False
   |                                                        ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\core\test_package_builder_basic.py:158:30
    |
156 |         email_body="B",
157 |     )
158 |     assert res.run_id == "R1"
    |                              ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\core\test_quality_enhancer_basic.py:123:35
    |
121 |     d = qs.to_dict()
122 |     assert d["overall"] == 0.9
123 |     assert d["specificity"] == 0.8
    |                                   ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\core\test_robust_extractor_basic.py:122:31
    |
120 |     assert res.warnings == []
121 |     assert res.metadata == {}
122 |     assert res.success is True
    |                               ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\core\test_scientific_basic.py:141:45
    |
139 |     ana = FigureAnalyzer()
140 |     res = ana.analyze_figure({"type": "bar_chart", "caption": "test"})
141 |     assert res["figure_type"] == "bar_chart"
    |                                             ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\core\test_settings_required.py:28:28
   |
26 |     with patch.dict(os.environ, {"JARVIS_ENV": "production", "NCBI_API_KEY": "dummy-key"}):
27 |         settings = CoreSettings()
28 |         settings.validate()
   |                            ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
 --> tests\e2e\__init__.py:1:25
  |
1 | """E2E tests package."""
  |                         ^
  |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\e2e\test_dashboard_real_api.py:123:39
    |
121 |     expect(empty_notice).to_be_visible()
122 |     expect(empty_notice).not_to_contain_text("譛ｪ謗･邯・)
123 |     print("Test passed successfully!")
    |                                       ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\e2e\test_e2e_offline.py:119:13
    |
117 |         # This test would run the full pipeline with offline corpus
118 |         # and verify that 10 files are produced
119 |         pass
    |             ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\e2e\test_e2e_pipeline.py:97:34
   |
96 | if __name__ == "__main__":
97 |     pytest.main([__file__, "-v"])
   |                                  ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\e2e\test_retry_resilience.py:59:40
   |
58 |     assert mock.call_count == 3
59 |     assert mock.failures_remaining == 2
   |                                        ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\e2e\test_systematic_review_e2e.py:90:46
   |
88 |     assert set(assembler.REQUIRED_ARTIFACTS).issubset(set(generated))
89 |     for required in assembler.REQUIRED_ARTIFACTS:
90 |         assert (tmp_path / required).exists()
   |                                              ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\embeddings\test_chroma_store.py:58:34
   |
57 |         store = ChromaVectorStore()
58 |         assert store.count == 100
   |                                  ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\embeddings\test_determinism.py:66:31
   |
64 |     v2 = model.embed(t2)
65 |
66 |     assert np.allclose(v1, v2)
   |                               ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\embeddings\test_specter2.py:47:59
   |
46 |     model = get_embedding_model("general")
47 |     assert isinstance(model, SentenceTransformerEmbedding)
   |                                                           ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\embeddings\test_vector_abstraction.py:86:54
   |
84 |     # deeper logic is tested in specific tests.
85 |     assert issubclass(FAISSVectorStore, VectorStore)
86 |     assert issubclass(ChromaVectorStore, VectorStore)
   |                                                      ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\embeddings\test_vector_store.py:62:56
   |
61 |     # L2 norm should be 1
62 |     assert np.allclose(np.linalg.norm(normalized), 1.0)
   |                                                        ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\evidence\test_evidence_min_fields.py:34:39
   |
32 |     )
33 |     # The requirement is that claims must have at least one piece of evidence
34 |     assert not report.validate_audit()
   |                                       ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\evidence\test_visualizer.py:47:33
   |
45 |     assert "|" in table
46 |     assert "Level" in table
47 |     assert "Confidence" in table
   |                                 ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\feedback\test_store.py:36:27
   |
34 |     store = FeedbackStore(tmp_path)
35 |     items = store.load_recent()
36 |     assert len(items) == 0
   |                           ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\ingestion\test_modalities.py:31:40
   |
29 |     data = fig.to_dict()
30 |     assert data["image_path"] == "/tmp/fig1.png"
31 |     assert data["modality"] == "figure"
   |                                        ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\ingestion\test_pdf_limits.py:38:19
   |
36 |     assert error.error_code == "MISSING_BACKEND"
37 |
38 |     dummy.unlink()
   |                   ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\integration\test_browser_integration.py:75:48
   |
74 |     result = asyncio.run(agent.extract_text("#content"))
75 |     assert result.data["text"] == "Hello world"
   |                                                ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\integration\test_full_integration.py:123:30
    |
121 |     # 7. Final report
122 |     report = f"Report for {query}\n{prisma_flow}"
123 |     assert "Report" in report
    |                              ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\integration\test_mcp_integration.py:147:42
    |
146 |     results = asyncio.run(chain.execute({"query": "start"}))
147 |     assert results[-1].data["value"] == 2
    |                                          ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\integration\test_orchestrator_integration.py:76:27
   |
75 |     assert any(event["status"] == "waiting_approval" for event in status_events)
76 |     assert approval_events
   |                           ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\integrations\test_mendeley.py:55:55
   |
53 |     assert doc["title"] == "My Paper"
54 |     assert len(doc["authors"]) == 2
55 |     assert doc["identifiers"]["doi"] == "10.5555/test"
   |                                                       ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\integrations\test_zotero.py:78:41
   |
76 |     assert item["title"] == "My Paper"
77 |     assert len(item["creators"]) == 2
78 |     assert item["DOI"] == "10.5555/test"
   |                                         ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\mock_server\app.py:91:67
   |
89 | @app.get("/api/finance/forecast")
90 | async def finance_forecast():
91 |     raise HTTPException(status_code=501, detail="not implemented")
   |                                                                   ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\network\test_api_wrapper.py:87:57
   |
86 |         assert exc.value.queue_id == "job-123"
87 |         mock_queue_instance.enqueue.assert_called_once()
   |                                                         ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\network\test_degradation.py:50:20
   |
48 |     m1 = get_degradation_manager()
49 |     m2 = get_degradation_manager()
50 |     assert m1 is m2
   |                    ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\ops\test_metrics.py:37:83
   |
35 |     output = metrics.generate_prometheus_output()
36 |     assert "latency_count{latency, } 2" in output or "latency_count{} 2" in output
37 |     assert "latency_sum{latency, } 0.6" in output or "latency_sum{} 0.6" in output
   |                                                                                   ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\ops\test_recovery.py:40:36
   |
39 |     res = diag.analyze(summary)
40 |     assert res.error_type == "None"
   |                                    ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\quality\test_arch_gate.py:36:28
   |
34 |         assert len(banned_found) == 0
35 |     finally:
36 |         os.unlink(tmp_path)
   |                            ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\quality\test_garbage_detector.py:57:28
   |
55 |     p.write_text(content, encoding="utf-8")
56 |     issues = scan_file(p)
57 |     assert len(issues) == 0
   |                            ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\ranking\test_feature_schema.py:56:39
   |
54 |     # Same vector -> dot product 1 (if normalized)
55 |     feats2 = extractor.extract(query, doc, query_vec=q_vec, doc_vec=q_vec)
56 |     assert feats2["cosine_sim"] == 1.0
   |                                       ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\report\test_citation_audit.py:39:45
   |
37 |     assert not result.is_valid
38 |     assert result.score == 0.0
39 |     assert len(result.missing_citations) > 0
   |                                             ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\retrieval\test_expansion.py:32:32
   |
30 |     expanded = expander.expand(query, method="magic")
31 |     assert len(expanded) == 1
32 |     assert expanded[0] == query
   |                                ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\retrieval\test_hybrid_recall_smoke.py:50:36
   |
48 |     results_mixed = hybrid.search("dog cat", top_k=2)
49 |     ids = {r["chunk_id"] for r in results_mixed}
50 |     assert "1" in ids or "2" in ids
   |                                    ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\runtime\test_resume_logic.py:44:56
   |
42 |     # Reload
43 |     mgr1_loaded = CheckpointManager(tmp_path, "run_A")
44 |     assert mgr1_loaded.state.current_stage == "A_stage"
   |                                                        ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\security\test_fs_safety.py:73:65
   |
72 |     with pytest.raises(ValueError, match="Total extracted size exceeds"):
73 |         safe_extract_zip(size_zip, dest_dir, max_total_size=500)
   |                                                                 ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\security\test_log_redaction.py:67:81
   |
65 |                 break
66 |
67 |     assert found_filter, "RedactionFilter was not found in root logger handlers"
   |                                                                                 ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\security\test_logging_redaction.py:60:70
   |
58 |     for name in ["jarvis_core", "jarvis_web"]:
59 |         l = logging.getLogger(name)
60 |         assert any(isinstance(f, RedactingFilter) for f in l.filters)
   |                                                                      ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\security\test_path_validator.py:100:58
    |
 98 |     target = base_dir / "doc.pdf"
 99 |     target.touch()
100 |     assert validator.validate(target) == target.resolve()
    |                                                          ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\smoke_api_v1.py:89:39
   |
87 |     assert response.status_code == 501
88 |     response = client.post("/api/decision/simulate")
89 |     assert response.status_code == 501
   |                                       ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\smoke_kb_api.py:50:28
   |
48 |     assert response.status_code == 200
49 |     payload = response.json()
50 |     assert payload["packs"]
   |                            ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\summarization\test_refinement.py:36:28
   |
34 |     summary = summarizer.summarize(text)
35 |     # Should not crash or loop infinitely
36 |     assert len(summary) > 0
   |                            ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\sync\test_auto_sync.py:57:42
   |
55 |         mock_manager.set_level.assert_called_with(DegradationLevel.FULL)
56 |         mock_thread_cls.assert_called()
57 |         mock_thread.start.assert_called()
   |                                          ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\sync\test_queue.py:61:59
   |
60 |         assert len(results) == 1
61 |         assert results[0].status == QueueItemStatus.FAILED
   |                                                           ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_100_steps.py:207:33
    |
206 |         # 螳悟・迥ｶ諷・207 |         assert ctx.is_complete()
    |                                 ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_active_learning.py:445:51
    |
443 |         assert StoppingCriterion is not None
444 |         assert RecallStoppingCriterion is not None
445 |         assert BudgetStoppingCriterion is not None
    |                                                   ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_active_learning_coverage.py:15:43
   |
13 |         from jarvis_core import active_learning
14 |
15 |         assert active_learning is not None
   |                                           ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_additional_integrations.py:204:34
    |
203 | if __name__ == "__main__":
204 |     pytest.main([__file__, "-v"])
    |                                  ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_additional_zero_coverage.py:311:42
    |
309 |         from jarvis_core import index
310 |
311 |         assert hasattr(index, "__name__")
    |                                          ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_agent_registry.py:38:56
   |
37 |     with pytest.raises(KeyError):
38 |         registry.create_agent_instance("unknown_agent")
   |                                                        ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_agents_coverage.py:138:45
    |
137 |         agent = JobAssistantAgent()
138 |         assert agent.name == "job_assistant"
    |                                             ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_agents_full.py:53:37
   |
51 |         from jarvis_core.agents import BaseAgent
52 |
53 |         assert BaseAgent is not None
   |                                     ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_agents_massive.py:71:37
   |
69 |         from jarvis_core.agents import BaseAgent
70 |
71 |         assert BaseAgent is not None
   |                                     ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_agents_ultra.py:62:34
   |
60 |         from jarvis_core import agents
61 |
62 |         assert agents is not None
   |                                  ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_ai_features.py:239:34
    |
238 | if __name__ == "__main__":
239 |     pytest.main([__file__, "-v"])
    |                                  ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_alignment.py:136:44
    |
135 |         assert result.token_overlap > 0
136 |         assert result.locator_match is True
    |                                            ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_analysis_coverage.py:270:46
    |
269 |         assert CitationNetwork is not None
270 |         assert ComparisonAnalyzer is not None
    |                                              ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_analysis_giga.py:43:13
   |
41 | class TestModule:
42 |     def test_analysis_module(self):
43 |         pass
   |             ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_analysis_mega.py:37:36
   |
35 |         from jarvis_core import analysis
36 |
37 |         assert analysis is not None
   |                                    ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_anonymizer.py:22:39
   |
20 |     detections = [PIIDetection(type="ssn", value="123-45-6789", start=4, end=15, confidence=0.9)]
21 |     result = anonymize(text, detections, strategy="remove")
22 |     assert "123-45-6789" not in result
   |                                       ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_api_coverage.py:66:34
   |
65 |         assert arxiv is not None
66 |         assert pubmed is not None
   |                                  ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_api_giga.py:104:13
    |
103 |     def test_r5(self):
104 |         pass
    |             ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_api_map_vs_capabilities.py:166:47
    |
164 |             assert response.status_code in {200, 401}
165 |         else:
166 |             assert response.status_code == 501
    |                                               ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_api_mega.py:111:31
    |
109 |         from jarvis_core import api
110 |
111 |         assert api is not None
    |                               ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_artifacts_coverage.py:28:37
   |
26 |         from jarvis_core.artifacts import claim_set
27 |
28 |         assert claim_set is not None
   |                                     ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_artifacts_giga.py:22:37
   |
20 |         from jarvis_core import artifacts
21 |
22 |         assert artifacts is not None
   |                                     ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_artifacts_massive.py:22:17
   |
20 |             import jarvis_core.artifacts  # noqa: F401
21 |         except ImportError:
22 |             pass
   |                 ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_artifacts_mega.py:25:37
   |
23 |         from jarvis_core import artifacts
24 |
25 |         assert artifacts is not None
   |                                     ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_artifacts_ultra.py:22:17
   |
20 |             import jarvis_core.artifacts  # noqa: F401
21 |         except ImportError:
22 |             pass
   |                 ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_arxiv_coverage.py:114:39
    |
112 |         from jarvis_core.api.arxiv import ArxivClient
113 |
114 |         assert ArxivClient is not None
    |                                       ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_arxiv_massive.py:24:33
   |
22 |         from jarvis_core.api import arxiv
23 |
24 |         assert arxiv is not None
   |                                 ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_arxiv_source.py:37:79
   |
35 |         assert len(items) <= 3
36 |         assert all("arxiv:" in item.id for item in items)
37 |         assert all(item.url.startswith("https://arxiv.org") for item in items)
   |                                                                               ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_arxiv_ultra.py:24:33
   |
22 |         from jarvis_core.api import arxiv
23 |
24 |         assert arxiv is not None
   |                                 ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_automation.py:163:38
    |
162 |         # Should handle gracefully
163 |         assert isinstance(draft, str)
    |                                      ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_bibliography.py:189:42
    |
188 |             content = ris_path.read_text(encoding="utf-8")
189 |             assert "TY  - GEN" in content
    |                                          ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_bibtex_coverage.py:28:35
   |
26 |         from jarvis_core.bibtex import fetcher
27 |
28 |         assert fetcher is not None
   |                                   ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_bibtex_massive.py:45:35
   |
43 |         from jarvis_core.bibtex import fetcher
44 |
45 |         assert fetcher is not None
   |                                   ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_bibtex_mega.py:19:35
   |
17 |         from jarvis_core.bibtex import fetcher
18 |
19 |         assert fetcher is not None
   |                                   ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_bibtex_ultra.py:22:17
   |
20 |             import jarvis_core.bibtex  # noqa: F401
21 |         except ImportError:
22 |             pass
   |                 ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_budget_policy.py:129:34
    |
128 | if __name__ == "__main__":
129 |     pytest.main([__file__, "-v"])
    |                                  ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_bundle_contract_validator.py:118:61
    |
117 |         errors = validator.validate(p)
118 |         assert any("Consistency error" in e for e in errors)
    |                                                             ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_bundle_export.py:274:39
    |
272 |             # Just verify both work
273 |             assert isinstance(str_answer, str)
274 |             assert len(str_answer) > 0
    |                                       ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_cache_coverage.py:182:38
    |
180 |         assert MultiLevelCache is not None
181 |         assert CacheLevel is not None
182 |         assert CacheStats is not None
    |                                      ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_cache_massive.py:18:33
   |
16 |         from jarvis_core import cache
17 |
18 |         assert cache is not None
   |                                 ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_cache_offline.py:239:36
    |
237 |         manager2 = get_offline_manager()
238 |
239 |         assert manager1 is manager2
    |                                    ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_cache_ultra.py:18:33
   |
16 |         from jarvis_core import cache
17 |
18 |         assert cache is not None
   |                                 ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_calendar_builder.py:39:40
   |
37 |         weeks = build_weeks("2024-01-29", 2)
38 |         assert weeks[0] == "2024-01-29"
39 |         assert weeks[1] == "2024-02-05"
   |                                        ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_changelog_generator.py:109:37
    |
107 |         content = output_path.read_text(encoding="utf-8")
108 |         assert "ChangeLog" in content
109 |         assert "test_run" in content
    |                                     ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_checklists.py:77:38
   |
75 |             assert "id" in result
76 |             assert "description" in result
77 |             assert "passed" in result
   |                                      ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_citation_analysis.py:272:48
    |
270 |         assert classify_citation_stance is not None
271 |         assert CitationGraph is not None
272 |         assert build_citation_graph is not None
    |                                                ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_citation_network_coverage.py:245:43
    |
243 |         assert CitationNode is not None
244 |         assert CitationStats is not None
245 |         assert CitationNetwork is not None
    |                                           ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_citation_network_massive.py:24:44
   |
22 |         from jarvis_core.analysis import citation_network
23 |
24 |         assert citation_network is not None
   |                                            ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_citation_network_ultra.py:24:44
   |
22 |         from jarvis_core.analysis import citation_network
23 |
24 |         assert citation_network is not None
   |                                            ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_citation_relevance.py:256:72
    |
254 |         complete_event = next(e for e in executed[0].history if e.get("event") == "complete")
255 |         # Should have some token overlap
256 |         assert complete_event["agent_status"] in ["success", "partial"]
    |                                                                        ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_claim.py:143:47
    |
142 |         assert len(cs2) == 2
143 |         assert cs2.claims[0].text == "Claim 1"
    |                                               ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_claim_export.py:247:53
    |
246 |             content = slides.read_text(encoding="utf-8")
247 |             assert "My Research Question" in content
    |                                                     ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_claim_fact.py:124:28
    |
123 |         assert level == "inference"
124 |         assert "謗ｨ螳・ in stmt
    |                              ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_claim_set_full.py:59:37
   |
57 |         from jarvis_core.artifacts import claim_set
58 |
59 |         assert claim_set is not None
   |                                     ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_cli.py:19:41
   |
17 |     assert exit_code == 0
18 |     assert calls == ["test goal"]
19 |     assert "FAKE_ANSWER" in captured.out
   |                                         ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_cli_v4_coverage.py:61:32
   |
59 |         from jarvis_core.cli_v4 import main
60 |
61 |         assert main is not None
   |                                ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_cli_v4_full.py:15:32
   |
13 |         from jarvis_core.cli_v4 import main
14 |
15 |         assert main is not None
   |                                ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_cli_v4_massive.py:18:32
   |
16 |         from jarvis_core.cli_v4 import main
17 |
18 |         assert main is not None
   |                                ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_cli_v4_ultra.py:18:32
   |
16 |         from jarvis_core.cli_v4 import main
17 |
18 |         assert main is not None
   |                                ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_comparison_massive.py:18:38
   |
16 |         from jarvis_core.analysis import comparison
17 |
18 |         assert comparison is not None
   |                                      ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_comparison_ultra.py:18:38
   |
16 |         from jarvis_core.analysis import comparison
17 |
18 |         assert comparison is not None
   |                                      ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_confidence.py:122:73
    |
120 |         assert ConfidenceRegistry.get_baseline("gap_analysis") == 0.5
121 |         assert ConfidenceRegistry.get_baseline("hypothesis") == 0.4
122 |         assert ConfidenceRegistry.get_baseline("fact_extraction") == 0.7
    |                                                                         ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_config_utils_coverage.py:15:40
   |
13 |         from jarvis_core import config_utils
14 |
15 |         assert config_utils is not None
   |                                        ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_config_utils_full.py:15:40
   |
13 |         from jarvis_core import config_utils
14 |
15 |         assert config_utils is not None
   |                                        ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_config_utils_massive.py:18:40
   |
16 |         from jarvis_core import config_utils
17 |
18 |         assert config_utils is not None
   |                                        ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_config_utils_ultra.py:18:40
   |
16 |         from jarvis_core import config_utils
17 |
18 |         assert config_utils is not None
   |                                        ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_context_packager.py:135:44
    |
134 |         assert len(packager._logs) == 0
135 |         assert packager._best_score is None
    |                                            ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_contradiction.py:129:39
    |
127 |     def test_summarize_empty_results(self):
128 |         summary = summarize_contradictions([])
129 |         assert "讀懷・縺輔ｌ縺ｾ縺帙ｓ縺ｧ縺励◆" in summary
    |                                                 ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_contradiction_coverage.py:15:41
   |
13 |         from jarvis_core.analysis import contradiction
14 |
15 |         assert contradiction is not None
   |                                         ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_contradiction_detector_coverage.py:15:36
   |
13 |         from jarvis_core.contradiction import detector
14 |
15 |         assert detector is not None
   |                                    ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_contradiction_detector_full.py:21:36
   |
19 |         from jarvis_core.contradiction import detector
20 |
21 |         assert detector is not None
   |                                    ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_contradiction_detector_massive.py:81:49
   |
79 |         from jarvis_core.contradiction.detector import ContradictionDetector
80 |
81 |         assert ContradictionDetector is not None
   |                                                 ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_contradiction_detector_ultra.py:56:36
   |
54 |         from jarvis_core.contradiction import detector
55 |
56 |         assert detector is not None
   |                                    ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_contradiction_full.py:21:41
   |
19 |         from jarvis_core.analysis import contradiction
20 |
21 |         assert contradiction is not None
   |                                         ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_contradiction_giga.py:22:41
   |
20 |         from jarvis_core import contradiction
21 |
22 |         assert contradiction is not None
   |                                         ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_contradiction_massive.py:22:17
   |
20 |             import jarvis_core.contradiction  # noqa: F401
21 |         except ImportError:
22 |             pass
   |                 ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_contradiction_mega.py:19:41
   |
17 |         from jarvis_core import contradiction
18 |
19 |         assert contradiction is not None
   |                                         ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_contradiction_normalizer_full.py:28:43
   |
26 |         from jarvis_core.contradiction.normalizer import ClaimNormalizer
27 |
28 |         assert ClaimNormalizer is not None
   |                                           ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_contradiction_ultra.py:22:17
   |
20 |             import jarvis_core.contradiction  # noqa: F401
21 |         except ImportError:
22 |             pass
   |                 ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_conversation.py:26:42
   |
24 |     inbox = orchestrator.get_inbox()
25 |     assert inbox[0]["conversation_id"] == conversation_id
26 |     assert inbox[0]["message_count"] == 1
   |                                          ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_core_giga.py:119:13
    |
118 |     def test_w5(self):
119 |         pass
    |             ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_core_mega.py:145:32
    |
143 |         from jarvis_core import cache
144 |
145 |         assert agents and cache
    |                                ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_cross_field_full.py:39:39
   |
37 |         from jarvis_core import cross_field
38 |
39 |         assert cross_field is not None
   |                                       ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_dashboard_features.py:211:33
    |
210 |         assert "jarvis-api" in url
211 |         assert ".run.app" in url
    |                                 ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_dashboard_ultimate.py:236:34
    |
235 | if __name__ == "__main__":
236 |     pytest.main([__file__, "-v"])
    |                                  ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_decision_mega.py:45:35
   |
43 |         from jarvis_core.decision import planner
44 |
45 |         assert planner is not None
   |                                   ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_decision_modules.py:722:64
    |
720 |         assert len(result.results) == 1
721 |         assert result.results[0].option_id == "O1"
722 |         assert result.results[0].success_probability.p50 == 0.5
    |                                                                ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_decision_planner_full.py:21:35
   |
19 |         from jarvis_core.decision import planner
20 |
21 |         assert planner is not None
   |                                   ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_degradation_extended.py:208:51
    |
206 |         assert DegradationLevel is not None
207 |         assert DegradationManager is not None
208 |         assert get_degradation_manager is not None
    |                                                   ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_detailed_logic.py:414:53
    |
412 |         from jarvis_core import retry_controller
413 |
414 |         assert hasattr(retry_controller, "__name__")
    |                                                     ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_diff_engine.py:115:30
    |
113 |     def test_slide_sort_key(self):
114 |         result = _slide_sort_key("ppt/slides/slide5.xml")
115 |         assert result[0] == 5
    |                              ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_draft_generator.py:68:43
   |
67 |         assert path.exists()
68 |         assert "Title" in path.read_text()
   |                                           ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_email_generator.py:111:38
    |
110 |         # Empty attachments show "- None" as placeholder
111 |         assert draft.body is not None
    |                                      ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_embeddings_coverage.py:21:38
   |
19 |         from jarvis_core import embeddings
20 |
21 |         assert embeddings is not None
   |                                      ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_embeddings_giga.py:22:38
   |
20 |         from jarvis_core import embeddings
21 |
22 |         assert embeddings is not None
   |                                      ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_embeddings_massive.py:22:17
   |
20 |             import jarvis_core.embeddings  # noqa: F401
21 |         except ImportError:
22 |             pass
   |                 ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_embeddings_mega.py:19:38
   |
17 |         from jarvis_core import embeddings
18 |
19 |         assert embeddings is not None
   |                                      ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_embeddings_module.py:272:54
    |
271 |         model = get_default_embedding_model()
272 |         assert model.model_name == "all-MiniLM-L6-v2"
    |                                                      ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_embeddings_ultra.py:22:17
   |
20 |             import jarvis_core.embeddings  # noqa: F401
21 |         except ImportError:
22 |             pass
   |                 ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_enforce.py:88:60
   |
86 |         assert len(result.facts) == 0
87 |         assert len(result.inferences) == 1
88 |         assert "truth_enforcement_flags" in result.raw_data
   |                                                            ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_enforcement.py:244:33
    |
243 |         assert result.actual == 0.5
244 |         assert not result.passed
    |                                 ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_eval_modules_full.py:481:45
    |
479 |         from jarvis_core.eval import judge_v2
480 |
481 |         assert hasattr(judge_v2, "__name__")
    |                                             ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_evidence_grading.py:273:42
    |
271 |         assert RuleBasedClassifier is not None
272 |         assert EnsembleClassifier is not None
273 |         assert grade_evidence is not None
    |                                          ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_evidence_mapper_coverage.py:34:42
   |
32 |         from jarvis_core.analysis.evidence_mapper import EvidenceMapper
33 |
34 |         assert EvidenceMapper is not None
   |                                          ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_evidence_mapper_full.py:56:42
   |
54 |         from jarvis_core.analysis.evidence_mapper import EvidenceMapper
55 |
56 |         assert EvidenceMapper is not None
   |                                          ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_evidence_mapper_massive.py:83:42
   |
81 |         from jarvis_core.analysis.evidence_mapper import EvidenceMapper
82 |
83 |         assert EvidenceMapper is not None
   |                                          ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_evidence_mapper_ultra.py:54:43
   |
52 |         from jarvis_core.analysis import evidence_mapper
53 |
54 |         assert evidence_mapper is not None
   |                                           ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_evidence_qa_integration.py:246:36
    |
244 |             # Should return non-empty answer
245 |             assert answer != ""
246 |             assert len(answer) > 10
    |                                    ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_evidence_store.py:228:59
    |
227 |         complete_event = next(e for e in executed[0].history if e.get("event") == "complete")
228 |         assert complete_event["agent_status"] == "success"
    |                                                           ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_evidence_validator.py:57:53
   |
55 |     result = validator.validate_conclusion("Test", [chunk_id], store)
56 |
57 |     assert isinstance(result.uncertainty_label, str)
   |                                                     ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_execution_engine_retry.py:86:52
   |
84 |     assert router.calls == 1
85 |     assert executed[0].status == TaskStatus.DONE
86 |     assert executed[0].history[-1]["attempts"] == 1
   |                                                    ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_executor.py:95:101
   |
93 |     assert len(executed) == 2
94 |     assert all(task.status == TaskStatus.DONE for task in executed)
95 |     assert all(any(event.get("event") == "complete" for event in task.history) for task in executed)
   |                                                                                                     ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_external_api_mocks.py:285:35
    |
283 |         fetcher = WebFetcher()
284 |         # Test basic functionality exists
285 |         assert fetcher is not None
    |                                   ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_external_integrations.py:129:34
    |
128 | if __name__ == "__main__":
129 |     pytest.main([__file__, "-v"])
    |                                  ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_extraction_modules.py:62:52
   |
60 |         from jarvis_core.extraction import semantic_search
61 |
62 |         assert hasattr(semantic_search, "__name__")
   |                                                    ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_failure_signal_normalization.py:65:46
   |
64 |         for code in expected:
65 |             assert hasattr(FailureCode, code)
   |                                              ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_feature_alignment.py:90:34
   |
89 | if __name__ == "__main__":
90 |     pytest.main([__file__, "-v"])
   |                                  ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_features_300.py:470:34
    |
469 | if __name__ == "__main__":
470 |     pytest.main([__file__, "-v"])
    |                                  ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_figure_extractor.py:26:43
   |
24 |     figures = extract_figures(pdf_path)
25 |     assert figures
26 |     assert (tmp_path / "figures").exists()
   |                                           ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_figure_table_registry.py:89:40
   |
87 |         # Should not have non_sequential issue
88 |         non_seq_issues = [i for i in result["issues"] if i["issue_type"] == "non_sequential_number"]
89 |         assert len(non_seq_issues) == 0
   |                                        ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_free_api_sources.py:270:47
    |
268 |         assert SemanticScholarClient is not None
269 |         assert OpenAlexClient is not None
270 |         assert UnifiedSourceClient is not None
    |                                               ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_front_adapter_contract.py:28:59
   |
26 |     missing = [key for key in required_keys if key not in base_paths]
27 |
28 |     assert not missing, f"Missing API map keys: {missing}"
   |                                                           ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_golden_path.py:228:13
    |
226 |         """螟ｱ謨羊un縺ｧ繧ょ・4繝輔ぃ繧､繝ｫ縺檎函謌舌＆繧後ｋ."""
227 |         # 縺薙・ 繝・せ繝医・邨ｱ蜷医ユ繧ｹ繝医→縺励※蛻･騾泌ｮ溯｣・228 |         pass
    |             ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_golden_path_e2e.py:123:31
    |
121 |     assert result.status == "failed"
122 |     # Result answer should be empty if agent couldn't handle it
123 |     assert result.answer == ""
    |                               ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_goldset_regression.py:214:61
    |
212 |     if failed:
213 |         report = regression.generate_report(results)
214 |         pytest.fail(f"Goldset regression failed:\n{report}")
    |                                                             ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_grader_coverage.py:21:46
   |
19 |         import jarvis_core.grader
20 |
21 |         assert jarvis_core.grader is not None
   |                                              ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_grader_mega.py:28:17
   |
26 |             assert jarvis_core.grader is not None
27 |         except ImportError:
28 |             pass
   |                 ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_grader_ultra.py:18:46
   |
16 |         import jarvis_core.grader
17 |
18 |         assert jarvis_core.grader is not None
   |                                              ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_hashing.py:99:28
   |
97 |         key2 = compute_cache_key("search", {"q": "x"}, version="2.0")
98 |
99 |         assert key1 != key2
   |                            ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_hipaa.py:12:34
   |
10 |     assert result.compliant is False
11 |     assert "ssn" in result.violations
12 |     assert result.recommendations
   |                                  ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_hitl_integration.py:192:34
    |
191 | if __name__ == "__main__":
192 |     pytest.main([__file__, "-v"])
    |                                  ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_html_extractor.py:143:42
    |
141 |         result = _normalize_text(text)
142 |
143 |         assert result == "Line 1\nLine 2"
    |                                          ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_hybrid_ranking.py:22:73
   |
20 |     result = engine.search(query="CD73 adenosine", top_k=5, mode="hybrid")
21 |     doc_ids = [item.chunk.doc_id for item in result.results]
22 |     assert any(doc_id.startswith("kb:topic:CD73") for doc_id in doc_ids)
   |                                                                         ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_hybrid_search.py:314:40
    |
312 |         assert BM25Index is not None
313 |         assert HybridSearch is not None
314 |         assert FusionMethod is not None
    |                                        ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_hyper_01.py:97:13
   |
96 |     def test_h1c10(self):
97 |         pass
   |             ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_hyper_02.py:97:13
   |
96 |     def test_h2c10(self):
97 |         pass
   |             ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_hyper_03.py:97:13
   |
96 |     def test_h3c10(self):
97 |         pass
   |             ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_hyper_04.py:97:13
   |
96 |     def test_h4c10(self):
97 |         pass
   |             ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_hyper_05.py:97:13
   |
96 |     def test_h5c10(self):
97 |         pass
   |             ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_hyper_06.py:97:13
   |
96 |     def test_h6c10(self):
97 |         pass
   |             ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_hyper_07.py:97:13
   |
96 |     def test_h7c10(self):
97 |         pass
   |             ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_hyper_08.py:97:13
   |
96 |     def test_h8c10(self):
97 |         pass
   |             ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_hyper_09.py:97:13
   |
96 |     def test_h9c10(self):
97 |         pass
   |             ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_hyper_10.py:97:13
   |
96 |     def test_h10c10(self):
97 |         pass
   |             ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_hyper_11.py:97:13
   |
96 |     def test_h11c10(self):
97 |         pass
   |             ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_hyper_12.py:97:13
   |
96 |     def test_h12c10(self):
97 |         pass
   |             ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_hyper_13.py:97:13
   |
96 |     def test_h13c10(self):
97 |         pass
   |             ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_hyper_14.py:97:13
   |
96 |     def test_h14c10(self):
97 |         pass
   |             ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_hyper_15_20.py:118:13
    |
117 |     def test_h20a5(self):
118 |         pass
    |             ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_hyper_21_30.py:52:13
   |
51 |     def test_h23a5(self):
52 |         pass
   |             ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_idempotency_and_lock.py:26:20
   |
24 |     third = locks.acquire_schedule_lock("SCH_LOCK", ttl_seconds=1)
25 |     assert third is not None
26 |     third.release()
   |                    ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_index_incremental.py:22:52
   |
20 |     manifest_updated = indexer.update()
21 |     assert manifest_updated.chunks >= manifest.chunks
22 |     assert "RUN_2" in manifest_updated.indexed_runs
   |                                                    ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_ingestion_pipeline.py:62:53
   |
60 |         from jarvis_core.ingestion import robust_extractor
61 |
62 |         assert hasattr(robust_extractor, "__name__")
   |                                                     ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_integrations.py:289:60
    |
287 |             with open(notion_path) as f:
288 |                 data = json.load(f)
289 |             assert data["type"] == "jarvis_evidence_export"
    |                                                            ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_integrations_coverage.py:28:38
   |
27 |         assert zotero is not None
28 |         assert ris_bibtex is not None
   |                                      ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_intelligence.py:178:34
    |
177 | if __name__ == "__main__":
178 |     pytest.main([__file__, "-v"])
    |                                  ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_io_schema.py:110:34
    |
109 | if __name__ == "__main__":
110 |     pytest.main([__file__, "-v"])
    |                                  ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_kb_indexer.py:70:40
   |
68 |     assert "謇区嶌縺阪Γ繝｢" in updated
69 |     assert "CD73 increases adenosine production" in updated
70 |     assert result["papers"] == ["1234"]
   |                                        ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_knowledge_graph_coverage.py:31:42
   |
29 |         from jarvis_core.analysis.knowledge_graph import KnowledgeGraph
30 |
31 |         assert KnowledgeGraph is not None
   |                                          ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_knowledge_graph_full.py:22:42
   |
20 |         from jarvis_core.analysis.knowledge_graph import KnowledgeGraph
21 |
22 |         assert KnowledgeGraph is not None
   |                                          ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_knowledge_graph_massive.py:37:42
   |
35 |         from jarvis_core.analysis.knowledge_graph import KnowledgeGraph
36 |
37 |         assert KnowledgeGraph is not None
   |                                          ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_knowledge_graph_ultra.py:30:43
   |
28 |         from jarvis_core.analysis import knowledge_graph
29 |
30 |         assert knowledge_graph is not None
   |                                           ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_language_lint.py:71:35
   |
69 |     violations = linter.check(text)
70 |
71 |     assert violations[0].line == 2
   |                                   ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_llamacpp_adapter.py:88:36
   |
86 |         adapter2 = get_llamacpp_adapter()
87 |
88 |         assert adapter1 is adapter2
   |                                    ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_llm_client_coverage.py:21:31
   |
19 |         from jarvis_core import llm
20 |
21 |         assert llm is not None
   |                               ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_llm_mega.py:19:31
   |
17 |         from jarvis_core import llm
18 |
19 |         assert llm is not None
   |                               ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_llm_provider.py:136:42
    |
135 |         with pytest.raises(ValueError, match="Unknown LLM provider"):
136 |             LLMClient(provider="invalid")
    |                                          ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_llm_ultra.py:22:17
   |
20 |             import jarvis_core.llm  # noqa: F401
21 |         except ImportError:
22 |             pass
   |                 ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_local_embed.py:191:49
    |
189 |         assert "Nature" in text
190 |         assert "Results" in text
191 |         assert "significant improvement" in text
    |                                                 ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_local_llm.py:227:36
    |
225 |         assert LlamaCppAdapter is not None
226 |         assert ModelRouter is not None
227 |         assert callable(get_router)
    |                                    ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_locator_verifier.py:35:36
   |
34 |     assert result.is_valid is False
35 |     assert result.match_ratio < 0.8
   |                                    ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_mcp_chain.py:78:83
   |
76 |     output = await chain.execute({"seed": "alpha"})
77 |
78 |     assert [result.tool_name for result in output] == ["first", "second", "third"]
   |                                                                                   ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_mcp_hub.py:95:50
   |
93 |     limited = await hub.invoke_tool("tool", {})
94 |     assert limited.success is False
95 |     assert limited.error == "rate_limit_exceeded"
   |                                                  ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
 --> tests\test_mcp_pubmed.py:9:44
  |
7 |     tool_names = {tool.name for tool in server.tools}
8 |     assert tool_names == {"pubmed_search", "pubmed_fetch", "pubmed_citations"}
9 |     assert server.requests_per_minute == 30
  |                                            ^
  |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_meta_typed_extraction.py:242:34
    |
241 | if __name__ == "__main__":
242 |     pytest.main([__file__, "-v"])
    |                                  ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_mobile_performance.py:202:34
    |
201 | if __name__ == "__main__":
202 |     pytest.main([__file__, "-v"])
    |                                  ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_model_router.py:151:56
    |
149 |         decision = route_task(TaskType.SUMMARIZE)
150 |
151 |         assert decision.task_type == TaskType.SUMMARIZE
    |                                                        ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_multimodal_modules.py:62:47
   |
60 |         from jarvis_core.multimodal import scientific
61 |
62 |         assert hasattr(scientific, "__name__")
   |                                               ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_network_detection.py:387:40
    |
385 |         assert DegradationLevel is not None
386 |         assert DegradationManager is not None
387 |         assert OfflineError is not None
    |                                        ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_network_giga.py:108:13
    |
107 |     def test_so5(self):
108 |         pass
    |             ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_network_massive.py:49:35
   |
47 |         from jarvis_core import network
48 |
49 |         assert network is not None
   |                                   ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_network_mega.py:101:35
    |
 99 |         from jarvis_core import network
100 |
101 |         assert network is not None
    |                                   ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_network_offline.py:290:46
    |
288 |         assert is_online is not None
289 |         assert DegradationLevel is not None
290 |         assert DegradationManager is not None
    |                                              ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_network_ultra.py:43:35
   |
41 |         from jarvis_core import network
42 |
43 |         assert network is not None
   |                                   ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_obs_alerts.py:28:24
   |
27 |     assert len(first) == 1
28 |     assert second == []
   |                        ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_obs_api.py:24:42
   |
22 |     summary = client.get("/api/obs/metrics/summary")
23 |     assert summary.status_code == 200
24 |     assert "runs_total" in summary.json()
   |                                          ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_ollama_adapter.py:137:36
    |
135 |         adapter2 = get_ollama_adapter()
136 |
137 |         assert adapter1 is adapter2
    |                                    ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_ops.py:169:34
    |
168 | if __name__ == "__main__":
169 |     pytest.main([__file__, "-v"])
    |                                  ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_ops_dashboard.py:21:38
   |
19 |         browser.close()
20 |
21 |     assert "Ops Dashboard" in content
   |                                      ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_orchestrator.py:34:66
   |
32 |     agent_id = asyncio.run(orchestrator.spawn_agent(task, mode=None, conversation_id=None))
33 |     agents = orchestrator.get_all_agents()
34 |     assert any(agent["agent_id"] == agent_id for agent in agents)
   |                                                                  ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_package_builder.py:116:30
    |
115 |         # No version before 1.0
116 |         assert result is None
    |                              ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_package_builder_full.py:362:37
    |
361 |         assert ready is False
362 |         assert "not found" in reason
    |                                     ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_paper_scoring.py:256:49
    |
254 |         assert PaperScorer is not None
255 |         assert ScoringWeights is not None
256 |         assert calculate_paper_score is not None
    |                                                 ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_paper_vector.py:294:34
    |
292 |             ids = {v.paper_id for v in loaded}
293 |             assert "load1" in ids
294 |             assert "load2" in ids
    |                                  ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_pdf_extractor.py:161:52
    |
159 |         # At least one chunk should have content from the PDF
160 |         all_quotes = [store.get_quote(r.chunk_id) for r in results]
161 |         assert any("Page" in q for q in all_quotes)
    |                                                    ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_pdf_extractor_coverage.py:21:41
   |
19 |         from jarvis_core import pdf_extractor
20 |
21 |         assert pdf_extractor is not None
   |                                         ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_pdf_parser.py:24:29
   |
22 |     assert parsed.title == "Sample Title"
23 |     assert "test" in parsed.abstract.lower()
24 |     assert parsed.references
   |                             ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_phase10_high_impact.py:443:46
    |
441 |         from jarvis_core.multimodal import multilang
442 |
443 |         assert hasattr(multilang, "__name__")
    |                                              ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_phase12_deep.py:640:47
    |
638 |         from jarvis_core.analysis import comparison
639 |
640 |         assert hasattr(comparison, "__name__")
    |                                               ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_phase13_maximum.py:860:55
    |
858 |         from jarvis_core.evaluation import evidence_validator
859 |
860 |         assert hasattr(evidence_validator, "__name__")
    |                                                       ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_phase14_functional.py:441:52
    |
439 |         result = generate_rehearsal(vectors)
440 |         assert result["total_papers_reviewed"] == 3
441 |         assert len(result["concepts_covered"]) == 3
    |                                                    ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_phase15_high_lines.py:434:48
    |
432 |         from jarvis_core.visualization import positioning
433 |
434 |         assert hasattr(positioning, "__name__")
    |                                                ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_phase16_low_coverage.py:397:51
    |
395 |         from jarvis_core import career_planner
396 |
397 |         assert hasattr(career_planner, "__name__")
    |                                                   ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_phase17_more_low_coverage.py:382:45
    |
380 |         from jarvis_core.scoring import registry
381 |
382 |         assert hasattr(registry, "__name__")
    |                                             ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_phase17_zero_to_hero.py:393:52
    |
391 |         from jarvis_core import grant_optimizer
392 |
393 |         assert hasattr(grant_optimizer, "__name__")
    |                                                    ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_phase18_continued.py:340:42
    |
338 |         from jarvis_core.knowledge import store
339 |
340 |         assert hasattr(store, "__name__")
    |                                          ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_phase18_ingestion_complete.py:417:46
    |
415 |         from jarvis_core.kpi import phase_kpi
416 |
417 |         assert hasattr(phase_kpi, "__name__")
    |                                              ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_phase19_edge_cases.py:232:68
    |
230 |             exec(f"from {package} import {module}")
231 |         except ImportError:
232 |             pytest.skip(f"Module {package}.{module} not available")
    |                                                                    ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_phase2.py:110:34
    |
109 | if __name__ == "__main__":
110 |     pytest.main([__file__, "-v"])
    |                                  ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_phase2_features.py:267:49
    |
265 |         assert GRADELevel is not None
266 |         assert CitationStance is not None
267 |         assert ContradictionDetector is not None
    |                                                 ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_phase2_integration.py:147:53
    |
145 |         # Check Phase 2 quality gates
146 |         assert "support_rate" in quality_gates
147 |         assert quality_gates["support_rate"] == 0.90
    |                                                     ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_phase3_complete.py:238:47
    |
236 |         assert Plugin is not None
237 |         assert ZoteroClient is not None
238 |         assert measure_performance is not None
    |                                               ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_phase4_additional.py:317:54
    |
315 |         from jarvis_core.security import injection_defense
316 |
317 |         assert hasattr(injection_defense, "__name__")
    |                                                      ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_phase4_high_priority.py:440:44
    |
438 |         from jarvis_core.pipelines import run_mvp
439 |
440 |         assert hasattr(run_mvp, "__name__")
    |                                            ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_phase5_additional.py:507:42
    |
505 |         from jarvis_core.knowledge import store
506 |
507 |         assert hasattr(store, "__name__")
    |                                          ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_phase5_medium_priority.py:415:46
    |
413 |         from jarvis_core.ranking import explainer
414 |
415 |         assert hasattr(explainer, "__name__")
    |                                              ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_phase6_coverage.py:522:53
    |
520 |         from jarvis_core import retry_controller
521 |
522 |         assert hasattr(retry_controller, "__name__")
    |                                                     ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_phase7_functional.py:595:49
    |
594 |         summary = pipeline.get_sources_summary()
595 |         assert len(summary["fetch_errors"]) == 3
    |                                                 ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_phase8_deep.py:522:52
    |
520 |         from jarvis_core.writing import outline_builder
521 |
522 |         assert hasattr(outline_builder, "__name__")
    |                                                    ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_phaseA_additional.py:289:68
    |
287 |             exec(f"from {package} import {module}")
288 |         except ImportError:
289 |             pytest.skip(f"Module {package}.{module} not available")
    |                                                                    ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_phaseA_lab_automation.py:258:59
    |
256 |         assert hasattr(automation, "AutomatedPipetting")
257 |         assert hasattr(automation, "SampleTracker")
258 |         assert hasattr(automation, "EnvironmentalMonitor")
    |                                                           ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_phaseA_v2_direct_coverage.py:496:38
    |
494 |         monitor = LabSafetyMonitor()
495 |         result = monitor.check_safety()
496 |         assert result["fume_hood_on"]
    |                                      ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_phaseB_high_miss.py:241:68
    |
239 |             exec(f"from {package} import {module}")
240 |         except ImportError:
241 |             pytest.skip(f"Module {package}.{module} not available")
    |                                                                    ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_phaseB_massive_coverage.py:641:41
    |
639 |             exec(f"from jarvis_core.writing import {module}")
640 |         except ImportError:
641 |             pytest.skip("Not available")
    |                                         ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_phaseC_part1_detailed.py:330:46
    |
328 |         from jarvis_core.kpi import phase_kpi
329 |
330 |         assert hasattr(phase_kpi, "__name__")
    |                                              ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_phaseC_part2_detailed.py:277:48
    |
275 |         from jarvis_core.policies import stop_policy
276 |
277 |         assert hasattr(stop_policy, "__name__")
    |                                                ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_phaseC_part3_detailed.py:346:46
    |
344 |         from jarvis_core.submission import formatter
345 |
346 |         assert hasattr(formatter, "__name__")
    |                                              ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_phaseC_part4_functions.py:409:31
    |
408 |         attrs = [a for a in dir(career_engines) if not a.startswith("_")]
409 |         assert len(attrs) >= 0
    |                               ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_phaseC_part5_deep.py:383:36
    |
381 |         attrs = [a for a in dir(detector) if not a.startswith("_")]
382 |         for attr in attrs[:15]:
383 |             getattr(detector, attr)
    |                                    ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_phaseC_part6_submodules.py:545:35
    |
543 |         attrs = [a for a in dir(summary) if not a.startswith("_")]
544 |         for attr in attrs[:10]:
545 |             getattr(summary, attr)
    |                                   ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_phaseC_part7_final.py:599:42
    |
597 |         attrs = [a for a in dir(workflow_tuner) if not a.startswith("_")]
598 |         for attr in attrs[:10]:
599 |             getattr(workflow_tuner, attr)
    |                                          ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_phaseD1_advanced_features.py:245:51
    |
243 |                 assert instance is not None
244 |             except Exception:
245 |                 pass  # Some may require arguments
    |                                                   ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_phaseE1_generate_report.py:367:60
    |
365 |             result = generate_report(run_dir, "Low support query")
366 |
367 |             assert "CAUTION" in result or "譬ｹ諡謾ｯ謖∫紫" in result
    |                                                                 ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_phaseE2_high_miss.py:242:25
    |
240 |                     obj()
241 |                 except Exception:
242 |                     pass
    |                         ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_phaseE3_advanced_complete.py:178:39
    |
176 |         if hasattr(features, "ExperimentPlanner"):
177 |             planner = features.ExperimentPlanner()
178 |             assert planner is not None
    |                                       ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_phaseE4_root_modules.py:322:25
    |
320 |                     obj()
321 |                 except Exception:
322 |                     pass
    |                         ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_phaseF1_massive.py:268:46
    |
266 |         from jarvis_core.agents import scientist
267 |
268 |         assert hasattr(scientist, "__name__")
    |                                              ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_phaseF2_additional.py:254:53
    |
252 |         from jarvis_core.eval import extended_metrics
253 |
254 |         assert hasattr(extended_metrics, "__name__")
    |                                                     ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_phaseF3_remaining.py:335:42
    |
333 |         from jarvis_core.writing import utils
334 |
335 |         assert hasattr(utils, "__name__")
    |                                          ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_phaseG10_kb_retrieval.py:148:29
    |
146 |                         obj()
147 |                     except Exception:
148 |                         pass
    |                             ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_phaseG11_remaining.py:308:29
    |
306 |                         obj()
307 |                     except Exception:
308 |                         pass
    |                             ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_phaseG12_root_modules.py:320:45
    |
318 |         from jarvis_core import autonomous_loop
319 |
320 |         test_module_classes(autonomous_loop)
    |                                             ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_phaseG1_ultra_detailed.py:331:29
    |
329 |                         obj()
330 |                     except Exception:
331 |                         pass
    |                             ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_phaseG2_advanced_complete.py:222:33
    |
221 |         # Should instantiate at least 10 classes
222 |         assert instantiated >= 5
    |                                 ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_phaseG3_lab_complete.py:339:31
    |
337 |         assert latest["version"] == 3
338 |         assert specific["version"] == 2
339 |         assert missing is None
    |                               ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_phaseG4_ingestion_complete.py:148:29
    |
146 |                                         pass
147 |                     except Exception:
148 |                         pass
    |                             ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_phaseG5_evidence_citation.py:164:29
    |
162 |                         obj()
163 |                     except Exception:
164 |                         pass
    |                             ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_phaseG6_llm_embeddings.py:122:29
    |
120 |                         obj()
121 |                     except Exception:
122 |                         pass
    |                             ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_phaseG7_sources_api.py:130:29
    |
128 |                         obj()
129 |                     except Exception:
130 |                         pass
    |                             ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_phaseG8_agents_workflow.py:116:29
    |
114 |                         obj()
115 |                     except Exception:
116 |                         pass
    |                             ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_phaseG9_pipelines_runtime.py:116:29
    |
114 |                         obj()
115 |                     except Exception:
116 |                         pass
    |                             ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_phaseH10_lab_branches.py:166:34
    |
165 |         status = controller.get_status("device1")
166 |         assert status is not None
    |                                  ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_phaseH11_stages_branches.py:175:34
    |
174 |         result = create_claim_section(claim, evidence, paper_map)
175 |         assert result is not None
    |                                  ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_phaseH12_eval_branches.py:72:32
   |
70 |         from jarvis_core.eval import aubuc
71 |
72 |         deep_test_module(aubuc)
   |                                ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_phaseH13_active_kpi.py:65:35
   |
63 |         from jarvis_core.kpi import reporter
64 |
65 |         deep_test_module(reporter)
   |                                   ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_phaseH14_plugins_integrations.py:72:37
   |
70 |         from jarvis_core.integrations import ris_bibtex
71 |
72 |         deep_test_module(ris_bibtex)
   |                                     ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_phaseH15_multimodal_notes.py:65:36
   |
63 |         from jarvis_core.notes import formatter
64 |
65 |         deep_test_module(formatter)
   |                                    ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_phaseH16_20_massive.py:178:39
    |
176 |         from jarvis_core.policies import retry_policy
177 |
178 |         deep_test_module(retry_policy)
    |                                       ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_phaseH1_deep_analysis.py:394:29
    |
392 |                                             pass
393 |                     except Exception:
394 |                         pass
    |                             ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_phaseH21_25_more.py:189:33
    |
187 |         from jarvis_core.cache import policy
188 |
189 |         deep_test_module(policy)
    |                                 ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_phaseH26_30_final.py:182:43
    |
180 |         from jarvis_core.api import semantic_scholar
181 |
182 |         deep_test_module(semantic_scholar)
    |                                           ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_phaseH2_deep_analysis.py:103:37
    |
101 |         from jarvis_core.contradiction import normalizer
102 |
103 |         deep_test_module(normalizer)
    |                                     ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_phaseH3_deep_analysis.py:103:33
    |
101 |         from jarvis_core.provenance import linker
102 |
103 |         deep_test_module(linker)
    |                                 ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_phaseH4_deep_subpackages.py:150:33
    |
148 |         from jarvis_core.ranking import scorer
149 |
150 |         deep_test_module(scorer)
    |                                 ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_phaseH5_deep_root.py:177:35
    |
175 |         from jarvis_core import timeline
176 |
177 |         deep_test_module(timeline)
    |                                   ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_phaseH6_additional_deep.py:210:32
    |
208 |         from jarvis_core.writing import utils
209 |
210 |         deep_test_module(utils)
    |                                ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_phaseH7_additional_deep.py:318:41
    |
316 |         from jarvis_core import workflow_tuner
317 |
318 |         deep_test_module(workflow_tuner)
    |                                         ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_phaseH8_ingestion_branches.py:149:17
    |
147 |             extractor.extract(path)
148 |         except Exception:
149 |             pass
    |                 ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_phaseH9_advanced_branches.py:171:25
    |
169 |                     cls()
170 |                 except Exception:
171 |                     pass
    |                         ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_phaseI1_parametrized.py:179:34
    |
177 |         bibtex = f"@{entry_type}{{key, author={{A}}, title={{T}}, year={{2024}}}}"
178 |         result = parser.parse(bibtex)
179 |         assert result is not None
    |                                  ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_phaseI2_error_paths.py:172:25
    |
170 |                     getattr(crossref_client, name)()
171 |                 except Exception:
172 |                     pass
    |                         ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_phaseI3_edge_cases.py:170:29
    |
168 |                         obj()
169 |                     except Exception:
170 |                         pass
    |                             ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_phaseI4_integration.py:215:43
    |
213 |         result = qc.check({"purity_score": 0.98})
214 |
215 |         assert result["overall"] == "pass"
    |                                           ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_phaseI5_remaining_root.py:180:43
    |
178 |         from jarvis_core import negative_results
179 |
180 |         deep_test_module(negative_results)
    |                                           ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_phaseJ1_advanced_phase6.py:359:34
    |
357 |         ]
358 |         result = analyzer.analyze_by_subgroup(studies, "group")
359 |         assert result is not None
    |                                  ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_phaseJ2_advanced_phase78.py:335:55
    |
333 |         }
334 |         result = checker.check_reproducibility(paper)
335 |         assert "score" in result or result is not None
    |                                                       ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_phaseJ3_advanced_phase910.py:373:33
    |
371 |         manager.register_plugin("test", lambda: "hello")
372 |         result = manager.run_plugin("test")
373 |         assert result == "hello"
    |                                 ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_phaseK1_stages_complete.py:382:29
    |
380 |                                             pass
381 |                     except Exception:
382 |                         pass
    |                             ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_phaseK2_lab_complete.py:407:31
    |
406 |         missing = tracker.get_sample("nonexistent")
407 |         assert missing is None
    |                               ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_phaseK3_ingestion_retrieval.py:312:29
    |
310 |                                             pass
311 |                     except Exception:
312 |                         pass
    |                             ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_phaseL1_generate_report_branches.py:462:63
    |
460 |             # Should only show 10 papers in references
461 |             assert "p9" in report
462 |             assert "p10" not in report  # 11th paper not shown
    |                                                               ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_phaseL2_lab_branches.py:348:34
    |
346 |         ]
347 |         result = optimizer.suggest(params, history)
348 |         assert result is not None
    |                                  ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_phaseL3_advanced_branches.py:311:45
    |
309 |         for effect in [0.2, 0.5, 0.8]:
310 |             result = calc.calculate_sample_size(effect, 0.05, 0.8)
311 |             assert result["sample_size"] > 0
    |                                             ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_phaseM10_final_modules.py:267:25
    |
265 |                                 pass
266 |                 except Exception:
267 |                     pass
    |                         ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_phaseM1_massive_mocks.py:395:29
    |
393 |                                             pass
394 |                     except Exception:
395 |                         pass
    |                             ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_phaseM2_massive_mocks.py:326:29
    |
324 |                                         pass
325 |                     except Exception:
326 |                         pass
    |                             ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_phaseM3_massive_mocks.py:340:29
    |
338 |                                         pass
339 |                     except Exception:
340 |                         pass
    |                             ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_phaseM4_massive_mocks.py:313:29
    |
311 |                                         pass
312 |                     except Exception:
313 |                         pass
    |                             ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_phaseM5_massive_mocks.py:367:25
    |
365 |                                 pass
366 |                 except Exception:
367 |                     pass
    |                         ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_phaseM6_root_modules.py:333:25
    |
331 |                                 pass
332 |                 except Exception:
333 |                     pass
    |                         ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_phaseM7_root_modules.py:331:25
    |
329 |                                 pass
330 |                 except Exception:
331 |                     pass
    |                         ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_phaseM8_subpackages.py:283:25
    |
281 |                                 pass
282 |                 except Exception:
283 |                     pass
    |                         ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_phaseM9_more_subpackages.py:253:25
    |
251 |                                 pass
252 |                 except Exception:
253 |                     pass
    |                         ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_phaseN1_precise_branches.py:489:31
    |
487 |         result = stage_design_risk_diagnosis(context, artifacts)
488 |         risks = result.metadata.get("risk_diagnoses", [])
489 |         assert len(risks) == 1
    |                               ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_phase_alpha_gamma.py:283:38
    |
281 |     def test_empty_vectors_safe(self):
282 |         result = suggest_model_system("PD-1", [])
283 |         assert "cell_lines" in result
    |                                      ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_phase_lambda.py:226:31
    |
224 |         vectors = _create_test_vectors()
225 |         result = generate_monthly_strategy_brief(vectors)
226 |         assert len(result) > 0
    |                               ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_phase_omega.py:225:36
    |
223 |         evals = evaluate_research_themes({"theme1": vectors})
224 |         summary = generate_pi_summary(evals)
225 |         assert "郢ｧ・ｵ郢晄ｧｭﾎ懃ｹ晢ｽｼ" in summary
    |                                        ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_phase_psi.py:284:51
    |
282 |         vectors = _create_test_vectors()
283 |         result = suggest_self_evolution(vectors, ["feature1"])
284 |         assert "next_feature_candidates" in result
    |                                                   ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_phase_sigma.py:243:51
    |
241 |         vectors = _create_test_vectors()
242 |         status = sync_research_log(vectors)
243 |         assert status["sync_status"] == "complete"
    |                                                   ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_pii_detector.py:12:26
   |
10 |     types = {d.type for d in detections}
11 |     assert "email" in types
12 |     assert "ssn" in types
   |                          ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_planner.py:41:31
   |
40 |     assert len(subtasks) == 1
41 |     assert subtasks[0] is task
   |                               ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_planner_coverage.py:21:35
   |
19 |         from jarvis_core import planner
20 |
21 |         assert planner is not None
   |                                   ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_plugins.py:320:42
    |
319 |         assert Plugin is not None
320 |         assert PluginRegistry is not None
    |                                          ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_pmc_connector_full.py:28:40
   |
26 |         from jarvis_core.connectors.pmc import PMCConnector
27 |
28 |         assert PMCConnector is not None
   |                                        ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_pmc_mega.py:50:31
   |
48 |         from jarvis_core.connectors import pmc
49 |
50 |         assert pmc is not None
   |                               ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_pmc_ultra.py:56:31
   |
54 |         from jarvis_core.connectors import pmc
55 |
56 |         assert pmc is not None
   |                               ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_positioning.py:115:33
    |
113 |         assert "蜈咲稔豢ｻ諤ｧ蛹夜伜沺" in desc
114 |         assert "繧ｷ繧ｰ繝翫Ν驥崎ｦ・ in desc
115 |         assert "TME螻謇遐皮ｩｶ" in desc
    |                                     ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_pretrain_citation_reconstruction.py:307:34
    |
306 | if __name__ == "__main__":
307 |     pytest.main([__file__, "-v"])
    |                                  ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_pretrain_meta_core.py:203:34
    |
202 | if __name__ == "__main__":
203 |     pytest.main([__file__, "-v"])
    |                                  ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_prisma.py:376:48
    |
375 |         assert PRISMAGenerator is not None
376 |         assert generate_prisma_flow is not None
    |                                                ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_prisma_active.py:307:49
    |
305 |         assert detect_contradictions is not None
306 |         assert generate_prisma is not None
307 |         assert create_active_learner is not None
    |                                                 ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_prisma_coverage.py:36:34
   |
34 |         from jarvis_core.experimental import prisma
35 |
36 |         assert prisma is not None
   |                                  ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_pubmed_api.py:147:34
    |
146 | if __name__ == "__main__":
147 |     pytest.main([__file__, "-v"])
    |                                  ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_pubmed_api_coverage.py:59:34
   |
57 |         from jarvis_core.api import pubmed
58 |
59 |         assert pubmed is not None
   |                                  ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_pubmed_api_full.py:95:34
   |
93 |         from jarvis_core.api import pubmed
94 |
95 |         assert pubmed is not None
   |                                  ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_pubmed_client.py:356:41
    |
355 |         assert PubMedClient is not None
356 |         assert PubMedArticle is not None
    |                                         ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_pubmed_massive.py:18:34
   |
16 |         from jarvis_core.api import pubmed
17 |
18 |         assert pubmed is not None
   |                                  ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_pubmed_source.py:43:58
   |
42 |         # Mock returns non-OA items
43 |         assert all(item.is_oa is False for item in items)
   |                                                          ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_pubmed_ultra.py:18:34
   |
16 |         from jarvis_core.api import pubmed
17 |
18 |         assert pubmed is not None
   |                                  ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_quality_gate.py:276:92
    |
274 |         # Should be partial, not fail
275 |         assert complete_event["agent_status"] == "partial"
276 |         assert "agent_reported_fail_but_output_valid" in complete_event["quality_warnings"]
    |                                                                                            ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_ranking.py:91:34
   |
90 | if __name__ == "__main__":
91 |     pytest.main([__file__, "-v"])
   |                                  ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_ranking_storage.py:137:51
    |
135 |         from jarvis_core.storage import index_registry
136 |
137 |         assert hasattr(index_registry, "__name__")
    |                                                   ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_rate_limit.py:10:41
   |
 8 |     limiter.record_response("pubmed", 429)
 9 |     assert limiter.backoff_until("pubmed") > time.time()
10 |     assert not limiter.acquire("pubmed")
   |                                         ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_reference.py:239:48
    |
238 |             assert "references" in data
239 |             assert len(data["references"]) == 1
    |                                                ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_regression_runner_full.py:21:45
   |
19 |         from jarvis_core.eval import regression_runner
20 |
21 |         assert regression_runner is not None
   |                                             ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_regression_runner_smoke.py:70:36
   |
69 |         result = check_quality_bar(metrics)
70 |         assert not result["passed"]
   |                                    ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_relevance.py:108:58
    |
106 |             # Should be sorted descending
107 |             scores = [r[1] for r in results]
108 |             assert scores == sorted(scores, reverse=True)
    |                                                          ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_reliability_security.py:162:34
    |
161 | if __name__ == "__main__":
162 |     pytest.main([__file__, "-v"])
    |                                  ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_remediation_catalog.py:84:69
   |
82 |         config = {"fetch_adapter": "pmc"}
83 |         result = action.apply(config, {})
84 |         assert result.config_changes["fetch_adapter"] == "unpaywall"
   |                                                                     ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_repair_loop_stops_correctly.py:81:91
   |
80 |         # Either succeeds or stops due to no actions (both valid outcomes)
81 |         assert result.stop_reason in [StopReason.SUCCESS, StopReason.NO_ACTIONS_AVAILABLE]
   |                                                                                           ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_repair_planner_priority.py:107:36
    |
105 |         actions2 = planner.plan(signals, {}, config)
106 |
107 |         assert actions1 == actions2
    |                                    ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_repair_policy_schema.py:82:55
   |
80 |         assert not policy.should_stop_on_no_improvement(1)
81 |         assert policy.should_stop_on_no_improvement(2)
82 |         assert policy.should_stop_on_no_improvement(3)
   |                                                       ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_repeated_sampling.py:130:30
    |
128 |         result = sampler.sample(failing_generator, evaluator)
129 |
130 |         assert result is None
    |                              ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_report_builder.py:185:89
    |
184 |             assert (tmp_path / "output" / "test_run" / "qa" / "qa_report.md").exists()
185 |             assert (tmp_path / "output" / "test_run" / "qa" / "qa_report.html").exists()
    |                                                                                         ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_report_generation.py:125:51
    |
124 |         assert len(evidence_map["claim_001"]) == 2
125 |         assert len(evidence_map["claim_002"]) == 1
    |                                                   ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_reproducibility.py:214:31
    |
212 |         score2 = len(evidence2)
213 |
214 |         assert score1 > score2
    |                               ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_reproducibility_snapshot.py:222:34
    |
221 | if __name__ == "__main__":
222 |     pytest.main([__file__, "-v"])
    |                                  ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_research_os.py:196:34
    |
195 | if __name__ == "__main__":
196 |     pytest.main([__file__, "-v"])
    |                                  ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_resolvers.py:235:40
    |
233 |         assert ref.doi == "10.9999/abc"
234 |         assert ref.pmid == "99999"
235 |         assert ref.journal == "Science"
    |                                        ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_retraction_watch.py:37:42
   |
35 |     assert isinstance(status, RetractionStatus)
36 |     assert status.is_retracted is True
37 |     assert status.reason == "Data issues"
   |                                          ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_retrieval_advanced.py:108:45
    |
106 |         from jarvis_core.retrieval import snapshot
107 |
108 |         assert hasattr(snapshot, "__name__")
    |                                             ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_retriever.py:241:69
    |
239 |         # Check that relevant chunks contain expected content
240 |         relevant_texts = [store.get_chunk(r.chunk_id).text for r in relevant]
241 |         assert any("adenosine" in t.lower() for t in relevant_texts)
    |                                                                     ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_retriever_coverage.py:21:37
   |
19 |         from jarvis_core import retriever
20 |
21 |         assert retriever is not None
   |                                     ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_retry_policy.py:25:35
   |
24 |     assert decision.should_retry is False
25 |     assert decision.reason is None
   |                                   ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_review_generator_coverage.py:84:43
   |
82 |         from jarvis_core.analysis.review_generator import ReviewGenerator
83 |
84 |         assert ReviewGenerator is not None
   |                                           ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_review_generator_full.py:85:43
   |
83 |         from jarvis_core.analysis.review_generator import ReviewGenerator
84 |
85 |         assert ReviewGenerator is not None
   |                                           ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_review_generator_massive.py:95:43
   |
93 |         from jarvis_core.analysis.review_generator import ReviewGenerator
94 |
95 |         assert ReviewGenerator is not None
   |                                           ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_review_generator_ultra.py:54:44
   |
52 |         from jarvis_core.analysis import review_generator
53 |
54 |         assert review_generator is not None
   |                                            ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_router_basic.py:83:84
   |
81 |     result = router.run(task)
82 |     assert "analyzing papers" in result.answer
83 |     assert result.meta and result.meta.get("source") == "mygpt_paper_analyzer_stub"
   |                                                                                    ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_router_coverage.py:21:34
   |
19 |         from jarvis_core import router
20 |
21 |         assert router is not None
   |                                  ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_rp24_27.py:216:47
    |
215 |             assert "Run Comparison" in diff
216 |             assert "Claims Comparison" in diff
    |                                               ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_rp29_37.py:282:51
    |
281 |         assert stats["total_papers"] == 3
282 |         assert stats["year_range"] == (2020, 2023)
    |                                                   ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_rp300_retrieval.py:119:42
    |
118 |         report = checker.check_text(text, sources)
119 |         assert report.claims_checked >= 1
    |                                          ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_rp305_extra.py:132:38
    |
130 |         logger.error("Error message")
131 |
132 |         assert len(logger._logs) == 2
    |                                      ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_rp320_kg.py:32:33
   |
31 |         assert "CD73" in synonyms
32 |         assert len(synonyms) > 1
   |                                 ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_rp355_llm.py:46:65
   |
45 |         assert len(result.model_outputs) == 2
46 |         assert result.final_text in ["Response A", "Response B"]
   |                                                                 ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_rp370_eval.py:54:63
   |
53 |         assert len(alerts) > 0
54 |         assert any(a.metric == "success_rate" for a in alerts)
   |                                                               ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_rp400_scale.py:86:40
   |
84 |         active = pm.list_active_plugins()
85 |
86 |         assert isinstance(active, list)
   |                                        ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_rp500_infra.py:188:42
    |
187 |         stats = pool.get_stats()
188 |         assert stats.total_checkouts >= 1
    |                                          ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_rp510_deploy.py:309:60
    |
308 |         assert RecoveryPointObjective.MINUTES_1.value == 60
309 |         assert RecoveryTimeObjective.MINUTES_5.value == 300
    |                                                            ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_rp520_cloud.py:208:28
    |
206 |         bot2 = get_jarvis_bot()
207 |
208 |         assert bot1 is bot2
    |                            ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_rp533_integrations.py:249:72
    |
248 |         assert manager.is_enabled("beta_feature", user_id="user-1")
249 |         assert not manager.is_enabled("beta_feature", user_id="user-3")
    |                                                                        ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_run_api_coverage.py:21:35
   |
19 |         from jarvis_core.api import run_api
20 |
21 |         assert run_api is not None
   |                                   ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_run_api_full.py:21:35
   |
19 |         from jarvis_core.api import run_api
20 |
21 |         assert run_api is not None
   |                                   ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_run_jarvis_integration.py:163:24
    |
161 |     result = engine.run_and_get_answer(root_task)
162 |
163 |     assert result == ""
    |                        ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_runtime_modules.py:152:41
    |
150 |         from jarvis_core.runtime import time
151 |
152 |         assert hasattr(time, "__name__")
    |                                         ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_scheduler_coverage.py:21:34
   |
19 |         from jarvis_core.scheduler import schema
20 |
21 |         assert schema is not None
   |                                  ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_scheduler_engine.py:19:45
   |
17 |     assert engine.is_due(schedule, now, schedule.get("last_run_at"))
18 |     next_run = engine.next_run_at(schedule, now=now)
19 |     assert next_run.startswith("2024-01-04")
   |                                             ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_scientific_linter.py:61:68
   |
59 |         assert "error_count" in features
60 |         assert "warn_count" in features
61 |         assert features["warn_count"] >= 2  # "some" and "probably"
   |                                                                    ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_scientific_validity.py:198:34
    |
197 | if __name__ == "__main__":
198 |     pytest.main([__file__, "-v"])
    |                                  ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_search_v2_contract.py:49:87
   |
47 |     for item in data["results"]:
48 |         assert "provenance" in item
49 |         assert item["provenance"].get("run_id") or item["provenance"].get("file_path")
   |                                                                                       ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_smoke_schedules_api.py:60:48
   |
58 |     history_response = client.get(f"/api/schedules/{schedule_id}/history")
59 |     assert history_response.status_code == 200
60 |     assert "history" in history_response.json()
   |                                                ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_source_chunking.py:78:46
   |
76 |         previews = context.get_chunks_preview()
77 |         assert len(previews) == 2
78 |         assert previews[0]["chunk_id"] == "1"
   |                                              ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_sources.py:206:45
    |
204 |         # Previews should be available for agent prompts
205 |         previews = ctx.get_chunks_preview()
206 |         assert len(previews) == len(results)
    |                                             ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_sources_clients.py:48:53
   |
46 |         from jarvis_core.sources import unpaywall_client
47 |
48 |         assert hasattr(unpaywall_client, "__name__")
   |                                                     ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_sources_coverage.py:27:35
   |
25 |         from jarvis_core import sources
26 |
27 |         assert sources is not None
   |                                   ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_sources_massive.py:51:35
   |
49 |         from jarvis_core import sources
50 |
51 |         assert sources is not None
   |                                   ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_sources_mega.py:50:35
   |
48 |         from jarvis_core import sources
49 |
50 |         assert sources is not None
   |                                   ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_sources_ultra.py:50:35
   |
48 |         from jarvis_core import sources
49 |
50 |         assert sources is not None
   |                                   ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_spec_lint.py:72:42
   |
70 |         violations = check_file(md)
71 |         assert len(violations) == 1
72 |         assert "蠢・・ in violations[0].word
   |                                            ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_stages_detailed.py:134:57
    |
132 |         from jarvis_core.stages import retrieval_extraction
133 |
134 |         assert hasattr(retrieval_extraction, "__name__")
    |                                                         ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_stages_functional.py:306:53
    |
304 |         from jarvis_core.stages import extract_features
305 |
306 |         assert hasattr(extract_features, "__name__")
    |                                                     ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_submission_coverage.py:126:39
    |
124 |         )
125 |
126 |         assert diff_engine is not None
    |                                       ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_submission_format.py:90:34
   |
89 | if __name__ == "__main__":
90 |     pytest.main([__file__, "-v"])
   |                                  ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_submission_giga.py:22:38
   |
20 |         from jarvis_core import submission
21 |
22 |         assert submission is not None
   |                                      ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_submission_massive.py:24:17
   |
22 |             assert jarvis_core.submission is not None
23 |         except ImportError:
24 |             pass
   |                 ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_submission_mega.py:27:38
   |
25 |         from jarvis_core import submission
26 |
27 |         assert submission is not None
   |                                      ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_submission_ultra.py:21:17
   |
19 |             assert mod is not None
20 |         except ImportError:
21 |             pass
   |                 ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_sudo_approval.py:22:33
   |
20 |     assert result.allowed is False
21 |     assert result.requires_approval is True
22 |     assert result.blocked_reason
   |                                 ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_summarizers.py:79:49
   |
77 |         result = generate_summaries("topic", claims, evidence)
78 |
79 |         assert isinstance(result, SummaryOutput)
   |                                                 ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_sync_coverage.py:107:36
    |
106 |         assert manager is not None
107 |         assert handlers is not None
    |                                    ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_sync_handlers.py:33:33
   |
32 |         # Handler should be a callable
33 |         assert callable(handler)
   |                                 ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_sync_massive.py:40:32
   |
38 |         from jarvis_core import sync
39 |
40 |         assert sync is not None
   |                                ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_sync_mega.py:69:32
   |
67 |         from jarvis_core import sync
68 |
69 |         assert sync is not None
   |                                ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_sync_progress.py:49:30
   |
47 |         reporter = SyncProgressReporter()
48 |         # Should not raise error
49 |         reporter.report(1, 1)
   |                              ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_sync_storage.py:146:30
    |
145 |         result = storage.get_item("nonexistent")
146 |         assert result is None
    |                              ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_sync_ultra.py:45:32
   |
43 |         from jarvis_core import sync
44 |
45 |         assert sync is not None
   |                                ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_table_extractor.py:21:42
   |
19 |     assert tables[0].headers == ["A", "B"]
20 |     assert tables[0].rows == [["1", "2"]]
21 |     assert tables[0].caption == "Table 1"
   |                                          ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_task_model.py:88:48
   |
86 |     assert task.user_goal == "CD73縺ｫ髢｢縺吶ｋ譛譁ｰ隲匁枚繧定ｪｿ縺ｹ縲∬ｦ∫せ繧呈紛逅・＠縺ｦ縺ｾ縺ｨ繧√※縺ｻ縺励＞"
87 |     assert task.inputs["query"] == "CD73"
88 |     assert task.constraints["language"] == "ja"
   |                                                ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_telemetry_analyze.py:111:36
    |
109 |         captured = capsys.readouterr()
110 |         assert "test_run" in captured.out
111 |         assert "50" in captured.out
    |                                    ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_telemetry_contract_v2.py:146:57
    |
145 |         trace_ids = [e.get("trace_id") for e in events if e.get("trace_id")]
146 |         assert all(tid == trace_id for tid in trace_ids)
    |                                                         ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_telemetry_coverage.py:21:37
   |
19 |         from jarvis_core import telemetry
20 |
21 |         assert telemetry is not None
   |                                     ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_telemetry_logger.py:71:38
   |
70 |         assert logger is not None
71 |         assert get_logger() == logger
   |                                      ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_telemetry_redact.py:75:34
   |
74 |         # Should not crash, just return data at depth limit
75 |         assert result is not None
   |                                  ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_telemetry_required.py:124:47
    |
122 |         error_event = json.loads(events[1])
123 |         assert error_event["event"] == "RUN_ERROR"
124 |         assert error_event["level"] == "ERROR"
    |                                               ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_telemetry_smoke.py:120:54
    |
118 |         h1 = input_hash({"a": 1, "b": 2})
119 |         h2 = input_hash({"b": 2, "a": 1})  # Different order
120 |         assert h1 == h2  # Sort keys makes them equal
    |                                                      ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_telemetry_summarize.py:62:34
   |
60 |         assert "Top Failures" in text
61 |         assert "Timeout" in text
62 |         assert "Warnings" in text
   |                                  ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_term_normalizer.py:171:49
    |
169 |         result = normalize_pptx_slides(slides, style_guide)
170 |
171 |         assert len(result.normalized_lines) == 2
    |                                                 ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_terminal_security.py:42:33
   |
40 |     result = await manager.execute_command(request, approved=True)
41 |     assert result.executed is True
42 |     assert result.exit_code == 0
   |                                 ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_thinking_engines.py:105:41
    |
103 |         assert result["initial_count"] == 2
104 |         assert len(result["surviving_hypotheses"]) >= 1
105 |         assert "survival_rate" in result
    |                                         ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_time_schema.py:97:54
   |
95 |     def test_default_has_variable(self):
96 |         assert "research" in DEFAULT_TIME_SCHEMA.variable
97 |         assert "rest" in DEFAULT_TIME_SCHEMA.variable
   |                                                      ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_timeline.py:93:49
   |
92 |         # Should mention immune shift
93 |         assert "蜈咲稔" in result or len(result) > 0
   |                                                   ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_trace.py:136:52
    |
134 |         trace = get_current_trace()
135 |         assert trace.steps[0].status == "failed"
136 |         assert "Test error" in trace.steps[0].error
    |                                                    ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_trace_context.py:134:53
    |
132 |         # Current context should have tool name
133 |         current = get_current_context()
134 |         assert current.tool_name == "decorated_tool"
    |                                                     ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_trace_coverage.py:21:33
   |
19 |         from jarvis_core import trace
20 |
21 |         assert trace is not None
   |                                 ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_trend_watcher.py:147:69
    |
145 |         issues = watcher._generate_issues(items)
146 |         assert len(issues) == 1
147 |         assert issues[0]["description"].startswith("High relevance")
    |                                                                     ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_trick_sets.py:110:13
    |
108 |     def test_pipeline_states_unknown_for_no_evidence(self):
109 |         """Pipeline explicitly states 'unknown' when evidence is missing."""
110 |         pass
    |             ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_uncertainty.py:22:61
   |
20 | )
21 | def test_determine_uncertainty_label_boundaries(strength, expected):
22 |     assert determine_uncertainty_label(strength) == expected
   |                                                             ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_user_open_files.py:157:50
    |
155 |         from jarvis_core import pi_succession
156 |
157 |         assert hasattr(pi_succession, "__name__")
    |                                                  ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_utils_performance.py:212:35
    |
211 |         assert "size" in stats
212 |         assert "max_size" in stats
    |                                   ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_v41_sprint1.py:251:49
    |
249 |         score, reasons = calculate_risk_score(item, "inference")
250 |         assert score > 0
251 |         assert "Downgraded from FACT" in reasons
    |                                                 ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_v42_sprint23.py:290:46
    |
289 |         scorecard = generate_scorecard("test_run")
290 |         assert scorecard.run_id == "test_run"
    |                                              ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_v4_integration.py:255:50
    |
253 |         bundle = BundleV2()
254 |         bundle.add_evidence("chunk1", "Evidence text")
255 |         assert "chunk1" in bundle.evidence_chunks
    |                                                  ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_v4_roads.py:295:45
    |
293 |             watcher = ManifestWatcher(str(manifest_path))
294 |             watcher.add_entry("test.pdf", "pdf")
295 |             assert len(watcher.entries) == 1
    |                                             ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_validation.py:130:49
    |
129 |         assert combined.meta["key1"] == "value1"
130 |         assert combined.meta["key2"] == "value2"
    |                                                 ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_validation_coverage.py:21:38
   |
19 |         from jarvis_core import validation
20 |
21 |         assert validation is not None
   |                                      ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_vector_index.py:145:33
    |
143 |         results = get_relevant_chunks_vector(chunks, "relevant", k=1)
144 |
145 |         assert len(results) <= 1
    |                                 ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_visualization.py:136:34
    |
135 | if __name__ == "__main__":
136 |     pytest.main([__file__, "-v"])
    |                                  ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_visualization_advanced.py:174:29
    |
172 |         hot = predictor.get_hot_topics(top_n=2)
173 |
174 |         assert len(hot) <= 2
    |                             ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_web_fetcher.py:186:46
    |
185 |     def test_contains_jarvis(self):
186 |         assert "Jarvis" in DEFAULT_USER_AGENT
    |                                              ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_web_fetcher_coverage.py:21:39
   |
19 |         from jarvis_core import web_fetcher
20 |
21 |         assert web_fetcher is not None
   |                                       ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_weekly_pack.py:51:43
   |
49 |     assert "README.md" in names
50 |     assert "notes/papers/PMID_9999.md" in names
51 |     assert "notes/topics/cd73.md" in names
   |                                           ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_workflow.py:220:34
    |
219 | if __name__ == "__main__":
220 |     pytest.main([__file__, "-v"])
    |                                  ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_workflow_automation.py:318:44
    |
316 |         assert get_weekly_digest() is not None
317 |         assert get_deadline_tracker() is not None
318 |         assert get_focus_mode() is not None
    |                                            ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_workflow_coverage.py:131:32
    |
129 |         assert runner is not None
130 |         assert context_packager is not None
131 |         assert spec is not None
    |                                ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_workflow_massive.py:43:36
   |
41 |         from jarvis_core import workflow
42 |
43 |         assert workflow is not None
   |                                    ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_workflow_mega.py:51:36
   |
49 |         from jarvis_core import workflow
50 |
51 |         assert workflow is not None
   |                                    ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_workflow_runner.py:130:73
    |
128 |         step = StepSpec(step_id="test", action="tool")
129 |         result = runner._default_handler(step)
130 |         assert result is None or result is not None  # Accept any result
    |                                                                         ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_workflow_tuner.py:155:53
    |
153 |         # ContextPackager returns keys like 'bottom_logs', 'score_diffs', etc.
154 |         assert "score_diffs" in context or "bottom_logs" in context
155 |         # Check if context packager logic is invoked
    |                                                     ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_workflow_ultra.py:50:36
   |
48 |         from jarvis_core import workflow
49 |
50 |         assert workflow is not None
   |                                    ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_workflows_presets.py:65:65
   |
63 |             assert preset.description
64 |             assert preset.workflow
65 |             assert preset.depth in ["quick", "standard", "deep"]
   |                                                                 ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\test_writing_coverage.py:45:46
   |
43 |         assert draft_generator is not None
44 |         assert outline_builder is not None
45 |         assert citation_formatter is not None
   |                                              ^
   |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_writing_module.py:459:40
    |
457 |         assert "test_run_id" in result
458 |         assert "template_version" in result
459 |         assert "generated_at" in result
    |                                        ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
   --> tests\test_zotero_integration_v2.py:166:43
    |
164 |             content = bib_path.read_text(encoding="utf-8")
165 |             assert "@article{" in content
166 |             assert "Test Paper" in content
    |                                           ^
    |
help: Add trailing newline

W292 [*] No newline at end of file
  --> tests\web\test_routes_feature_flags.py:35:49
   |
34 |         routes = [route.path for route in app.routes]
35 |         assert "/api/finance/simulate" in routes
   |                                                 ^
   |
help: Add trailing newline

Found 1224 errors.
[*] 1219 fixable with the `--fix` option.
