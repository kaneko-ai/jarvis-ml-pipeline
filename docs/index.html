<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JARVIS Research OS - Ultimate Dashboard</title>
    <meta name="description" content="JARVIS Research OS - AI-powered scientific paper search and analysis">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="components.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>

<body>
    <div class="bg-gradient"></div>

    <header class="header glass">
        <div class="logo">
            <div class="logo-icon">ğŸ§¬</div>
            JARVIS Research OS
        </div>
        <nav class="nav">
            <button class="nav-btn active" data-tab="dashboard" onclick="showTab('dashboard')">ğŸ“Š Dashboard</button>
            <button class="nav-btn" data-tab="research" onclick="showTab('research')">ğŸ”¬ Research</button>
            <button class="nav-btn" data-tab="chat" onclick="showTab('chat')">ğŸ¤– AI Chat</button>
            <button class="nav-btn" data-tab="settings" onclick="showTab('settings')">âš™ï¸ Settings</button>
            <select class="nav-btn"
                onchange="JARVIS.state.lang=this.value;localStorage.setItem('jarvis_lang',this.value)">
                <option value="ja">ğŸ‡¯ğŸ‡µ æ—¥æœ¬èª</option>
                <option value="en">ğŸ‡ºğŸ‡¸ English</option>
            </select>
            <button class="theme-toggle icon-btn" onclick="toggleTheme()" title="Toggle theme">ğŸŒ™</button>
        </nav>
    </header>

    <div class="container">
        <!-- Status Bar -->
        <div class="status-bar glass">
            <div class="status-item"><span class="status-dot green"></span>System: Healthy</div>
            <div class="status-item"><span class="status-dot green"></span>API: Online</div>
            <div class="status-item" style="display:flex;align-items:center;gap:0.75rem">
                <span>Gemini:</span>
                <div class="quota-bar">
                    <div class="quota-fill" id="gemini-quota" style="width:85%"></div>
                </div>
                <span id="gemini-remaining">1275/1500</span>
            </div>
            <div class="status-item"><span class="status-dot green"></span>GitHub: âœ“</div>
            <div class="status-item">ğŸ• Last sync: Just now</div>
        </div>

        <!-- Dashboard Tab -->
        <div class="grid" id="tab-dashboard">
            <!-- Stats -->
            <div class="card stat-card col-3 animate-in">
                <div class="stat-icon">ğŸ“</div>
                <div class="stat-value">384</div>
                <div class="stat-label">PRs Implemented</div>
                <span class="stat-change up">â†‘ +12</span>
            </div>
            <div class="card stat-card col-3 animate-in">
                <div class="stat-icon">âœ…</div>
                <div class="stat-value">236</div>
                <div class="stat-label">Tests Passed</div>
                <span class="stat-change up">â†‘ +14</span>
            </div>
            <div class="card stat-card col-3 animate-in">
                <div class="stat-icon">ğŸ”</div>
                <div class="stat-value" id="stat-searches">0</div>
                <div class="stat-label">Total Searches</div>
            </div>
            <div class="card stat-card col-3 animate-in">
                <div class="stat-icon">ğŸ“„</div>
                <div class="stat-value" id="stat-papers">0</div>
                <div class="stat-label">Papers Found</div>
            </div>

            <!-- Search -->
            <div class="card col-8">
                <div class="card-header">
                    <h3 class="card-title">ğŸ”¬ Paper Search Pipeline</h3>
                    <div class="card-actions">
                        <button class="icon-btn" onclick="showShortcuts()" title="Shortcuts">âŒ¨ï¸</button>
                        <button class="icon-btn" onclick="location.reload()" title="Refresh">ğŸ”„</button>
                    </div>
                </div>
                <div class="search-container">
                    <input type="text" class="search-input" id="search-query"
                        placeholder="ğŸ” Search papers... (e.g., COVID-19 treatment)">
                    <button class="search-btn" id="search-btn" onclick="runSearch()">ğŸ” Search</button>
                </div>
                <div class="results-area" id="results-area">
                    <div style="padding:2rem;text-align:center;color:var(--text-secondary)">ğŸ’¡ Enter a query and press
                        Search or <kbd class="key">Ctrl+Enter</kbd></div>
                </div>
            </div>

            <!-- Health -->
            <div class="card col-4">
                <div class="card-header">
                    <h3 class="card-title">ğŸ’š System Health</h3>
                </div>
                <div class="health-grid">
                    <div class="health-item">
                        <div class="health-icon green">ğŸ–¥ï¸</div>
                        <div class="health-info">
                            <h4>API Server</h4><span>Healthy â€¢ 99.9%</span>
                        </div>
                    </div>
                    <div class="health-item">
                        <div class="health-icon green">ğŸ“Š</div>
                        <div class="health-info">
                            <h4>Dashboard</h4><span>Online â€¢ v4.4</span>
                        </div>
                    </div>
                    <div class="health-item">
                        <div class="health-icon green">âš¡</div>
                        <div class="health-info">
                            <h4>Actions</h4><span>13 workflows</span>
                        </div>
                    </div>
                    <div class="health-item">
                        <div class="health-icon green">ğŸ§ª</div>
                        <div class="health-info">
                            <h4>Tests</h4><span>236 passed</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Chart -->
            <div class="card col-6">
                <div class="card-header">
                    <h3 class="card-title">ğŸ“ˆ Search Activity (7 days)</h3>
                </div>
                <div class="chart-container"><canvas id="activity-chart"></canvas></div>
            </div>

            <!-- Logs -->
            <div class="card col-6">
                <div class="card-header">
                    <h3 class="card-title">ğŸ“œ Real-time Logs</h3>
                    <button class="icon-btn" onclick="clearLogs()">ğŸ—‘ï¸</button>
                </div>
                <div class="log-container" id="log-container">
                    <div class="log-entry"><span class="log-time">--:--:--</span><span
                            class="log-level success">[OK]</span><span>Dashboard initialized</span></div>
                </div>
            </div>

            <!-- Favorites -->
            <div class="card col-4">
                <div class="card-header">
                    <h3 class="card-title">â­ Favorites</h3>
                </div>
                <div class="favorites-list">
                    <div class="favorite-item" onclick="setQuery('COVID-19 treatment')">ğŸ’‰ COVID-19</div>
                    <div class="favorite-item" onclick="setQuery('machine learning healthcare')">ğŸ¤– ML Healthcare</div>
                    <div class="favorite-item" onclick="setQuery('cancer immunotherapy')">ğŸ§¬ Immunotherapy</div>
                    <div class="favorite-item" onclick="setQuery('AI drug discovery')">ğŸ’Š Drug Discovery</div>
                </div>
            </div>

            <!-- Tags -->
            <div class="card col-4">
                <div class="card-header">
                    <h3 class="card-title">ğŸ·ï¸ Popular Tags</h3>
                </div>
                <div class="tags-list">
                    <div class="tag-item" onclick="setQuery('AI')">ğŸ¤– AI</div>
                    <div class="tag-item" onclick="setQuery('cancer')">ğŸ—ï¸ Cancer</div>
                    <div class="tag-item" onclick="setQuery('diabetes')">ğŸ’‰ Diabetes</div>
                    <div class="tag-item" onclick="setQuery('genomics')">ğŸ§¬ Genomics</div>
                    <div class="tag-item" onclick="setQuery('neuroscience')">ğŸ§  Neuro</div>
                </div>
            </div>

            <!-- Notifications -->
            <div class="card col-4">
                <div class="card-header">
                    <h3 class="card-title">ğŸ”” Notifications</h3>
                    <span
                        style="background:var(--accent-red);padding:0.2rem 0.5rem;border-radius:10px;font-size:0.7rem">3</span>
                </div>
                <div class="notification-list">
                    <div class="notification-item">
                        <div class="notification-icon paper">ğŸ“„</div>
                        <div><strong>5 new papers</strong>
                            <p style="font-size:0.75rem;color:var(--text-secondary)">AI Healthcare - 2 min ago</p>
                        </div>
                    </div>
                    <div class="notification-item">
                        <div class="notification-icon success">âœ…</div>
                        <div><strong>Pipeline done</strong>
                            <p style="font-size:0.75rem;color:var(--text-secondary)">42 papers - 1h ago</p>
                        </div>
                    </div>
                    <div class="notification-item">
                        <div class="notification-icon alert">âš ï¸</div>
                        <div><strong>Quota low</strong>
                            <p style="font-size:0.75rem;color:var(--text-secondary)">15% remaining</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Quick Actions -->
            <div class="card col-12">
                <div class="card-header">
                    <h3 class="card-title">âš¡ Quick Actions</h3>
                </div>
                <div class="quick-actions">
                    <button class="btn" onclick="generateReport()"
                        style="background:linear-gradient(135deg,var(--accent-green),var(--accent-cyan))">ğŸ“
                        Report</button>
                    <button class="btn" onclick="summarizeResults()"
                        style="background:linear-gradient(135deg,var(--accent-purple),var(--accent-pink))">ğŸ¤– AI
                        Summarize</button>
                    <button class="btn" onclick="exportData()"
                        style="background:linear-gradient(135deg,var(--accent-blue),var(--accent-cyan))">ğŸ“¥
                        Export</button>
                    <button class="btn" onclick="runPipeline()"
                        style="background:linear-gradient(135deg,var(--accent-yellow),#f97316)">ğŸš€ Run Pipeline</button>
                    <button class="btn btn-secondary" onclick="window.open('api.html')">ğŸ“¡ API Docs</button>
                </div>
            </div>
        </div>

        <!-- Research Tab -->
        <div class="grid" id="tab-research" style="display:none">
            <div class="card col-12">
                <div class="card-header">
                    <h3 class="card-title">ğŸ”¬ Research Tools</h3>
                </div>
                <p style="color:var(--text-secondary);padding:1rem">Citation networks, author analysis, trend detection
                    - coming soon...</p>
            </div>
        </div>

        <!-- Chat Tab -->
        <div class="grid" id="tab-chat" style="display:none">
            <div class="card col-8">
                <div class="card-header">
                    <h3 class="card-title">ğŸ¤– AI Research Assistant</h3>
                </div>
                <div class="chat-messages" id="chat-messages">
                    <div class="chat-message assistant">ğŸ‘‹ Hi! I'm JARVIS. Ask me anything about research!</div>
                </div>
                <div class="chat-input-area">
                    <input type="text" class="search-input" id="chat-input" placeholder="Ask me anything..."
                        onkeypress="if(event.key==='Enter')sendChat()">
                    <button class="btn" onclick="sendChat()">Send</button>
                </div>
            </div>
            <div class="card col-4">
                <div class="card-header">
                    <h3 class="card-title">ğŸ’¡ Suggested</h3>
                </div>
                <div style="display:flex;flex-direction:column;gap:0.5rem">
                    <button class="nav-btn" onclick="askQuestion('Summarize COVID-19 research')">Summarize
                        COVID</button>
                    <button class="nav-btn" onclick="askQuestion('AI healthcare trends')">AI trends</button>
                    <button class="nav-btn" onclick="askQuestion('ML paper recommendations')">ML papers</button>
                </div>
            </div>
        </div>

        <!-- Settings Tab -->
        <div class="grid" id="tab-settings" style="display:none">
            <div class="card col-6">
                <div class="card-header">
                    <h3 class="card-title">âš™ï¸ Settings</h3>
                </div>
                <div style="display:flex;flex-direction:column;gap:1rem">
                    <label style="display:flex;justify-content:space-between"><span>Dark Mode</span><input
                            type="checkbox" checked onchange="toggleTheme()"></label>
                    <label style="display:flex;justify-content:space-between"><span>Notifications</span><input
                            type="checkbox" checked></label>
                    <label style="display:flex;justify-content:space-between"><span>Auto-sync</span><input
                            type="checkbox" checked></label>
                </div>
            </div>
            <div class="card col-6">
                <div class="card-header">
                    <h3 class="card-title">ğŸ”— Integrations</h3>
                </div>
                <div style="display:flex;flex-direction:column;gap:0.75rem">
                    <div
                        style="display:flex;justify-content:space-between;align-items:center;padding:0.5rem;background:var(--bg-glass);border-radius:8px">
                        <span>ğŸ“± Slack</span><button class="nav-btn">Connect</button></div>
                    <div
                        style="display:flex;justify-content:space-between;align-items:center;padding:0.5rem;background:var(--bg-glass);border-radius:8px">
                        <span>ğŸ“ Notion</span><button class="nav-btn">Connect</button></div>
                    <div
                        style="display:flex;justify-content:space-between;align-items:center;padding:0.5rem;background:var(--bg-glass);border-radius:8px">
                        <span>ğŸ™ GitHub</span><span style="color:var(--accent-green)">âœ“ Connected</span></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Shortcuts Modal -->
    <div class="modal" id="shortcuts-modal">
        <div class="modal-content glass">
            <div class="card-header">
                <h3 class="card-title">âŒ¨ï¸ Keyboard Shortcuts</h3><button class="icon-btn"
                    onclick="hideShortcuts()">âœ•</button>
            </div>
            <div class="shortcut-item"><span>Search</span><span class="key">Ctrl+K</span></div>
            <div class="shortcut-item"><span>Run Search</span><span class="key">Ctrl+Enter</span></div>
            <div class="shortcut-item"><span>Dashboard</span><span class="key">1</span></div>
            <div class="shortcut-item"><span>Research</span><span class="key">2</span></div>
            <div class="shortcut-item"><span>Chat</span><span class="key">3</span></div>
            <div class="shortcut-item"><span>Settings</span><span class="key">4</span></div>
            <div class="shortcut-item"><span>Toggle Theme</span><span class="key">T</span></div>
            <div class="shortcut-item"><span>Show Shortcuts</span><span class="key">?</span></div>
        </div>
    </div>

    <footer class="footer">
        <p>JARVIS Research OS v4.4.0 | <a href="https://github.com/kaneko-ai/jarvis-ml-pipeline">GitHub</a> | <a
                href="api.html">API</a></p>
        <p>Â© 2024 kaneko-ai | Built with ğŸ’œ</p>
    </footer>

    <script src="jarvis.js"></script>
</body>

</html>